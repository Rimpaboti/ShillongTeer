/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/app/admin/wallet/page";
exports.ids = ["app/app/admin/wallet/page"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapp%2Fadmin%2Fwallet%2Fpage&page=%2Fapp%2Fadmin%2Fwallet%2Fpage&appPaths=%2Fapp%2Fadmin%2Fwallet%2Fpage&pagePath=private-next-app-dir%2Fapp%2Fadmin%2Fwallet%2Fpage.js&appDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapp%2Fadmin%2Fwallet%2Fpage&page=%2Fapp%2Fadmin%2Fwallet%2Fpage&appPaths=%2Fapp%2Fadmin%2Fwallet%2Fpage&pagePath=private-next-app-dir%2Fapp%2Fadmin%2Fwallet%2Fpage.js&appDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/module.compiled.js?cc4a\");\n/* harmony import */ var next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/app-render/interop-default */ \"(rsc)/./node_modules/next/dist/server/app-render/interop-default.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/experimental/ppr */ \"(rsc)/./node_modules/next/dist/server/lib/experimental/ppr.js\");\n/* harmony import */ var next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/request/fallback-params */ \"(rsc)/./node_modules/next/dist/server/request/fallback-params.js\");\n/* harmony import */ var next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/app-render/encryption-utils */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption-utils.js\");\n/* harmony import */ var next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/lib/streaming-metadata */ \"(rsc)/./node_modules/next/dist/server/lib/streaming-metadata.js\");\n/* harmony import */ var next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/app-render/action-utils */ \"(rsc)/./node_modules/next/dist/server/app-render/action-utils.js\");\n/* harmony import */ var next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/server/lib/server-action-request-meta */ \"(rsc)/./node_modules/next/dist/server/lib/server-action-request-meta.js\");\n/* harmony import */ var next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/client/components/app-router-headers */ \"(rsc)/./node_modules/next/dist/client/components/app-router-headers.js\");\n/* harmony import */ var next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/is-bot */ \"next/dist/shared/lib/router/utils/is-bot\");\n/* harmony import */ var next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! next/dist/lib/fallback */ \"(rsc)/./node_modules/next/dist/lib/fallback.js\");\n/* harmony import */ var next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! next/dist/server/render-result */ \"(rsc)/./node_modules/next/dist/server/render-result.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! next/dist/server/stream-utils/encoded-tags */ \"(rsc)/./node_modules/next/dist/server/stream-utils/encoded-tags.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! next/dist/server/send-payload */ \"(rsc)/./node_modules/next/dist/server/send-payload.js\");\n/* harmony import */ var next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\");\n/* harmony import */ var next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! next/dist/client/components/redirect-status-code */ \"(rsc)/./node_modules/next/dist/client/components/redirect-status-code.js\");\n/* harmony import */ var next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"__next_app__\",\"routeModule\",\"handler\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nconst module0 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.js */ \"(rsc)/./src/app/layout.js\"));\nconst module1 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\nconst module2 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/not-found.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/not-found.js\", 23));\nconst module3 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/forbidden.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/forbidden.js\", 23));\nconst module4 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/builtin/unauthorized.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/unauthorized.js\", 23));\nconst page5 = () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/app/admin/wallet/page.js */ \"(rsc)/./src/app/app/admin/wallet/page.js\"));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'app',\n        {\n        children: [\n        'admin',\n        {\n        children: [\n        'wallet',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page5, \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      },\n        {\n        'layout': [module0, \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\layout.js\"],\n'global-error': [module1, \"next/dist/client/components/builtin/global-error.js\"],\n'not-found': [module2, \"next/dist/client/components/builtin/not-found.js\"],\n'forbidden': [module3, \"next/dist/client/components/builtin/forbidden.js\"],\n'unauthorized': [module4, \"next/dist/client/components/builtin/unauthorized.js\"],\n        metadata: {\n    icon: [(async (props) => (await Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\"))).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      }.children;\nconst pages = [\"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\"];\n\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/app/admin/wallet/page\",\n        pathname: \"/app/admin/wallet\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    var _this;\n    let srcPage = \"/app/admin/wallet/page\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const initialPostponed = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'postponed');\n    // TODO: replace with more specific flags\n    const minimalMode = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'minimalMode');\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, query, params, parsedUrl, pageIsDynamic, buildManifest, nextFontManifest, reactLoadableManifest, serverActionsManifest, clientReferenceManifest, subresourceIntegrityManifest, prerenderManifest, isDraftMode, resolvedPathname, revalidateOnlyGenerated, routerServerContext, nextConfig } = prepareResult;\n    const pathname = parsedUrl.pathname || '/';\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_13__.normalizeAppPath)(srcPage);\n    let { isOnDemandRevalidate } = prepareResult;\n    const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n    const isPrerendered = prerenderManifest.routes[resolvedPathname];\n    let isSSG = Boolean(prerenderInfo || isPrerendered || prerenderManifest.routes[normalizedSrcPage]);\n    const userAgent = req.headers['user-agent'] || '';\n    const botType = (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__.getBotType)(userAgent);\n    const isHtmlBot = (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_11__.isHtmlBotRequest)(req);\n    /**\n   * If true, this indicates that the request being made is for an app\n   * prefetch request.\n   */ const isPrefetchRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isPrefetchRSCRequest') ?? Boolean(req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_ROUTER_PREFETCH_HEADER]);\n    // NOTE: Don't delete headers[RSC] yet, it still needs to be used in renderToHTML later\n    const isRSCRequest = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'isRSCRequest') ?? Boolean(req.headers[next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.RSC_HEADER]);\n    const isPossibleServerAction = (0,next_dist_server_lib_server_action_request_meta__WEBPACK_IMPORTED_MODULE_14__.getIsPossibleServerAction)(req);\n    /**\n   * If the route being rendered is an app page, and the ppr feature has been\n   * enabled, then the given route _could_ support PPR.\n   */ const couldSupportPPR = (0,next_dist_server_lib_experimental_ppr__WEBPACK_IMPORTED_MODULE_8__.checkIsAppPPREnabled)(nextConfig.experimental.ppr);\n    // When enabled, this will allow the use of the `?__nextppronly` query to\n    // enable debugging of the static shell.\n    const hasDebugStaticShellQuery =  false && 0;\n    // When enabled, this will allow the use of the `?__nextppronly` query\n    // to enable debugging of the fallback shell.\n    const hasDebugFallbackShellQuery = hasDebugStaticShellQuery && query.__nextppronly === 'fallback';\n    // This page supports PPR if it is marked as being `PARTIALLY_STATIC` in the\n    // prerender manifest and this is an app page.\n    const isRoutePPREnabled = couldSupportPPR && (((_this = prerenderManifest.routes[normalizedSrcPage] ?? prerenderManifest.dynamicRoutes[normalizedSrcPage]) == null ? void 0 : _this.renderingMode) === 'PARTIALLY_STATIC' || // Ideally we'd want to check the appConfig to see if this page has PPR\n    // enabled or not, but that would require plumbing the appConfig through\n    // to the server during development. We assume that the page supports it\n    // but only during development.\n    hasDebugStaticShellQuery && (routeModule.isDev === true || (routerServerContext == null ? void 0 : routerServerContext.experimentalTestProxy) === true));\n    const isDebugStaticShell = hasDebugStaticShellQuery && isRoutePPREnabled;\n    // We should enable debugging dynamic accesses when the static shell\n    // debugging has been enabled and we're also in development mode.\n    const isDebugDynamicAccesses = isDebugStaticShell && routeModule.isDev === true;\n    const isDebugFallbackShell = hasDebugFallbackShellQuery && isRoutePPREnabled;\n    // If we're in minimal mode, then try to get the postponed information from\n    // the request metadata. If available, use it for resuming the postponed\n    // render.\n    const minimalPostponed = isRoutePPREnabled ? initialPostponed : undefined;\n    // If PPR is enabled, and this is a RSC request (but not a prefetch), then\n    // we can use this fact to only generate the flight data for the request\n    // because we can't cache the HTML (as it's also dynamic).\n    const isDynamicRSCRequest = isRoutePPREnabled && isRSCRequest && !isPrefetchRSCRequest;\n    // Need to read this before it's stripped by stripFlightHeaders. We don't\n    // need to transfer it to the request meta because it's only read\n    // within this function; the static segment data should have already been\n    // generated, so we will always either return a static response or a 404.\n    const segmentPrefetchHeader = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'segmentPrefetchRSCRequest');\n    // TODO: investigate existing bug with shouldServeStreamingMetadata always\n    // being true for a revalidate due to modifying the base-server this.renderOpts\n    // when fixing this to correct logic it causes hydration issue since we set\n    // serveStreamingMetadata to true during export\n    let serveStreamingMetadata = !userAgent ? true : (0,next_dist_server_lib_streaming_metadata__WEBPACK_IMPORTED_MODULE_11__.shouldServeStreamingMetadata)(userAgent, nextConfig.htmlLimitedBots);\n    if (isHtmlBot && isRoutePPREnabled) {\n        isSSG = false;\n        serveStreamingMetadata = false;\n    }\n    // In development, we always want to generate dynamic HTML.\n    let supportsDynamicResponse = // If we're in development, we always support dynamic HTML, unless it's\n    // a data request, in which case we only produce static HTML.\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isSSG || // If this request has provided postponed data, it supports dynamic\n    // HTML.\n    typeof initialPostponed === 'string' || // If this is a dynamic RSC request, then this render supports dynamic\n    // HTML (it's dynamic).\n    isDynamicRSCRequest;\n    // When html bots request PPR page, perform the full dynamic rendering.\n    const shouldWaitOnAllReady = isHtmlBot && isRoutePPREnabled;\n    let ssgCacheKey = null;\n    if (!isDraftMode && isSSG && !supportsDynamicResponse && !isPossibleServerAction && !minimalPostponed && !isDynamicRSCRequest) {\n        ssgCacheKey = resolvedPathname;\n    }\n    // the staticPathKey differs from ssgCacheKey since\n    // ssgCacheKey is null in dev since we're always in \"dynamic\"\n    // mode in dev to bypass the cache, but we still need to honor\n    // dynamicParams = false in dev mode\n    let staticPathKey = ssgCacheKey;\n    if (!staticPathKey && routeModule.isDev) {\n        staticPathKey = resolvedPathname;\n    }\n    const ComponentMod = {\n        ...next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_25__,\n        tree,\n        pages,\n        GlobalError: (next_dist_client_components_builtin_global_error_js__WEBPACK_IMPORTED_MODULE_24___default()),\n        handler,\n        routeModule,\n        __next_app__\n    };\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        (0,next_dist_server_app_render_encryption_utils__WEBPACK_IMPORTED_MODULE_10__.setReferenceManifestsSingleton)({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: (0,next_dist_server_app_render_action_utils__WEBPACK_IMPORTED_MODULE_12__.createServerModuleMap)({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    try {\n        const invokeRouteModule = async (span, context)=>{\n            const nextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextRequest(req);\n            const nextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextResponse(res);\n            // TODO: adapt for putting the RDC inside the postponed data\n            // If we're in dev, and this isn't a prefetch or a server action,\n            // we should seed the resume data cache.\n            if (true) {\n                if (nextConfig.experimental.dynamicIO && !isPrefetchRSCRequest && !context.renderOpts.isPossibleServerAction) {\n                    const warmup = await routeModule.warmup(nextReq, nextRes, context);\n                    // If the warmup is successful, we should use the resume data\n                    // cache from the warmup.\n                    if (warmup.metadata.renderResumeDataCache) {\n                        context.renderOpts.renderResumeDataCache = warmup.metadata.renderResumeDataCache;\n                    }\n                }\n            }\n            return routeModule.render(nextReq, nextRes, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const doRender = async ({ span, postponed, fallbackRouteParams })=>{\n            const context = {\n                query,\n                params,\n                page: normalizedSrcPage,\n                sharedContext: {\n                    buildId\n                },\n                serverComponentsHmrCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'serverComponentsHmrCache'),\n                fallbackRouteParams,\n                renderOpts: {\n                    App: ()=>null,\n                    Document: ()=>null,\n                    pageConfig: {},\n                    ComponentMod,\n                    Component: (0,next_dist_server_app_render_interop_default__WEBPACK_IMPORTED_MODULE_6__.interopDefault)(ComponentMod),\n                    params,\n                    routeModule,\n                    page: srcPage,\n                    postponed,\n                    shouldWaitOnAllReady,\n                    serveStreamingMetadata,\n                    supportsDynamicResponse: typeof postponed === 'string' || supportsDynamicResponse,\n                    buildManifest,\n                    nextFontManifest,\n                    reactLoadableManifest,\n                    subresourceIntegrityManifest,\n                    serverActionsManifest,\n                    clientReferenceManifest,\n                    setIsrStatus: routerServerContext == null ? void 0 : routerServerContext.setIsrStatus,\n                    dir: routeModule.projectDir,\n                    isDraftMode,\n                    isRevalidate: isSSG && !postponed && !isDynamicRSCRequest,\n                    botType,\n                    isOnDemandRevalidate,\n                    isPossibleServerAction,\n                    assetPrefix: nextConfig.assetPrefix,\n                    nextConfigOutput: nextConfig.output,\n                    crossOrigin: nextConfig.crossOrigin,\n                    trailingSlash: nextConfig.trailingSlash,\n                    previewProps: prerenderManifest.preview,\n                    deploymentId: nextConfig.deploymentId,\n                    enableTainting: nextConfig.experimental.taint,\n                    htmlLimitedBots: nextConfig.htmlLimitedBots,\n                    devtoolSegmentExplorer: nextConfig.experimental.devtoolSegmentExplorer,\n                    reactMaxHeadersLength: nextConfig.reactMaxHeadersLength,\n                    multiZoneDraftMode,\n                    incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'incrementalCache'),\n                    cacheLifeProfiles: nextConfig.experimental.cacheLife,\n                    basePath: nextConfig.basePath,\n                    serverActions: nextConfig.experimental.serverActions,\n                    ...isDebugStaticShell || isDebugDynamicAccesses ? {\n                        nextExport: true,\n                        supportsDynamicResponse: false,\n                        isStaticGeneration: true,\n                        isRevalidate: true,\n                        isDebugDynamicAccesses: isDebugDynamicAccesses\n                    } : {},\n                    experimental: {\n                        isRoutePPREnabled,\n                        expireTime: nextConfig.expireTime,\n                        staleTimes: nextConfig.experimental.staleTimes,\n                        dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                        clientSegmentCache: Boolean(nextConfig.experimental.clientSegmentCache),\n                        dynamicOnHover: Boolean(nextConfig.experimental.dynamicOnHover),\n                        inlineCss: Boolean(nextConfig.experimental.inlineCss),\n                        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n                        clientTraceMetadata: nextConfig.experimental.clientTraceMetadata || []\n                    },\n                    waitUntil: ctx.waitUntil,\n                    onClose: (cb)=>{\n                        res.on('close', cb);\n                    },\n                    onAfterTaskError: ()=>{},\n                    onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext),\n                    err: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'invokeError'),\n                    dev: routeModule.isDev\n                }\n            };\n            const result = await invokeRouteModule(span, context);\n            const { metadata } = result;\n            const { cacheControl, headers = {}, // Add any fetch tags that were on the page to the response headers.\n            fetchTags: cacheTags } = metadata;\n            if (cacheTags) {\n                headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n            }\n            // Pull any fetch metrics from the render onto the request.\n            ;\n            req.fetchMetrics = metadata.fetchMetrics;\n            // we don't throw static to dynamic errors in dev as isSSG\n            // is a best guess in dev since we don't have the prerender pass\n            // to know whether the path is actually static or not\n            if (isSSG && (cacheControl == null ? void 0 : cacheControl.revalidate) === 0 && !routeModule.isDev && !isRoutePPREnabled) {\n                const staticBailoutInfo = metadata.staticBailoutInfo;\n                const err = Object.defineProperty(new Error(`Page changed from static to dynamic at runtime ${resolvedPathname}${(staticBailoutInfo == null ? void 0 : staticBailoutInfo.description) ? `, reason: ${staticBailoutInfo.description}` : ``}` + `\\nsee more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E132\",\n                    enumerable: false,\n                    configurable: true\n                });\n                if (staticBailoutInfo == null ? void 0 : staticBailoutInfo.stack) {\n                    const stack = staticBailoutInfo.stack;\n                    err.stack = err.message + stack.substring(stack.indexOf('\\n'));\n                }\n                throw err;\n            }\n            return {\n                value: {\n                    kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE,\n                    html: result,\n                    headers,\n                    rscData: metadata.flightData,\n                    postponed: metadata.postponed,\n                    status: metadata.statusCode,\n                    segmentData: metadata.segmentData\n                },\n                cacheControl\n            };\n        };\n        const responseGenerator = async ({ hasResolved, previousCacheEntry, isRevalidating, span })=>{\n            const isProduction = routeModule.isDev === false;\n            const didRespond = hasResolved || res.writableEnded;\n            // skip on-demand revalidate if cache is not present and\n            // revalidate-if-generated is set\n            if (isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry && !minimalMode) {\n                if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n                    await routerServerContext.render404(req, res);\n                } else {\n                    res.statusCode = 404;\n                    res.end('This page could not be found');\n                }\n                return null;\n            }\n            let fallbackMode;\n            if (prerenderInfo) {\n                fallbackMode = (0,next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.parseFallbackField)(prerenderInfo.fallback);\n            }\n            // When serving a bot request, we want to serve a blocking render and not\n            // the prerendered page. This ensures that the correct content is served\n            // to the bot in the head.\n            if (fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.PRERENDER && (0,next_dist_shared_lib_router_utils_is_bot__WEBPACK_IMPORTED_MODULE_16__.isBot)(userAgent)) {\n                fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER;\n            }\n            if ((previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) === -1) {\n                isOnDemandRevalidate = true;\n            }\n            // TODO: adapt for PPR\n            // only allow on-demand revalidate for fallback: true/blocking\n            // or for prerendered fallback: false paths\n            if (isOnDemandRevalidate && (fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.NOT_FOUND || previousCacheEntry)) {\n                fallbackMode = next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER;\n            }\n            if (!minimalMode && fallbackMode !== next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.BLOCKING_STATIC_RENDER && staticPathKey && !didRespond && !isDraftMode && pageIsDynamic && (isProduction || !isPrerendered)) {\n                // if the page has dynamicParams: false and this pathname wasn't\n                // prerendered trigger the no fallback handling\n                if (// In development, fall through to render to handle missing\n                // getStaticPaths.\n                (isProduction || prerenderInfo) && // When fallback isn't present, abort this render so we 404\n                fallbackMode === next_dist_lib_fallback__WEBPACK_IMPORTED_MODULE_18__.FallbackMode.NOT_FOUND) {\n                    throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_23__.NoFallbackError();\n                }\n                let fallbackResponse;\n                if (isRoutePPREnabled && !isRSCRequest) {\n                    // We use the response cache here to handle the revalidation and\n                    // management of the fallback shell.\n                    fallbackResponse = await routeModule.handleResponse({\n                        cacheKey: isProduction ? normalizedSrcPage : null,\n                        req,\n                        nextConfig,\n                        routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                        isFallback: true,\n                        prerenderManifest,\n                        isRoutePPREnabled,\n                        responseGenerator: async ()=>doRender({\n                                span,\n                                // We pass `undefined` as rendering a fallback isn't resumed\n                                // here.\n                                postponed: undefined,\n                                fallbackRouteParams: // If we're in production or we're debugging the fallback\n                                // shell then we should postpone when dynamic params are\n                                // accessed.\n                                isProduction || isDebugFallbackShell ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_9__.getFallbackRouteParams)(normalizedSrcPage) : null\n                            }),\n                        waitUntil: ctx.waitUntil\n                    });\n                    // If the fallback response was set to null, then we should return null.\n                    if (fallbackResponse === null) return null;\n                    // Otherwise, if we did get a fallback response, we should return it.\n                    if (fallbackResponse) {\n                        // Remove the cache control from the response to prevent it from being\n                        // used in the surrounding cache.\n                        delete fallbackResponse.cacheControl;\n                        return fallbackResponse;\n                    }\n                }\n            }\n            // Only requests that aren't revalidating can be resumed. If we have the\n            // minimal postponed data, then we should resume the render with it.\n            const postponed = !isOnDemandRevalidate && !isRevalidating && minimalPostponed ? minimalPostponed : undefined;\n            // When we're in minimal mode, if we're trying to debug the static shell,\n            // we should just return nothing instead of resuming the dynamic render.\n            if ((isDebugStaticShell || isDebugDynamicAccesses) && typeof postponed !== 'undefined') {\n                return {\n                    cacheControl: {\n                        revalidate: 1,\n                        expire: undefined\n                    },\n                    value: {\n                        kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.PAGES,\n                        html: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(''),\n                        pageData: {},\n                        headers: undefined,\n                        status: undefined\n                    }\n                };\n            }\n            // If this is a dynamic route with PPR enabled and the default route\n            // matches were set, then we should pass the fallback route params to\n            // the renderer as this is a fallback revalidation request.\n            const fallbackRouteParams = pageIsDynamic && isRoutePPREnabled && ((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'renderFallbackShell') || isDebugFallbackShell) ? (0,next_dist_server_request_fallback_params__WEBPACK_IMPORTED_MODULE_9__.getFallbackRouteParams)(pathname) : null;\n            // Perform the render.\n            return doRender({\n                span,\n                postponed,\n                fallbackRouteParams\n            });\n        };\n        const handleResponse = async (span)=>{\n            var _cacheEntry_value, _cachedData_headers;\n            const cacheEntry = await routeModule.handleResponse({\n                cacheKey: ssgCacheKey,\n                responseGenerator: (c)=>responseGenerator({\n                        span,\n                        ...c\n                    }),\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n                isOnDemandRevalidate,\n                isRoutePPREnabled,\n                req,\n                nextConfig,\n                prerenderManifest,\n                waitUntil: ctx.waitUntil\n            });\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            // In dev, we should not cache pages for any reason.\n            if (routeModule.isDev) {\n                res.setHeader('Cache-Control', 'no-store, must-revalidate');\n            }\n            if (!cacheEntry) {\n                if (ssgCacheKey) {\n                    // A cache entry might not be generated if a response is written\n                    // in `getInitialProps` or `getServerSideProps`, but those shouldn't\n                    // have a cache key. If we do have a cache key but we don't end up\n                    // with a cache entry, then either Next.js or the application has a\n                    // bug that needs fixing.\n                    throw Object.defineProperty(new Error('invariant: cache entry required but not generated'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E62\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                return null;\n            }\n            if (((_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant app-page handler received invalid cache entry ${(_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E707\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            const didPostpone = typeof cacheEntry.value.postponed === 'string';\n            if (isSSG && // We don't want to send a cache header for requests that contain dynamic\n            // data. If this is a Dynamic RSC request or wasn't a Prefetch RSC\n            // request, then we should set the cache header.\n            !isDynamicRSCRequest && (!didPostpone || isPrefetchRSCRequest)) {\n                if (!minimalMode) {\n                    // set x-nextjs-cache header to match the header\n                    // we set for the image-optimizer\n                    res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n                }\n                // Set a header used by the client router to signal the response is static\n                // and should respect the `static` cache staleTime value.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_IS_PRERENDER_HEADER, '1');\n            }\n            const { value: cachedData } = cacheEntry;\n            // Coerce the cache control parameter from the render.\n            let cacheControl;\n            // If this is a resume request in minimal mode it is streamed with dynamic\n            // content and should not be cached.\n            if (minimalPostponed) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (minimalMode && isRSCRequest && !isPrefetchRSCRequest && isRoutePPREnabled) {\n                cacheControl = {\n                    revalidate: 0,\n                    expire: undefined\n                };\n            } else if (!routeModule.isDev) {\n                // If this is a preview mode request, we shouldn't cache it\n                if (isDraftMode) {\n                    cacheControl = {\n                        revalidate: 0,\n                        expire: undefined\n                    };\n                } else if (!isSSG) {\n                    if (!res.getHeader('Cache-Control')) {\n                        cacheControl = {\n                            revalidate: 0,\n                            expire: undefined\n                        };\n                    }\n                } else if (cacheEntry.cacheControl) {\n                    // If the cache entry has a cache control with a revalidate value that's\n                    // a number, use it.\n                    if (typeof cacheEntry.cacheControl.revalidate === 'number') {\n                        var _cacheEntry_cacheControl;\n                        if (cacheEntry.cacheControl.revalidate < 1) {\n                            throw Object.defineProperty(new Error(`Invalid revalidate configuration provided: ${cacheEntry.cacheControl.revalidate} < 1`), \"__NEXT_ERROR_CODE\", {\n                                value: \"E22\",\n                                enumerable: false,\n                                configurable: true\n                            });\n                        }\n                        cacheControl = {\n                            revalidate: cacheEntry.cacheControl.revalidate,\n                            expire: ((_cacheEntry_cacheControl = cacheEntry.cacheControl) == null ? void 0 : _cacheEntry_cacheControl.expire) ?? nextConfig.expireTime\n                        };\n                    } else {\n                        cacheControl = {\n                            revalidate: next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.CACHE_ONE_YEAR,\n                            expire: undefined\n                        };\n                    }\n                }\n            }\n            cacheEntry.cacheControl = cacheControl;\n            if (typeof segmentPrefetchHeader === 'string' && (cachedData == null ? void 0 : cachedData.kind) === next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE && cachedData.segmentData) {\n                var _cachedData_headers1;\n                // This is a prefetch request issued by the client Segment Cache. These\n                // should never reach the application layer (lambda). We should either\n                // respond from the cache (HIT) or respond with 204 No Content (MISS).\n                // Set a header to indicate that PPR is enabled for this route. This\n                // lets the client distinguish between a regular cache miss and a cache\n                // miss due to PPR being disabled. In other contexts this header is used\n                // to indicate that the response contains dynamic data, but here we're\n                // only using it to indicate that the feature is enabled  the segment\n                // response itself contains whether the data is dynamic.\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_DID_POSTPONE_HEADER, '2');\n                // Add the cache tags header to the response if it exists and we're in\n                // minimal mode while rendering a static page.\n                const tags = (_cachedData_headers1 = cachedData.headers) == null ? void 0 : _cachedData_headers1[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n                if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                    res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER, tags);\n                }\n                const matchedSegment = cachedData.segmentData.get(segmentPrefetchHeader);\n                if (matchedSegment !== undefined) {\n                    // Cache hit\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                        req,\n                        res,\n                        type: 'rsc',\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(matchedSegment),\n                        cacheControl: cacheEntry.cacheControl\n                    });\n                }\n                // Cache miss. Either a cache entry for this route has not been generated\n                // (which technically should not be possible when PPR is enabled, because\n                // at a minimum there should always be a fallback entry) or there's no\n                // match for the requested segment. Respond with a 204 No Content. We\n                // don't bother to respond with 404, because these requests are only\n                // issued as part of a prefetch.\n                res.statusCode = 204;\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    type: 'rsc',\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(''),\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If there's a callback for `onCacheEntry`, call it with the cache entry\n            // and the revalidate options.\n            const onCacheEntry = (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'onCacheEntry');\n            if (onCacheEntry) {\n                const finished = await onCacheEntry({\n                    ...cacheEntry,\n                    // TODO: remove this when upstream doesn't\n                    // always expect this value to be \"PAGE\"\n                    value: {\n                        ...cacheEntry.value,\n                        kind: 'PAGE'\n                    }\n                }, {\n                    url: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_4__.getRequestMeta)(req, 'initURL')\n                });\n                if (finished) {\n                    // TODO: maybe we have to end the request?\n                    return null;\n                }\n            }\n            // If the request has a postponed state and it's a resume request we\n            // should error.\n            if (didPostpone && minimalPostponed) {\n                throw Object.defineProperty(new Error('Invariant: postponed state should not be present on a resume request'), \"__NEXT_ERROR_CODE\", {\n                    value: \"E396\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (cachedData.headers) {\n                const headers = {\n                    ...cachedData.headers\n                };\n                if (!minimalMode || !isSSG) {\n                    delete headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n                }\n                for (let [key, value] of Object.entries(headers)){\n                    if (typeof value === 'undefined') continue;\n                    if (Array.isArray(value)) {\n                        for (const v of value){\n                            res.appendHeader(key, v);\n                        }\n                    } else if (typeof value === 'number') {\n                        value = value.toString();\n                        res.appendHeader(key, value);\n                    } else {\n                        res.appendHeader(key, value);\n                    }\n                }\n            }\n            // Add the cache tags header to the response if it exists and we're in\n            // minimal mode while rendering a static page.\n            const tags = (_cachedData_headers = cachedData.headers) == null ? void 0 : _cachedData_headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER];\n            if (minimalMode && isSSG && tags && typeof tags === 'string') {\n                res.setHeader(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_20__.NEXT_CACHE_TAGS_HEADER, tags);\n            }\n            // If the request is a data request, then we shouldn't set the status code\n            // from the response because it should always be 200. This should be gated\n            // behind the experimental PPR flag.\n            if (cachedData.status && (!isRSCRequest || !isRoutePPREnabled)) {\n                res.statusCode = cachedData.status;\n            }\n            // Redirect information is encoded in RSC payload, so we don't need to use redirect status codes\n            if (!minimalMode && cachedData.status && next_dist_client_components_redirect_status_code__WEBPACK_IMPORTED_MODULE_26__.RedirectStatusCode[cachedData.status] && isRSCRequest) {\n                res.statusCode = 200;\n            }\n            // Mark that the request did postpone.\n            if (didPostpone) {\n                res.setHeader(next_dist_client_components_app_router_headers__WEBPACK_IMPORTED_MODULE_15__.NEXT_DID_POSTPONE_HEADER, '1');\n            }\n            // we don't go through this block when preview mode is true\n            // as preview mode is a dynamic request (bypasses cache) and doesn't\n            // generate both HTML and payloads in the same request so continue to just\n            // return the generated payload\n            if (isRSCRequest && !isDraftMode) {\n                // If this is a dynamic RSC request, then stream the response.\n                if (typeof cachedData.rscData === 'undefined') {\n                    if (cachedData.postponed) {\n                        throw Object.defineProperty(new Error('Invariant: Expected postponed to be undefined'), \"__NEXT_ERROR_CODE\", {\n                            value: \"E372\",\n                            enumerable: false,\n                            configurable: true\n                        });\n                    }\n                    return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                        req,\n                        res,\n                        type: 'rsc',\n                        generateEtags: nextConfig.generateEtags,\n                        poweredByHeader: nextConfig.poweredByHeader,\n                        result: cachedData.html,\n                        // Dynamic RSC responses cannot be cached, even if they're\n                        // configured with `force-static` because we have no way of\n                        // distinguishing between `force-static` and pages that have no\n                        // postponed state.\n                        // TODO: distinguish `force-static` from pages with no postponed state (static)\n                        cacheControl: isDynamicRSCRequest ? {\n                            revalidate: 0,\n                            expire: undefined\n                        } : cacheEntry.cacheControl\n                    });\n                }\n                // As this isn't a prefetch request, we should serve the static flight\n                // data.\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    type: 'rsc',\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: next_dist_server_render_result__WEBPACK_IMPORTED_MODULE_19__[\"default\"].fromStatic(cachedData.rscData),\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // This is a request for HTML data.\n            let body = cachedData.html;\n            // If there's no postponed state, we should just serve the HTML. This\n            // should also be the case for a resume request because it's completed\n            // as a server render (rather than a static render).\n            if (!didPostpone || minimalMode) {\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    type: 'html',\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: cacheEntry.cacheControl\n                });\n            }\n            // If we're debugging the static shell or the dynamic API accesses, we\n            // should just serve the HTML without resuming the render. The returned\n            // HTML will be the static shell so all the Dynamic API's will be used\n            // during static generation.\n            if (isDebugStaticShell || isDebugDynamicAccesses) {\n                // Since we're not resuming the render, we need to at least add the\n                // closing body and html tags to create valid HTML.\n                body.chain(new ReadableStream({\n                    start (controller) {\n                        controller.enqueue(next_dist_server_stream_utils_encoded_tags__WEBPACK_IMPORTED_MODULE_21__.ENCODED_TAGS.CLOSED.BODY_AND_HTML);\n                        controller.close();\n                    }\n                }));\n                return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                    req,\n                    res,\n                    type: 'html',\n                    generateEtags: nextConfig.generateEtags,\n                    poweredByHeader: nextConfig.poweredByHeader,\n                    result: body,\n                    cacheControl: {\n                        revalidate: 0,\n                        expire: undefined\n                    }\n                });\n            }\n            // This request has postponed, so let's create a new transformer that the\n            // dynamic data can pipe to that will attach the dynamic data to the end\n            // of the response.\n            const transformer = new TransformStream();\n            body.chain(transformer.readable);\n            // Perform the render again, but this time, provide the postponed state.\n            // We don't await because we want the result to start streaming now, and\n            // we've already chained the transformer's readable to the render result.\n            doRender({\n                span,\n                postponed: cachedData.postponed,\n                // This is a resume render, not a fallback render, so we don't need to\n                // set this.\n                fallbackRouteParams: null\n            }).then(async (result)=>{\n                var _result_value;\n                if (!result) {\n                    throw Object.defineProperty(new Error('Invariant: expected a result to be returned'), \"__NEXT_ERROR_CODE\", {\n                        value: \"E463\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                if (((_result_value = result.value) == null ? void 0 : _result_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_17__.CachedRouteKind.APP_PAGE) {\n                    var _result_value1;\n                    throw Object.defineProperty(new Error(`Invariant: expected a page response, got ${(_result_value1 = result.value) == null ? void 0 : _result_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                        value: \"E305\",\n                        enumerable: false,\n                        configurable: true\n                    });\n                }\n                // Pipe the resume result to the transformer.\n                await result.value.html.pipeTo(transformer.writable);\n            }).catch((err)=>{\n                // An error occurred during piping or preparing the render, abort\n                // the transformers writer so we can terminate the stream.\n                transformer.writable.abort(err).catch((e)=>{\n                    console.error(\"couldn't abort transformer\", e);\n                });\n            });\n            return (0,next_dist_server_send_payload__WEBPACK_IMPORTED_MODULE_22__.sendRenderResult)({\n                req,\n                res,\n                type: 'html',\n                generateEtags: nextConfig.generateEtags,\n                poweredByHeader: nextConfig.poweredByHeader,\n                result: body,\n                // We don't want to cache the response if it has postponed data because\n                // the response being sent to the client it's dynamic parts are streamed\n                // to the client on the same request.\n                cacheControl: {\n                    revalidate: 0,\n                    expire: undefined\n                }\n            });\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            return await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_5__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_3__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'render',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_2__.getRevalidateReason)({\n                    isRevalidate: isSSG,\n                    isOnDemandRevalidate\n                })\n            }, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        throw err;\n    }\n}\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcHAlMkZhZG1pbiUyRndhbGxldCUyRnBhZ2UmcGFnZT0lMkZhcHAlMkZhZG1pbiUyRndhbGxldCUyRnBhZ2UmYXBwUGF0aHM9JTJGYXBwJTJGYWRtaW4lMkZ3YWxsZXQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBwJTJGYWRtaW4lMkZ3YWxsZXQlMkZwYWdlLmpzJmFwcERpcj1FJTNBJTVDTmFnYWxhbmQlNUNnYW1saW5nJTVDbWVnYWVuZC1uZXclNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUUlM0ElNUNOYWdhbGFuZCU1Q2dhbWxpbmclNUNtZWdhZW5kLW5ldyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQixrSkFBNEY7QUFDbEgsc0JBQXNCLHVPQUF3RjtBQUM5RyxzQkFBc0IsaU9BQXFGO0FBQzNHLHNCQUFzQixpT0FBcUY7QUFDM0csc0JBQXNCLHVPQUF3RjtBQUM5RyxvQkFBb0IsZ0xBQThHO0FBR2hJO0FBR0E7QUFDMkU7QUFDTDtBQUNUO0FBQ087QUFDTztBQUNPO0FBQ1A7QUFDSztBQUNZO0FBQ1c7QUFDeEI7QUFDRjtBQUNhO0FBQ2lFO0FBQ2hGO0FBQ1g7QUFDUTtBQUNo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Q0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vZHVsZTAgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXE5hZ2FsYW5kXFxcXGdhbWxpbmdcXFxcbWVnYWVuZC1uZXdcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQuanNcIik7XG5jb25zdCBtb2R1bGUxID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIik7XG5jb25zdCBtb2R1bGUyID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9ub3QtZm91bmQuanNcIik7XG5jb25zdCBtb2R1bGUzID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9mb3JiaWRkZW4uanNcIik7XG5jb25zdCBtb2R1bGU0ID0gKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi91bmF1dGhvcml6ZWQuanNcIik7XG5jb25zdCBwYWdlNSA9ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxzcmNcXFxcYXBwXFxcXGFwcFxcXFxhZG1pblxcXFx3YWxsZXRcXFxccGFnZS5qc1wiKTtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc3NyJ1xufTtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIiB3aXRoIHtcbiAgICAndHVyYm9wYWNrLXRyYW5zaXRpb24nOiAnbmV4dC1zZXJ2ZXItdXRpbGl0eSdcbn07XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgaW50ZXJvcERlZmF1bHQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2ludGVyb3AtZGVmYXVsdFwiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IGNoZWNrSXNBcHBQUFJFbmFibGVkIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2V4cGVyaW1lbnRhbC9wcHJcIjtcbmltcG9ydCB7IGdldEZhbGxiYWNrUm91dGVQYXJhbXMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0L2ZhbGxiYWNrLXBhcmFtc1wiO1xuaW1wb3J0IHsgc2V0UmVmZXJlbmNlTWFuaWZlc3RzU2luZ2xldG9uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9lbmNyeXB0aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyBpc0h0bWxCb3RSZXF1ZXN0LCBzaG91bGRTZXJ2ZVN0cmVhbWluZ01ldGFkYXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3N0cmVhbWluZy1tZXRhZGF0YVwiO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyTW9kdWxlTWFwIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9hY3Rpb24tdXRpbHNcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgZ2V0SXNQb3NzaWJsZVNlcnZlckFjdGlvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9zZXJ2ZXItYWN0aW9uLXJlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgUlNDX0hFQURFUiwgTkVYVF9ST1VURVJfUFJFRkVUQ0hfSEVBREVSLCBORVhUX0lTX1BSRVJFTkRFUl9IRUFERVIsIE5FWFRfRElEX1BPU1RQT05FX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci1oZWFkZXJzXCI7XG5pbXBvcnQgeyBnZXRCb3RUeXBlLCBpc0JvdCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvaXMtYm90XCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0IHsgRmFsbGJhY2tNb2RlLCBwYXJzZUZhbGxiYWNrRmllbGQgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9mYWxsYmFja1wiO1xuaW1wb3J0IFJlbmRlclJlc3VsdCBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZW5kZXItcmVzdWx0XCI7XG5pbXBvcnQgeyBDQUNIRV9PTkVfWUVBUiwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRU5DT0RFRF9UQUdTIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc3RyZWFtLXV0aWxzL2VuY29kZWQtdGFnc1wiO1xuaW1wb3J0IHsgc2VuZFJlbmRlclJlc3VsdCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcGF5bG9hZFwiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnYXBwJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnYWRtaW4nLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICd3YWxsZXQnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbJ19fUEFHRV9fJywge30sIHtcbiAgICAgICAgICBwYWdlOiBbcGFnZTUsIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxzcmNcXFxcYXBwXFxcXGFwcFxcXFxhZG1pblxcXFx3YWxsZXRcXFxccGFnZS5qc1wiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBtZXRhZGF0YToge1xuICAgIGljb246IFsoYXN5bmMgKHByb3BzKSA9PiAoYXdhaXQgaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0LW1ldGFkYXRhLWltYWdlLWxvYWRlcj90eXBlPWZhdmljb24mc2VnbWVudD0mYmFzZVBhdGg9JnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMhRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxzcmNcXFxcYXBwXFxcXGZhdmljb24uaWNvP19fbmV4dF9tZXRhZGF0YV9fXCIpKS5kZWZhdWx0KHByb3BzKSldLFxuICAgIGFwcGxlOiBbXSxcbiAgICBvcGVuR3JhcGg6IFtdLFxuICAgIHR3aXR0ZXI6IFtdLFxuICAgIG1hbmlmZXN0OiB1bmRlZmluZWRcbiAgfVxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogW21vZHVsZTAsIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxzcmNcXFxcYXBwXFxcXGxheW91dC5qc1wiXSxcbidnbG9iYWwtZXJyb3InOiBbbW9kdWxlMSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi9nbG9iYWwtZXJyb3IuanNcIl0sXG4nbm90LWZvdW5kJzogW21vZHVsZTIsIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vbm90LWZvdW5kLmpzXCJdLFxuJ2ZvcmJpZGRlbic6IFttb2R1bGUzLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9idWlsdGluL2ZvcmJpZGRlbi5qc1wiXSxcbid1bmF1dGhvcml6ZWQnOiBbbW9kdWxlNCwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYnVpbHRpbi91bmF1dGhvcml6ZWQuanNcIl0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgaWNvbjogWyhhc3luYyAocHJvcHMpID0+IChhd2FpdCBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQtbWV0YWRhdGEtaW1hZ2UtbG9hZGVyP3R5cGU9ZmF2aWNvbiZzZWdtZW50PSZiYXNlUGF0aD0mcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyFFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXHNyY1xcXFxhcHBcXFxcZmF2aWNvbi5pY28/X19uZXh0X21ldGFkYXRhX19cIikpLmRlZmF1bHQocHJvcHMpKV0sXG4gICAgYXBwbGU6IFtdLFxuICAgIG9wZW5HcmFwaDogW10sXG4gICAgdHdpdHRlcjogW10sXG4gICAgbWFuaWZlc3Q6IHVuZGVmaW5lZFxuICB9XG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXHNyY1xcXFxhcHBcXFxcYXBwXFxcXGFkbWluXFxcXHdhbGxldFxcXFxwYWdlLmpzXCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmltcG9ydCBHbG9iYWxFcnJvciBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2J1aWx0aW4vZ2xvYmFsLWVycm9yLmpzXCIgd2l0aCB7XG4gICAgJ3R1cmJvcGFjay10cmFuc2l0aW9uJzogJ25leHQtc2VydmVyLXV0aWxpdHknXG59O1xuZXhwb3J0IHsgR2xvYmFsRXJyb3IgfTtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IF9fbmV4dF9hcHBfXyA9IHtcbiAgICByZXF1aXJlOiBfX25leHRfYXBwX3JlcXVpcmVfXyxcbiAgICBsb2FkQ2h1bms6IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fXG59O1xuaW1wb3J0ICogYXMgZW50cnlCYXNlIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbmltcG9ydCB7IFJlZGlyZWN0U3RhdHVzQ29kZSB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVkaXJlY3Qtc3RhdHVzLWNvZGVcIjtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiIHdpdGgge1xuICAgICd0dXJib3BhY2stdHJhbnNpdGlvbic6ICduZXh0LXNlcnZlci11dGlsaXR5J1xufTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL2FwcC9hZG1pbi93YWxsZXQvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBwL2FkbWluL3dhbGxldFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJycsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJ1xufSk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF90aGlzO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBwL2FkbWluL3dhbGxldC9wYWdlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgaW5pdGlhbFBvc3Rwb25lZCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ3Bvc3Rwb25lZCcpO1xuICAgIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBtb3JlIHNwZWNpZmljIGZsYWdzXG4gICAgY29uc3QgbWluaW1hbE1vZGUgPSBnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpO1xuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2UsXG4gICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBidWlsZElkLCBxdWVyeSwgcGFyYW1zLCBwYXJzZWRVcmwsIHBhZ2VJc0R5bmFtaWMsIGJ1aWxkTWFuaWZlc3QsIG5leHRGb250TWFuaWZlc3QsIHJlYWN0TG9hZGFibGVNYW5pZmVzdCwgc2VydmVyQWN0aW9uc01hbmlmZXN0LCBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCwgc3VicmVzb3VyY2VJbnRlZ3JpdHlNYW5pZmVzdCwgcHJlcmVuZGVyTWFuaWZlc3QsIGlzRHJhZnRNb2RlLCByZXNvbHZlZFBhdGhuYW1lLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcm91dGVyU2VydmVyQ29udGV4dCwgbmV4dENvbmZpZyB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBwYXRobmFtZSA9IHBhcnNlZFVybC5wYXRobmFtZSB8fCAnLyc7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCB7IGlzT25EZW1hbmRSZXZhbGlkYXRlIH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdO1xuICAgIGxldCBpc1NTRyA9IEJvb2xlYW4ocHJlcmVuZGVySW5mbyB8fCBpc1ByZXJlbmRlcmVkIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0pO1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J10gfHwgJyc7XG4gICAgY29uc3QgYm90VHlwZSA9IGdldEJvdFR5cGUodXNlckFnZW50KTtcbiAgICBjb25zdCBpc0h0bWxCb3QgPSBpc0h0bWxCb3RSZXF1ZXN0KHJlcSk7XG4gICAgLyoqXG4gICAqIElmIHRydWUsIHRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIHJlcXVlc3QgYmVpbmcgbWFkZSBpcyBmb3IgYW4gYXBwXG4gICAqIHByZWZldGNoIHJlcXVlc3QuXG4gICAqLyBjb25zdCBpc1ByZWZldGNoUlNDUmVxdWVzdCA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2lzUHJlZmV0Y2hSU0NSZXF1ZXN0JykgPz8gQm9vbGVhbihyZXEuaGVhZGVyc1tORVhUX1JPVVRFUl9QUkVGRVRDSF9IRUFERVJdKTtcbiAgICAvLyBOT1RFOiBEb24ndCBkZWxldGUgaGVhZGVyc1tSU0NdIHlldCwgaXQgc3RpbGwgbmVlZHMgdG8gYmUgdXNlZCBpbiByZW5kZXJUb0hUTUwgbGF0ZXJcbiAgICBjb25zdCBpc1JTQ1JlcXVlc3QgPSBnZXRSZXF1ZXN0TWV0YShyZXEsICdpc1JTQ1JlcXVlc3QnKSA/PyBCb29sZWFuKHJlcS5oZWFkZXJzW1JTQ19IRUFERVJdKTtcbiAgICBjb25zdCBpc1Bvc3NpYmxlU2VydmVyQWN0aW9uID0gZ2V0SXNQb3NzaWJsZVNlcnZlckFjdGlvbihyZXEpO1xuICAgIC8qKlxuICAgKiBJZiB0aGUgcm91dGUgYmVpbmcgcmVuZGVyZWQgaXMgYW4gYXBwIHBhZ2UsIGFuZCB0aGUgcHByIGZlYXR1cmUgaGFzIGJlZW5cbiAgICogZW5hYmxlZCwgdGhlbiB0aGUgZ2l2ZW4gcm91dGUgX2NvdWxkXyBzdXBwb3J0IFBQUi5cbiAgICovIGNvbnN0IGNvdWxkU3VwcG9ydFBQUiA9IGNoZWNrSXNBcHBQUFJFbmFibGVkKG5leHRDb25maWcuZXhwZXJpbWVudGFsLnBwcik7XG4gICAgLy8gV2hlbiBlbmFibGVkLCB0aGlzIHdpbGwgYWxsb3cgdGhlIHVzZSBvZiB0aGUgYD9fX25leHRwcHJvbmx5YCBxdWVyeSB0b1xuICAgIC8vIGVuYWJsZSBkZWJ1Z2dpbmcgb2YgdGhlIHN0YXRpYyBzaGVsbC5cbiAgICBjb25zdCBoYXNEZWJ1Z1N0YXRpY1NoZWxsUXVlcnkgPSBwcm9jZXNzLmVudi5fX05FWFRfRVhQRVJJTUVOVEFMX1NUQVRJQ19TSEVMTF9ERUJVR0dJTkcgPT09ICcxJyAmJiB0eXBlb2YgcXVlcnkuX19uZXh0cHByb25seSAhPT0gJ3VuZGVmaW5lZCcgJiYgY291bGRTdXBwb3J0UFBSO1xuICAgIC8vIFdoZW4gZW5hYmxlZCwgdGhpcyB3aWxsIGFsbG93IHRoZSB1c2Ugb2YgdGhlIGA/X19uZXh0cHByb25seWAgcXVlcnlcbiAgICAvLyB0byBlbmFibGUgZGVidWdnaW5nIG9mIHRoZSBmYWxsYmFjayBzaGVsbC5cbiAgICBjb25zdCBoYXNEZWJ1Z0ZhbGxiYWNrU2hlbGxRdWVyeSA9IGhhc0RlYnVnU3RhdGljU2hlbGxRdWVyeSAmJiBxdWVyeS5fX25leHRwcHJvbmx5ID09PSAnZmFsbGJhY2snO1xuICAgIC8vIFRoaXMgcGFnZSBzdXBwb3J0cyBQUFIgaWYgaXQgaXMgbWFya2VkIGFzIGJlaW5nIGBQQVJUSUFMTFlfU1RBVElDYCBpbiB0aGVcbiAgICAvLyBwcmVyZW5kZXIgbWFuaWZlc3QgYW5kIHRoaXMgaXMgYW4gYXBwIHBhZ2UuXG4gICAgY29uc3QgaXNSb3V0ZVBQUkVuYWJsZWQgPSBjb3VsZFN1cHBvcnRQUFIgJiYgKCgoX3RoaXMgPSBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdID8/IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMucmVuZGVyaW5nTW9kZSkgPT09ICdQQVJUSUFMTFlfU1RBVElDJyB8fCAvLyBJZGVhbGx5IHdlJ2Qgd2FudCB0byBjaGVjayB0aGUgYXBwQ29uZmlnIHRvIHNlZSBpZiB0aGlzIHBhZ2UgaGFzIFBQUlxuICAgIC8vIGVuYWJsZWQgb3Igbm90LCBidXQgdGhhdCB3b3VsZCByZXF1aXJlIHBsdW1iaW5nIHRoZSBhcHBDb25maWcgdGhyb3VnaFxuICAgIC8vIHRvIHRoZSBzZXJ2ZXIgZHVyaW5nIGRldmVsb3BtZW50LiBXZSBhc3N1bWUgdGhhdCB0aGUgcGFnZSBzdXBwb3J0cyBpdFxuICAgIC8vIGJ1dCBvbmx5IGR1cmluZyBkZXZlbG9wbWVudC5cbiAgICBoYXNEZWJ1Z1N0YXRpY1NoZWxsUXVlcnkgJiYgKHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IChyb3V0ZXJTZXJ2ZXJDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXJTZXJ2ZXJDb250ZXh0LmV4cGVyaW1lbnRhbFRlc3RQcm94eSkgPT09IHRydWUpKTtcbiAgICBjb25zdCBpc0RlYnVnU3RhdGljU2hlbGwgPSBoYXNEZWJ1Z1N0YXRpY1NoZWxsUXVlcnkgJiYgaXNSb3V0ZVBQUkVuYWJsZWQ7XG4gICAgLy8gV2Ugc2hvdWxkIGVuYWJsZSBkZWJ1Z2dpbmcgZHluYW1pYyBhY2Nlc3NlcyB3aGVuIHRoZSBzdGF0aWMgc2hlbGxcbiAgICAvLyBkZWJ1Z2dpbmcgaGFzIGJlZW4gZW5hYmxlZCBhbmQgd2UncmUgYWxzbyBpbiBkZXZlbG9wbWVudCBtb2RlLlxuICAgIGNvbnN0IGlzRGVidWdEeW5hbWljQWNjZXNzZXMgPSBpc0RlYnVnU3RhdGljU2hlbGwgJiYgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWU7XG4gICAgY29uc3QgaXNEZWJ1Z0ZhbGxiYWNrU2hlbGwgPSBoYXNEZWJ1Z0ZhbGxiYWNrU2hlbGxRdWVyeSAmJiBpc1JvdXRlUFBSRW5hYmxlZDtcbiAgICAvLyBJZiB3ZSdyZSBpbiBtaW5pbWFsIG1vZGUsIHRoZW4gdHJ5IHRvIGdldCB0aGUgcG9zdHBvbmVkIGluZm9ybWF0aW9uIGZyb21cbiAgICAvLyB0aGUgcmVxdWVzdCBtZXRhZGF0YS4gSWYgYXZhaWxhYmxlLCB1c2UgaXQgZm9yIHJlc3VtaW5nIHRoZSBwb3N0cG9uZWRcbiAgICAvLyByZW5kZXIuXG4gICAgY29uc3QgbWluaW1hbFBvc3Rwb25lZCA9IGlzUm91dGVQUFJFbmFibGVkID8gaW5pdGlhbFBvc3Rwb25lZCA6IHVuZGVmaW5lZDtcbiAgICAvLyBJZiBQUFIgaXMgZW5hYmxlZCwgYW5kIHRoaXMgaXMgYSBSU0MgcmVxdWVzdCAoYnV0IG5vdCBhIHByZWZldGNoKSwgdGhlblxuICAgIC8vIHdlIGNhbiB1c2UgdGhpcyBmYWN0IHRvIG9ubHkgZ2VuZXJhdGUgdGhlIGZsaWdodCBkYXRhIGZvciB0aGUgcmVxdWVzdFxuICAgIC8vIGJlY2F1c2Ugd2UgY2FuJ3QgY2FjaGUgdGhlIEhUTUwgKGFzIGl0J3MgYWxzbyBkeW5hbWljKS5cbiAgICBjb25zdCBpc0R5bmFtaWNSU0NSZXF1ZXN0ID0gaXNSb3V0ZVBQUkVuYWJsZWQgJiYgaXNSU0NSZXF1ZXN0ICYmICFpc1ByZWZldGNoUlNDUmVxdWVzdDtcbiAgICAvLyBOZWVkIHRvIHJlYWQgdGhpcyBiZWZvcmUgaXQncyBzdHJpcHBlZCBieSBzdHJpcEZsaWdodEhlYWRlcnMuIFdlIGRvbid0XG4gICAgLy8gbmVlZCB0byB0cmFuc2ZlciBpdCB0byB0aGUgcmVxdWVzdCBtZXRhIGJlY2F1c2UgaXQncyBvbmx5IHJlYWRcbiAgICAvLyB3aXRoaW4gdGhpcyBmdW5jdGlvbjsgdGhlIHN0YXRpYyBzZWdtZW50IGRhdGEgc2hvdWxkIGhhdmUgYWxyZWFkeSBiZWVuXG4gICAgLy8gZ2VuZXJhdGVkLCBzbyB3ZSB3aWxsIGFsd2F5cyBlaXRoZXIgcmV0dXJuIGEgc3RhdGljIHJlc3BvbnNlIG9yIGEgNDA0LlxuICAgIGNvbnN0IHNlZ21lbnRQcmVmZXRjaEhlYWRlciA9IGdldFJlcXVlc3RNZXRhKHJlcSwgJ3NlZ21lbnRQcmVmZXRjaFJTQ1JlcXVlc3QnKTtcbiAgICAvLyBUT0RPOiBpbnZlc3RpZ2F0ZSBleGlzdGluZyBidWcgd2l0aCBzaG91bGRTZXJ2ZVN0cmVhbWluZ01ldGFkYXRhIGFsd2F5c1xuICAgIC8vIGJlaW5nIHRydWUgZm9yIGEgcmV2YWxpZGF0ZSBkdWUgdG8gbW9kaWZ5aW5nIHRoZSBiYXNlLXNlcnZlciB0aGlzLnJlbmRlck9wdHNcbiAgICAvLyB3aGVuIGZpeGluZyB0aGlzIHRvIGNvcnJlY3QgbG9naWMgaXQgY2F1c2VzIGh5ZHJhdGlvbiBpc3N1ZSBzaW5jZSB3ZSBzZXRcbiAgICAvLyBzZXJ2ZVN0cmVhbWluZ01ldGFkYXRhIHRvIHRydWUgZHVyaW5nIGV4cG9ydFxuICAgIGxldCBzZXJ2ZVN0cmVhbWluZ01ldGFkYXRhID0gIXVzZXJBZ2VudCA/IHRydWUgOiBzaG91bGRTZXJ2ZVN0cmVhbWluZ01ldGFkYXRhKHVzZXJBZ2VudCwgbmV4dENvbmZpZy5odG1sTGltaXRlZEJvdHMpO1xuICAgIGlmIChpc0h0bWxCb3QgJiYgaXNSb3V0ZVBQUkVuYWJsZWQpIHtcbiAgICAgICAgaXNTU0cgPSBmYWxzZTtcbiAgICAgICAgc2VydmVTdHJlYW1pbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHdhbnQgdG8gZ2VuZXJhdGUgZHluYW1pYyBIVE1MLlxuICAgIGxldCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUwsIHVubGVzcyBpdCdzXG4gICAgLy8gYSBkYXRhIHJlcXVlc3QsIGluIHdoaWNoIGNhc2Ugd2Ugb25seSBwcm9kdWNlIHN0YXRpYyBIVE1MLlxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNTU0cgfHwgLy8gSWYgdGhpcyByZXF1ZXN0IGhhcyBwcm92aWRlZCBwb3N0cG9uZWQgZGF0YSwgaXQgc3VwcG9ydHMgZHluYW1pY1xuICAgIC8vIEhUTUwuXG4gICAgdHlwZW9mIGluaXRpYWxQb3N0cG9uZWQgPT09ICdzdHJpbmcnIHx8IC8vIElmIHRoaXMgaXMgYSBkeW5hbWljIFJTQyByZXF1ZXN0LCB0aGVuIHRoaXMgcmVuZGVyIHN1cHBvcnRzIGR5bmFtaWNcbiAgICAvLyBIVE1MIChpdCdzIGR5bmFtaWMpLlxuICAgIGlzRHluYW1pY1JTQ1JlcXVlc3Q7XG4gICAgLy8gV2hlbiBodG1sIGJvdHMgcmVxdWVzdCBQUFIgcGFnZSwgcGVyZm9ybSB0aGUgZnVsbCBkeW5hbWljIHJlbmRlcmluZy5cbiAgICBjb25zdCBzaG91bGRXYWl0T25BbGxSZWFkeSA9IGlzSHRtbEJvdCAmJiBpc1JvdXRlUFBSRW5hYmxlZDtcbiAgICBsZXQgc3NnQ2FjaGVLZXkgPSBudWxsO1xuICAgIGlmICghaXNEcmFmdE1vZGUgJiYgaXNTU0cgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlICYmICFpc1Bvc3NpYmxlU2VydmVyQWN0aW9uICYmICFtaW5pbWFsUG9zdHBvbmVkICYmICFpc0R5bmFtaWNSU0NSZXF1ZXN0KSB7XG4gICAgICAgIHNzZ0NhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICB9XG4gICAgLy8gdGhlIHN0YXRpY1BhdGhLZXkgZGlmZmVycyBmcm9tIHNzZ0NhY2hlS2V5IHNpbmNlXG4gICAgLy8gc3NnQ2FjaGVLZXkgaXMgbnVsbCBpbiBkZXYgc2luY2Ugd2UncmUgYWx3YXlzIGluIFwiZHluYW1pY1wiXG4gICAgLy8gbW9kZSBpbiBkZXYgdG8gYnlwYXNzIHRoZSBjYWNoZSwgYnV0IHdlIHN0aWxsIG5lZWQgdG8gaG9ub3JcbiAgICAvLyBkeW5hbWljUGFyYW1zID0gZmFsc2UgaW4gZGV2IG1vZGVcbiAgICBsZXQgc3RhdGljUGF0aEtleSA9IHNzZ0NhY2hlS2V5O1xuICAgIGlmICghc3RhdGljUGF0aEtleSAmJiByb3V0ZU1vZHVsZS5pc0Rldikge1xuICAgICAgICBzdGF0aWNQYXRoS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICB9XG4gICAgY29uc3QgQ29tcG9uZW50TW9kID0ge1xuICAgICAgICAuLi5lbnRyeUJhc2UsXG4gICAgICAgIHRyZWUsXG4gICAgICAgIHBhZ2VzLFxuICAgICAgICBHbG9iYWxFcnJvcixcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgIF9fbmV4dF9hcHBfX1xuICAgIH07XG4gICAgLy8gQmVmb3JlIHJlbmRlcmluZyAod2hpY2ggaW5pdGlhbGl6ZXMgY29tcG9uZW50IHRyZWUgbW9kdWxlcyksIHdlIGhhdmUgdG9cbiAgICAvLyBzZXQgdGhlIHJlZmVyZW5jZSBtYW5pZmVzdHMgdG8gb3VyIGdsb2JhbCBzdG9yZSBzbyBTZXJ2ZXIgQWN0aW9uJ3NcbiAgICAvLyBlbmNyeXB0aW9uIHV0aWwgY2FuIGFjY2VzcyB0byB0aGVtIGF0IHRoZSB0b3AgbGV2ZWwgb2YgdGhlIHBhZ2UgbW9kdWxlLlxuICAgIGlmIChzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QgJiYgY2xpZW50UmVmZXJlbmNlTWFuaWZlc3QpIHtcbiAgICAgICAgc2V0UmVmZXJlbmNlTWFuaWZlc3RzU2luZ2xldG9uKHtcbiAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCxcbiAgICAgICAgICAgIHNlcnZlckFjdGlvbnNNYW5pZmVzdCxcbiAgICAgICAgICAgIHNlcnZlck1vZHVsZU1hcDogY3JlYXRlU2VydmVyTW9kdWxlTWFwKHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3RcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3BhbiwgY29udGV4dCk9PntcbiAgICAgICAgICAgIGNvbnN0IG5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkYXB0IGZvciBwdXR0aW5nIHRoZSBSREMgaW5zaWRlIHRoZSBwb3N0cG9uZWQgZGF0YVxuICAgICAgICAgICAgLy8gSWYgd2UncmUgaW4gZGV2LCBhbmQgdGhpcyBpc24ndCBhIHByZWZldGNoIG9yIGEgc2VydmVyIGFjdGlvbixcbiAgICAgICAgICAgIC8vIHdlIHNob3VsZCBzZWVkIHRoZSByZXN1bWUgZGF0YSBjYWNoZS5cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5keW5hbWljSU8gJiYgIWlzUHJlZmV0Y2hSU0NSZXF1ZXN0ICYmICFjb250ZXh0LnJlbmRlck9wdHMuaXNQb3NzaWJsZVNlcnZlckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXJtdXAgPSBhd2FpdCByb3V0ZU1vZHVsZS53YXJtdXAobmV4dFJlcSwgbmV4dFJlcywgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB3YXJtdXAgaXMgc3VjY2Vzc2Z1bCwgd2Ugc2hvdWxkIHVzZSB0aGUgcmVzdW1lIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FjaGUgZnJvbSB0aGUgd2FybXVwLlxuICAgICAgICAgICAgICAgICAgICBpZiAod2FybXVwLm1ldGFkYXRhLnJlbmRlclJlc3VtZURhdGFDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW5kZXJPcHRzLnJlbmRlclJlc3VtZURhdGFDYWNoZSA9IHdhcm11cC5tZXRhZGF0YS5yZW5kZXJSZXN1bWVEYXRhQ2FjaGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUucmVuZGVyKG5leHRSZXEsIG5leHRSZXMsIGNvbnRleHQpLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZG9SZW5kZXIgPSBhc3luYyAoeyBzcGFuLCBwb3N0cG9uZWQsIGZhbGxiYWNrUm91dGVQYXJhbXMgfSk9PntcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHBhZ2U6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50c0htckNhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdzZXJ2ZXJDb21wb25lbnRzSG1yQ2FjaGUnKSxcbiAgICAgICAgICAgICAgICBmYWxsYmFja1JvdXRlUGFyYW1zLFxuICAgICAgICAgICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXBwOiAoKT0+bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnQ6ICgpPT5udWxsLFxuICAgICAgICAgICAgICAgICAgICBwYWdlQ29uZmlnOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgQ29tcG9uZW50TW9kLFxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnQ6IGludGVyb3BEZWZhdWx0KENvbXBvbmVudE1vZCksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkV2FpdE9uQWxsUmVhZHksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlU3RyZWFtaW5nTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiB0eXBlb2YgcG9zdHBvbmVkID09PSAnc3RyaW5nJyB8fCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dEZvbnRNYW5pZmVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RMb2FkYWJsZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzdWJyZXNvdXJjZUludGVncml0eU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0LFxuICAgICAgICAgICAgICAgICAgICBzZXRJc3JTdGF0dXM6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQuc2V0SXNyU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBkaXI6IHJvdXRlTW9kdWxlLnByb2plY3REaXIsXG4gICAgICAgICAgICAgICAgICAgIGlzRHJhZnRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGU6IGlzU1NHICYmICFwb3N0cG9uZWQgJiYgIWlzRHluYW1pY1JTQ1JlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIGJvdFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc1Bvc3NpYmxlU2VydmVyQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhc3NldFByZWZpeDogbmV4dENvbmZpZy5hc3NldFByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dENvbmZpZ091dHB1dDogbmV4dENvbmZpZy5vdXRwdXQsXG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBuZXh0Q29uZmlnLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICB0cmFpbGluZ1NsYXNoOiBuZXh0Q29uZmlnLnRyYWlsaW5nU2xhc2gsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdQcm9wczogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldyxcbiAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudElkOiBuZXh0Q29uZmlnLmRlcGxveW1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlVGFpbnRpbmc6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnRhaW50LFxuICAgICAgICAgICAgICAgICAgICBodG1sTGltaXRlZEJvdHM6IG5leHRDb25maWcuaHRtbExpbWl0ZWRCb3RzLFxuICAgICAgICAgICAgICAgICAgICBkZXZ0b29sU2VnbWVudEV4cGxvcmVyOiBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5kZXZ0b29sU2VnbWVudEV4cGxvcmVyLFxuICAgICAgICAgICAgICAgICAgICByZWFjdE1heEhlYWRlcnNMZW5ndGg6IG5leHRDb25maWcucmVhY3RNYXhIZWFkZXJzTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudGFsQ2FjaGU6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2luY3JlbWVudGFsQ2FjaGUnKSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGg6IG5leHRDb25maWcuYmFzZVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckFjdGlvbnM6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLnNlcnZlckFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIC4uLmlzRGVidWdTdGF0aWNTaGVsbCB8fCBpc0RlYnVnRHluYW1pY0FjY2Vzc2VzID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEV4cG9ydDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhdGljR2VuZXJhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVidWdEeW5hbWljQWNjZXNzZXM6IGlzRGVidWdEeW5hbWljQWNjZXNzZXNcbiAgICAgICAgICAgICAgICAgICAgfSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlVGltZTogbmV4dENvbmZpZy5leHBpcmVUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhbGVUaW1lczogbmV4dENvbmZpZy5leHBlcmltZW50YWwuc3RhbGVUaW1lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNJTzogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5keW5hbWljSU8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50U2VnbWVudENhY2hlOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNsaWVudFNlZ21lbnRDYWNoZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljT25Ib3ZlcjogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5keW5hbWljT25Ib3ZlciksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVDc3M6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuaW5saW5lQ3NzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudFRyYWNlTWV0YWRhdGE6IG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNsaWVudFRyYWNlTWV0YWRhdGEgfHwgW11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsOiBjdHgud2FpdFVudGlsLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiAoKT0+e30sXG4gICAgICAgICAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpLFxuICAgICAgICAgICAgICAgICAgICBlcnI6IGdldFJlcXVlc3RNZXRhKHJlcSwgJ2ludm9rZUVycm9yJyksXG4gICAgICAgICAgICAgICAgICAgIGRldjogcm91dGVNb2R1bGUuaXNEZXZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoc3BhbiwgY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCB7IG1ldGFkYXRhIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICBjb25zdCB7IGNhY2hlQ29udHJvbCwgaGVhZGVycyA9IHt9LCAvLyBBZGQgYW55IGZldGNoIHRhZ3MgdGhhdCB3ZXJlIG9uIHRoZSBwYWdlIHRvIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgICAgICAgICAgZmV0Y2hUYWdzOiBjYWNoZVRhZ3MgfSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdWxsIGFueSBmZXRjaCBtZXRyaWNzIGZyb20gdGhlIHJlbmRlciBvbnRvIHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IG1ldGFkYXRhLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IHRocm93IHN0YXRpYyB0byBkeW5hbWljIGVycm9ycyBpbiBkZXYgYXMgaXNTU0dcbiAgICAgICAgICAgIC8vIGlzIGEgYmVzdCBndWVzcyBpbiBkZXYgc2luY2Ugd2UgZG9uJ3QgaGF2ZSB0aGUgcHJlcmVuZGVyIHBhc3NcbiAgICAgICAgICAgIC8vIHRvIGtub3cgd2hldGhlciB0aGUgcGF0aCBpcyBhY3R1YWxseSBzdGF0aWMgb3Igbm90XG4gICAgICAgICAgICBpZiAoaXNTU0cgJiYgKGNhY2hlQ29udHJvbCA9PSBudWxsID8gdm9pZCAwIDogY2FjaGVDb250cm9sLnJldmFsaWRhdGUpID09PSAwICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNSb3V0ZVBQUkVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNCYWlsb3V0SW5mbyA9IG1ldGFkYXRhLnN0YXRpY0JhaWxvdXRJbmZvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYFBhZ2UgY2hhbmdlZCBmcm9tIHN0YXRpYyB0byBkeW5hbWljIGF0IHJ1bnRpbWUgJHtyZXNvbHZlZFBhdGhuYW1lfSR7KHN0YXRpY0JhaWxvdXRJbmZvID09IG51bGwgPyB2b2lkIDAgOiBzdGF0aWNCYWlsb3V0SW5mby5kZXNjcmlwdGlvbikgPyBgLCByZWFzb246ICR7c3RhdGljQmFpbG91dEluZm8uZGVzY3JpcHRpb259YCA6IGBgfWAgKyBgXFxuc2VlIG1vcmUgaGVyZSBodHRwczovL25leHRqcy5vcmcvZG9jcy9tZXNzYWdlcy9hcHAtc3RhdGljLXRvLWR5bmFtaWMtZXJyb3JgKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkUxMzJcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0aWNCYWlsb3V0SW5mbyA9PSBudWxsID8gdm9pZCAwIDogc3RhdGljQmFpbG91dEluZm8uc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBzdGF0aWNCYWlsb3V0SW5mby5zdGFjaztcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN0YWNrID0gZXJyLm1lc3NhZ2UgKyBzdGFjay5zdWJzdHJpbmcoc3RhY2suaW5kZXhPZignXFxuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICByc2NEYXRhOiBtZXRhZGF0YS5mbGlnaHREYXRhLFxuICAgICAgICAgICAgICAgICAgICBwb3N0cG9uZWQ6IG1ldGFkYXRhLnBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBtZXRhZGF0YS5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBzZWdtZW50RGF0YTogbWV0YWRhdGEuc2VnbWVudERhdGFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBoYXNSZXNvbHZlZCwgcHJldmlvdXNDYWNoZUVudHJ5LCBpc1JldmFsaWRhdGluZywgc3BhbiB9KT0+e1xuICAgICAgICAgICAgY29uc3QgaXNQcm9kdWN0aW9uID0gcm91dGVNb2R1bGUuaXNEZXYgPT09IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgZGlkUmVzcG9uZCA9IGhhc1Jlc29sdmVkIHx8IHJlcy53cml0YWJsZUVuZGVkO1xuICAgICAgICAgICAgLy8gc2tpcCBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBpZiBjYWNoZSBpcyBub3QgcHJlc2VudCBhbmRcbiAgICAgICAgICAgIC8vIHJldmFsaWRhdGUtaWYtZ2VuZXJhdGVkIGlzIHNldFxuICAgICAgICAgICAgaWYgKGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkgJiYgIW1pbmltYWxNb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucmVuZGVyNDA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJvdXRlclNlcnZlckNvbnRleHQucmVuZGVyNDA0KHJlcSwgcmVzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmYWxsYmFja01vZGU7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrTW9kZSA9IHBhcnNlRmFsbGJhY2tGaWVsZChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gc2VydmluZyBhIGJvdCByZXF1ZXN0LCB3ZSB3YW50IHRvIHNlcnZlIGEgYmxvY2tpbmcgcmVuZGVyIGFuZCBub3RcbiAgICAgICAgICAgIC8vIHRoZSBwcmVyZW5kZXJlZCBwYWdlLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgY29ycmVjdCBjb250ZW50IGlzIHNlcnZlZFxuICAgICAgICAgICAgLy8gdG8gdGhlIGJvdCBpbiB0aGUgaGVhZC5cbiAgICAgICAgICAgIGlmIChmYWxsYmFja01vZGUgPT09IEZhbGxiYWNrTW9kZS5QUkVSRU5ERVIgJiYgaXNCb3QodXNlckFnZW50KSkge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrTW9kZSA9IEZhbGxiYWNrTW9kZS5CTE9DS0lOR19TVEFUSUNfUkVOREVSO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUT0RPOiBhZGFwdCBmb3IgUFBSXG4gICAgICAgICAgICAvLyBvbmx5IGFsbG93IG9uLWRlbWFuZCByZXZhbGlkYXRlIGZvciBmYWxsYmFjazogdHJ1ZS9ibG9ja2luZ1xuICAgICAgICAgICAgLy8gb3IgZm9yIHByZXJlbmRlcmVkIGZhbGxiYWNrOiBmYWxzZSBwYXRoc1xuICAgICAgICAgICAgaWYgKGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIChmYWxsYmFja01vZGUgIT09IEZhbGxiYWNrTW9kZS5OT1RfRk9VTkQgfHwgcHJldmlvdXNDYWNoZUVudHJ5KSkge1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrTW9kZSA9IEZhbGxiYWNrTW9kZS5CTE9DS0lOR19TVEFUSUNfUkVOREVSO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtaW5pbWFsTW9kZSAmJiBmYWxsYmFja01vZGUgIT09IEZhbGxiYWNrTW9kZS5CTE9DS0lOR19TVEFUSUNfUkVOREVSICYmIHN0YXRpY1BhdGhLZXkgJiYgIWRpZFJlc3BvbmQgJiYgIWlzRHJhZnRNb2RlICYmIHBhZ2VJc0R5bmFtaWMgJiYgKGlzUHJvZHVjdGlvbiB8fCAhaXNQcmVyZW5kZXJlZCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcGFnZSBoYXMgZHluYW1pY1BhcmFtczogZmFsc2UgYW5kIHRoaXMgcGF0aG5hbWUgd2Fzbid0XG4gICAgICAgICAgICAgICAgLy8gcHJlcmVuZGVyZWQgdHJpZ2dlciB0aGUgbm8gZmFsbGJhY2sgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICBpZiAoLy8gSW4gZGV2ZWxvcG1lbnQsIGZhbGwgdGhyb3VnaCB0byByZW5kZXIgdG8gaGFuZGxlIG1pc3NpbmdcbiAgICAgICAgICAgICAgICAvLyBnZXRTdGF0aWNQYXRocy5cbiAgICAgICAgICAgICAgICAoaXNQcm9kdWN0aW9uIHx8IHByZXJlbmRlckluZm8pICYmIC8vIFdoZW4gZmFsbGJhY2sgaXNuJ3QgcHJlc2VudCwgYWJvcnQgdGhpcyByZW5kZXIgc28gd2UgNDA0XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tNb2RlID09PSBGYWxsYmFja01vZGUuTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGZhbGxiYWNrUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgaWYgKGlzUm91dGVQUFJFbmFibGVkICYmICFpc1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSByZXNwb25zZSBjYWNoZSBoZXJlIHRvIGhhbmRsZSB0aGUgcmV2YWxpZGF0aW9uIGFuZFxuICAgICAgICAgICAgICAgICAgICAvLyBtYW5hZ2VtZW50IG9mIHRoZSBmYWxsYmFjayBzaGVsbC5cbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tSZXNwb25zZSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlS2V5OiBpc1Byb2R1Y3Rpb24gPyBub3JtYWxpemVkU3JjUGFnZSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZhbGxiYWNrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JvdXRlUFBSRW5hYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yOiBhc3luYyAoKT0+ZG9SZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBwYXNzIGB1bmRlZmluZWRgIGFzIHJlbmRlcmluZyBhIGZhbGxiYWNrIGlzbid0IHJlc3VtZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHBvbmVkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrUm91dGVQYXJhbXM6IC8vIElmIHdlJ3JlIGluIHByb2R1Y3Rpb24gb3Igd2UncmUgZGVidWdnaW5nIHRoZSBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaGVsbCB0aGVuIHdlIHNob3VsZCBwb3N0cG9uZSB3aGVuIGR5bmFtaWMgcGFyYW1zIGFyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3NlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQcm9kdWN0aW9uIHx8IGlzRGVidWdGYWxsYmFja1NoZWxsID8gZ2V0RmFsbGJhY2tSb3V0ZVBhcmFtcyhub3JtYWxpemVkU3JjUGFnZSkgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBmYWxsYmFjayByZXNwb25zZSB3YXMgc2V0IHRvIG51bGwsIHRoZW4gd2Ugc2hvdWxkIHJldHVybiBudWxsLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tSZXNwb25zZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaWYgd2UgZGlkIGdldCBhIGZhbGxiYWNrIHJlc3BvbnNlLCB3ZSBzaG91bGQgcmV0dXJuIGl0LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFsbGJhY2tSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBjYWNoZSBjb250cm9sIGZyb20gdGhlIHJlc3BvbnNlIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlZCBpbiB0aGUgc3Vycm91bmRpbmcgY2FjaGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmFsbGJhY2tSZXNwb25zZS5jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2tSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9ubHkgcmVxdWVzdHMgdGhhdCBhcmVuJ3QgcmV2YWxpZGF0aW5nIGNhbiBiZSByZXN1bWVkLiBJZiB3ZSBoYXZlIHRoZVxuICAgICAgICAgICAgLy8gbWluaW1hbCBwb3N0cG9uZWQgZGF0YSwgdGhlbiB3ZSBzaG91bGQgcmVzdW1lIHRoZSByZW5kZXIgd2l0aCBpdC5cbiAgICAgICAgICAgIGNvbnN0IHBvc3Rwb25lZCA9ICFpc09uRGVtYW5kUmV2YWxpZGF0ZSAmJiAhaXNSZXZhbGlkYXRpbmcgJiYgbWluaW1hbFBvc3Rwb25lZCA/IG1pbmltYWxQb3N0cG9uZWQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBXaGVuIHdlJ3JlIGluIG1pbmltYWwgbW9kZSwgaWYgd2UncmUgdHJ5aW5nIHRvIGRlYnVnIHRoZSBzdGF0aWMgc2hlbGwsXG4gICAgICAgICAgICAvLyB3ZSBzaG91bGQganVzdCByZXR1cm4gbm90aGluZyBpbnN0ZWFkIG9mIHJlc3VtaW5nIHRoZSBkeW5hbWljIHJlbmRlci5cbiAgICAgICAgICAgIGlmICgoaXNEZWJ1Z1N0YXRpY1NoZWxsIHx8IGlzRGVidWdEeW5hbWljQWNjZXNzZXMpICYmIHR5cGVvZiBwb3N0cG9uZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IFJlbmRlclJlc3VsdC5mcm9tU3RhdGljKCcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGR5bmFtaWMgcm91dGUgd2l0aCBQUFIgZW5hYmxlZCBhbmQgdGhlIGRlZmF1bHQgcm91dGVcbiAgICAgICAgICAgIC8vIG1hdGNoZXMgd2VyZSBzZXQsIHRoZW4gd2Ugc2hvdWxkIHBhc3MgdGhlIGZhbGxiYWNrIHJvdXRlIHBhcmFtcyB0b1xuICAgICAgICAgICAgLy8gdGhlIHJlbmRlcmVyIGFzIHRoaXMgaXMgYSBmYWxsYmFjayByZXZhbGlkYXRpb24gcmVxdWVzdC5cbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUm91dGVQYXJhbXMgPSBwYWdlSXNEeW5hbWljICYmIGlzUm91dGVQUFJFbmFibGVkICYmIChnZXRSZXF1ZXN0TWV0YShyZXEsICdyZW5kZXJGYWxsYmFja1NoZWxsJykgfHwgaXNEZWJ1Z0ZhbGxiYWNrU2hlbGwpID8gZ2V0RmFsbGJhY2tSb3V0ZVBhcmFtcyhwYXRobmFtZSkgOiBudWxsO1xuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgcmVuZGVyLlxuICAgICAgICAgICAgcmV0dXJuIGRvUmVuZGVyKHtcbiAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgIHBvc3Rwb25lZCxcbiAgICAgICAgICAgICAgICBmYWxsYmFja1JvdXRlUGFyYW1zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlUmVzcG9uc2UgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZSwgX2NhY2hlZERhdGFfaGVhZGVycztcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgY2FjaGVLZXk6IHNzZ0NhY2hlS2V5LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yOiAoYyk9PnJlc3BvbnNlR2VuZXJhdG9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHJvdXRlS2luZDogUm91dGVLaW5kLkFQUF9QQUdFLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkLFxuICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICBuZXh0Q29uZmlnLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEluIGRldiwgd2Ugc2hvdWxkIG5vdCBjYWNoZSBwYWdlcyBmb3IgYW55IHJlYXNvbi5cbiAgICAgICAgICAgIGlmIChyb3V0ZU1vZHVsZS5pc0Rldikge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjYWNoZUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNzZ0NhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgY2FjaGUgZW50cnkgbWlnaHQgbm90IGJlIGdlbmVyYXRlZCBpZiBhIHJlc3BvbnNlIGlzIHdyaXR0ZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gYGdldEluaXRpYWxQcm9wc2Agb3IgYGdldFNlcnZlclNpZGVQcm9wc2AsIGJ1dCB0aG9zZSBzaG91bGRuJ3RcbiAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGNhY2hlIGtleS4gSWYgd2UgZG8gaGF2ZSBhIGNhY2hlIGtleSBidXQgd2UgZG9uJ3QgZW5kIHVwXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggYSBjYWNoZSBlbnRyeSwgdGhlbiBlaXRoZXIgTmV4dC5qcyBvciB0aGUgYXBwbGljYXRpb24gaGFzIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gYnVnIHRoYXQgbmVlZHMgZml4aW5nLlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdpbnZhcmlhbnQ6IGNhY2hlIGVudHJ5IHJlcXVpcmVkIGJ1dCBub3QgZ2VuZXJhdGVkJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTYyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9QQUdFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQgYXBwLXBhZ2UgaGFuZGxlciByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7KF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDdcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGlkUG9zdHBvbmUgPSB0eXBlb2YgY2FjaGVFbnRyeS52YWx1ZS5wb3N0cG9uZWQgPT09ICdzdHJpbmcnO1xuICAgICAgICAgICAgaWYgKGlzU1NHICYmIC8vIFdlIGRvbid0IHdhbnQgdG8gc2VuZCBhIGNhY2hlIGhlYWRlciBmb3IgcmVxdWVzdHMgdGhhdCBjb250YWluIGR5bmFtaWNcbiAgICAgICAgICAgIC8vIGRhdGEuIElmIHRoaXMgaXMgYSBEeW5hbWljIFJTQyByZXF1ZXN0IG9yIHdhc24ndCBhIFByZWZldGNoIFJTQ1xuICAgICAgICAgICAgLy8gcmVxdWVzdCwgdGhlbiB3ZSBzaG91bGQgc2V0IHRoZSBjYWNoZSBoZWFkZXIuXG4gICAgICAgICAgICAhaXNEeW5hbWljUlNDUmVxdWVzdCAmJiAoIWRpZFBvc3Rwb25lIHx8IGlzUHJlZmV0Y2hSU0NSZXF1ZXN0KSkge1xuICAgICAgICAgICAgICAgIGlmICghbWluaW1hbE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHgtbmV4dGpzLWNhY2hlIGhlYWRlciB0byBtYXRjaCB0aGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHNldCBmb3IgdGhlIGltYWdlLW9wdGltaXplclxuICAgICAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IGEgaGVhZGVyIHVzZWQgYnkgdGhlIGNsaWVudCByb3V0ZXIgdG8gc2lnbmFsIHRoZSByZXNwb25zZSBpcyBzdGF0aWNcbiAgICAgICAgICAgICAgICAvLyBhbmQgc2hvdWxkIHJlc3BlY3QgdGhlIGBzdGF0aWNgIGNhY2hlIHN0YWxlVGltZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKE5FWFRfSVNfUFJFUkVOREVSX0hFQURFUiwgJzEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGNhY2hlZERhdGEgfSA9IGNhY2hlRW50cnk7XG4gICAgICAgICAgICAvLyBDb2VyY2UgdGhlIGNhY2hlIGNvbnRyb2wgcGFyYW1ldGVyIGZyb20gdGhlIHJlbmRlci5cbiAgICAgICAgICAgIGxldCBjYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgcmVzdW1lIHJlcXVlc3QgaW4gbWluaW1hbCBtb2RlIGl0IGlzIHN0cmVhbWVkIHdpdGggZHluYW1pY1xuICAgICAgICAgICAgLy8gY29udGVudCBhbmQgc2hvdWxkIG5vdCBiZSBjYWNoZWQuXG4gICAgICAgICAgICBpZiAobWluaW1hbFBvc3Rwb25lZCkge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5pbWFsTW9kZSAmJiBpc1JTQ1JlcXVlc3QgJiYgIWlzUHJlZmV0Y2hSU0NSZXF1ZXN0ICYmIGlzUm91dGVQUFJFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb250cm9sID0ge1xuICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFyb3V0ZU1vZHVsZS5pc0Rldikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmV2aWV3IG1vZGUgcmVxdWVzdCwgd2Ugc2hvdWxkbid0IGNhY2hlIGl0XG4gICAgICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzU1NHKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNhY2hlIGVudHJ5IGhhcyBhIGNhY2hlIGNvbnRyb2wgd2l0aCBhIHJldmFsaWRhdGUgdmFsdWUgdGhhdCdzXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVtYmVyLCB1c2UgaXQuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV9jYWNoZUNvbnRyb2w7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhbGlkIHJldmFsaWRhdGUgY29uZmlndXJhdGlvbiBwcm92aWRlZDogJHtjYWNoZUVudHJ5LmNhY2hlQ29udHJvbC5yZXZhbGlkYXRlfSA8IDFgKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkUyMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wucmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6ICgoX2NhY2hlRW50cnlfY2FjaGVDb250cm9sID0gY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV9jYWNoZUNvbnRyb2wuZXhwaXJlKSA/PyBuZXh0Q29uZmlnLmV4cGlyZVRpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogQ0FDSEVfT05FX1lFQVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCA9IGNhY2hlQ29udHJvbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VnbWVudFByZWZldGNoSGVhZGVyID09PSAnc3RyaW5nJyAmJiAoY2FjaGVkRGF0YSA9PSBudWxsID8gdm9pZCAwIDogY2FjaGVkRGF0YS5raW5kKSA9PT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9QQUdFICYmIGNhY2hlZERhdGEuc2VnbWVudERhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlZERhdGFfaGVhZGVyczE7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHByZWZldGNoIHJlcXVlc3QgaXNzdWVkIGJ5IHRoZSBjbGllbnQgU2VnbWVudCBDYWNoZS4gVGhlc2VcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgbmV2ZXIgcmVhY2ggdGhlIGFwcGxpY2F0aW9uIGxheWVyIChsYW1iZGEpLiBXZSBzaG91bGQgZWl0aGVyXG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uZCBmcm9tIHRoZSBjYWNoZSAoSElUKSBvciByZXNwb25kIHdpdGggMjA0IE5vIENvbnRlbnQgKE1JU1MpLlxuICAgICAgICAgICAgICAgIC8vIFNldCBhIGhlYWRlciB0byBpbmRpY2F0ZSB0aGF0IFBQUiBpcyBlbmFibGVkIGZvciB0aGlzIHJvdXRlLiBUaGlzXG4gICAgICAgICAgICAgICAgLy8gbGV0cyB0aGUgY2xpZW50IGRpc3Rpbmd1aXNoIGJldHdlZW4gYSByZWd1bGFyIGNhY2hlIG1pc3MgYW5kIGEgY2FjaGVcbiAgICAgICAgICAgICAgICAvLyBtaXNzIGR1ZSB0byBQUFIgYmVpbmcgZGlzYWJsZWQuIEluIG90aGVyIGNvbnRleHRzIHRoaXMgaGVhZGVyIGlzIHVzZWRcbiAgICAgICAgICAgICAgICAvLyB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZXNwb25zZSBjb250YWlucyBkeW5hbWljIGRhdGEsIGJ1dCBoZXJlIHdlJ3JlXG4gICAgICAgICAgICAgICAgLy8gb25seSB1c2luZyBpdCB0byBpbmRpY2F0ZSB0aGF0IHRoZSBmZWF0dXJlIGlzIGVuYWJsZWQg4oCUIHRoZSBzZWdtZW50XG4gICAgICAgICAgICAgICAgLy8gcmVzcG9uc2UgaXRzZWxmIGNvbnRhaW5zIHdoZXRoZXIgdGhlIGRhdGEgaXMgZHluYW1pYy5cbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKE5FWFRfRElEX1BPU1RQT05FX0hFQURFUiwgJzInKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGNhY2hlIHRhZ3MgaGVhZGVyIHRvIHRoZSByZXNwb25zZSBpZiBpdCBleGlzdHMgYW5kIHdlJ3JlIGluXG4gICAgICAgICAgICAgICAgLy8gbWluaW1hbCBtb2RlIHdoaWxlIHJlbmRlcmluZyBhIHN0YXRpYyBwYWdlLlxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3MgPSAoX2NhY2hlZERhdGFfaGVhZGVyczEgPSBjYWNoZWREYXRhLmhlYWRlcnMpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVkRGF0YV9oZWFkZXJzMVtORVhUX0NBQ0hFX1RBR1NfSEVBREVSXTtcbiAgICAgICAgICAgICAgICBpZiAobWluaW1hbE1vZGUgJiYgaXNTU0cgJiYgdGFncyAmJiB0eXBlb2YgdGFncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcihORVhUX0NBQ0hFX1RBR1NfSEVBREVSLCB0YWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFNlZ21lbnQgPSBjYWNoZWREYXRhLnNlZ21lbnREYXRhLmdldChzZWdtZW50UHJlZmV0Y2hIZWFkZXIpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkU2VnbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIGhpdFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncnNjJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlRXRhZ3M6IG5leHRDb25maWcuZ2VuZXJhdGVFdGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IFJlbmRlclJlc3VsdC5mcm9tU3RhdGljKG1hdGNoZWRTZWdtZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhY2hlIG1pc3MuIEVpdGhlciBhIGNhY2hlIGVudHJ5IGZvciB0aGlzIHJvdXRlIGhhcyBub3QgYmVlbiBnZW5lcmF0ZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggdGVjaG5pY2FsbHkgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSB3aGVuIFBQUiBpcyBlbmFibGVkLCBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gYXQgYSBtaW5pbXVtIHRoZXJlIHNob3VsZCBhbHdheXMgYmUgYSBmYWxsYmFjayBlbnRyeSkgb3IgdGhlcmUncyBub1xuICAgICAgICAgICAgICAgIC8vIG1hdGNoIGZvciB0aGUgcmVxdWVzdGVkIHNlZ21lbnQuIFJlc3BvbmQgd2l0aCBhIDIwNCBObyBDb250ZW50LiBXZVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGJvdGhlciB0byByZXNwb25kIHdpdGggNDA0LCBiZWNhdXNlIHRoZXNlIHJlcXVlc3RzIGFyZSBvbmx5XG4gICAgICAgICAgICAgICAgLy8gaXNzdWVkIGFzIHBhcnQgb2YgYSBwcmVmZXRjaC5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDIwNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncnNjJyxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IFJlbmRlclJlc3VsdC5mcm9tU3RhdGljKCcnKSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiBjYWNoZUVudHJ5LmNhY2hlQ29udHJvbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIGNhbGxiYWNrIGZvciBgb25DYWNoZUVudHJ5YCwgY2FsbCBpdCB3aXRoIHRoZSBjYWNoZSBlbnRyeVxuICAgICAgICAgICAgLy8gYW5kIHRoZSByZXZhbGlkYXRlIG9wdGlvbnMuXG4gICAgICAgICAgICBjb25zdCBvbkNhY2hlRW50cnkgPSBnZXRSZXF1ZXN0TWV0YShyZXEsICdvbkNhY2hlRW50cnknKTtcbiAgICAgICAgICAgIGlmIChvbkNhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5pc2hlZCA9IGF3YWl0IG9uQ2FjaGVFbnRyeSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNhY2hlRW50cnksXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIHdoZW4gdXBzdHJlYW0gZG9lc24ndFxuICAgICAgICAgICAgICAgICAgICAvLyBhbHdheXMgZXhwZWN0IHRoaXMgdmFsdWUgdG8gYmUgXCJQQUdFXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNhY2hlRW50cnkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnUEFHRSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbml0VVJMJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbWF5YmUgd2UgaGF2ZSB0byBlbmQgdGhlIHJlcXVlc3Q/XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGhhcyBhIHBvc3Rwb25lZCBzdGF0ZSBhbmQgaXQncyBhIHJlc3VtZSByZXF1ZXN0IHdlXG4gICAgICAgICAgICAvLyBzaG91bGQgZXJyb3IuXG4gICAgICAgICAgICBpZiAoZGlkUG9zdHBvbmUgJiYgbWluaW1hbFBvc3Rwb25lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoJ0ludmFyaWFudDogcG9zdHBvbmVkIHN0YXRlIHNob3VsZCBub3QgYmUgcHJlc2VudCBvbiBhIHJlc3VtZSByZXF1ZXN0JyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzk2XCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWNoZWREYXRhLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jYWNoZWREYXRhLmhlYWRlcnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghbWluaW1hbE1vZGUgfHwgIWlzU1NHKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpe1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuYXBwZW5kSGVhZGVyKGtleSwgdik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmFwcGVuZEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5hcHBlbmRIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGNhY2hlIHRhZ3MgaGVhZGVyIHRvIHRoZSByZXNwb25zZSBpZiBpdCBleGlzdHMgYW5kIHdlJ3JlIGluXG4gICAgICAgICAgICAvLyBtaW5pbWFsIG1vZGUgd2hpbGUgcmVuZGVyaW5nIGEgc3RhdGljIHBhZ2UuXG4gICAgICAgICAgICBjb25zdCB0YWdzID0gKF9jYWNoZWREYXRhX2hlYWRlcnMgPSBjYWNoZWREYXRhLmhlYWRlcnMpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVkRGF0YV9oZWFkZXJzW05FWFRfQ0FDSEVfVEFHU19IRUFERVJdO1xuICAgICAgICAgICAgaWYgKG1pbmltYWxNb2RlICYmIGlzU1NHICYmIHRhZ3MgJiYgdHlwZW9mIHRhZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcihORVhUX0NBQ0hFX1RBR1NfSEVBREVSLCB0YWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGEgZGF0YSByZXF1ZXN0LCB0aGVuIHdlIHNob3VsZG4ndCBzZXQgdGhlIHN0YXR1cyBjb2RlXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZXNwb25zZSBiZWNhdXNlIGl0IHNob3VsZCBhbHdheXMgYmUgMjAwLiBUaGlzIHNob3VsZCBiZSBnYXRlZFxuICAgICAgICAgICAgLy8gYmVoaW5kIHRoZSBleHBlcmltZW50YWwgUFBSIGZsYWcuXG4gICAgICAgICAgICBpZiAoY2FjaGVkRGF0YS5zdGF0dXMgJiYgKCFpc1JTQ1JlcXVlc3QgfHwgIWlzUm91dGVQUFJFbmFibGVkKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gY2FjaGVkRGF0YS5zdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWRpcmVjdCBpbmZvcm1hdGlvbiBpcyBlbmNvZGVkIGluIFJTQyBwYXlsb2FkLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHVzZSByZWRpcmVjdCBzdGF0dXMgY29kZXNcbiAgICAgICAgICAgIGlmICghbWluaW1hbE1vZGUgJiYgY2FjaGVkRGF0YS5zdGF0dXMgJiYgUmVkaXJlY3RTdGF0dXNDb2RlW2NhY2hlZERhdGEuc3RhdHVzXSAmJiBpc1JTQ1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB0aGUgcmVxdWVzdCBkaWQgcG9zdHBvbmUuXG4gICAgICAgICAgICBpZiAoZGlkUG9zdHBvbmUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKE5FWFRfRElEX1BPU1RQT05FX0hFQURFUiwgJzEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGdvIHRocm91Z2ggdGhpcyBibG9jayB3aGVuIHByZXZpZXcgbW9kZSBpcyB0cnVlXG4gICAgICAgICAgICAvLyBhcyBwcmV2aWV3IG1vZGUgaXMgYSBkeW5hbWljIHJlcXVlc3QgKGJ5cGFzc2VzIGNhY2hlKSBhbmQgZG9lc24ndFxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYm90aCBIVE1MIGFuZCBwYXlsb2FkcyBpbiB0aGUgc2FtZSByZXF1ZXN0IHNvIGNvbnRpbnVlIHRvIGp1c3RcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgZ2VuZXJhdGVkIHBheWxvYWRcbiAgICAgICAgICAgIGlmIChpc1JTQ1JlcXVlc3QgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGR5bmFtaWMgUlNDIHJlcXVlc3QsIHRoZW4gc3RyZWFtIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhY2hlZERhdGEucnNjRGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlZERhdGEucG9zdHBvbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IEV4cGVjdGVkIHBvc3Rwb25lZCB0byBiZSB1bmRlZmluZWQnKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTM3MlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3JzYycsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBjYWNoZWREYXRhLmh0bWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEeW5hbWljIFJTQyByZXNwb25zZXMgY2Fubm90IGJlIGNhY2hlZCwgZXZlbiBpZiB0aGV5J3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25maWd1cmVkIHdpdGggYGZvcmNlLXN0YXRpY2AgYmVjYXVzZSB3ZSBoYXZlIG5vIHdheSBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzdGluZ3Vpc2hpbmcgYmV0d2VlbiBgZm9yY2Utc3RhdGljYCBhbmQgcGFnZXMgdGhhdCBoYXZlIG5vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0cG9uZWQgc3RhdGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBkaXN0aW5ndWlzaCBgZm9yY2Utc3RhdGljYCBmcm9tIHBhZ2VzIHdpdGggbm8gcG9zdHBvbmVkIHN0YXRlIChzdGF0aWMpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IGlzRHluYW1pY1JTQ1JlcXVlc3QgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGNhY2hlRW50cnkuY2FjaGVDb250cm9sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcyB0aGlzIGlzbid0IGEgcHJlZmV0Y2ggcmVxdWVzdCwgd2Ugc2hvdWxkIHNlcnZlIHRoZSBzdGF0aWMgZmxpZ2h0XG4gICAgICAgICAgICAgICAgLy8gZGF0YS5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncnNjJyxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IFJlbmRlclJlc3VsdC5mcm9tU3RhdGljKGNhY2hlZERhdGEucnNjRGF0YSksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1ZXN0IGZvciBIVE1MIGRhdGEuXG4gICAgICAgICAgICBsZXQgYm9keSA9IGNhY2hlZERhdGEuaHRtbDtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcG9zdHBvbmVkIHN0YXRlLCB3ZSBzaG91bGQganVzdCBzZXJ2ZSB0aGUgSFRNTC4gVGhpc1xuICAgICAgICAgICAgLy8gc2hvdWxkIGFsc28gYmUgdGhlIGNhc2UgZm9yIGEgcmVzdW1lIHJlcXVlc3QgYmVjYXVzZSBpdCdzIGNvbXBsZXRlZFxuICAgICAgICAgICAgLy8gYXMgYSBzZXJ2ZXIgcmVuZGVyIChyYXRoZXIgdGhhbiBhIHN0YXRpYyByZW5kZXIpLlxuICAgICAgICAgICAgaWYgKCFkaWRQb3N0cG9uZSB8fCBtaW5pbWFsTW9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kUmVuZGVyUmVzdWx0KHtcbiAgICAgICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgICAgICByZXMsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdodG1sJyxcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgICAgICBwb3dlcmVkQnlIZWFkZXI6IG5leHRDb25maWcucG93ZXJlZEJ5SGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDogY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2xcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGRlYnVnZ2luZyB0aGUgc3RhdGljIHNoZWxsIG9yIHRoZSBkeW5hbWljIEFQSSBhY2Nlc3Nlcywgd2VcbiAgICAgICAgICAgIC8vIHNob3VsZCBqdXN0IHNlcnZlIHRoZSBIVE1MIHdpdGhvdXQgcmVzdW1pbmcgdGhlIHJlbmRlci4gVGhlIHJldHVybmVkXG4gICAgICAgICAgICAvLyBIVE1MIHdpbGwgYmUgdGhlIHN0YXRpYyBzaGVsbCBzbyBhbGwgdGhlIER5bmFtaWMgQVBJJ3Mgd2lsbCBiZSB1c2VkXG4gICAgICAgICAgICAvLyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24uXG4gICAgICAgICAgICBpZiAoaXNEZWJ1Z1N0YXRpY1NoZWxsIHx8IGlzRGVidWdEeW5hbWljQWNjZXNzZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSdyZSBub3QgcmVzdW1pbmcgdGhlIHJlbmRlciwgd2UgbmVlZCB0byBhdCBsZWFzdCBhZGQgdGhlXG4gICAgICAgICAgICAgICAgLy8gY2xvc2luZyBib2R5IGFuZCBodG1sIHRhZ3MgdG8gY3JlYXRlIHZhbGlkIEhUTUwuXG4gICAgICAgICAgICAgICAgYm9keS5jaGFpbihuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICBzdGFydCAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKEVOQ09ERURfVEFHUy5DTE9TRUQuQk9EWV9BTkRfSFRNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRSZW5kZXJSZXN1bHQoe1xuICAgICAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUV0YWdzOiBuZXh0Q29uZmlnLmdlbmVyYXRlRXRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYm9keSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyByZXF1ZXN0IGhhcyBwb3N0cG9uZWQsIHNvIGxldCdzIGNyZWF0ZSBhIG5ldyB0cmFuc2Zvcm1lciB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZHluYW1pYyBkYXRhIGNhbiBwaXBlIHRvIHRoYXQgd2lsbCBhdHRhY2ggdGhlIGR5bmFtaWMgZGF0YSB0byB0aGUgZW5kXG4gICAgICAgICAgICAvLyBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1lciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oKTtcbiAgICAgICAgICAgIGJvZHkuY2hhaW4odHJhbnNmb3JtZXIucmVhZGFibGUpO1xuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgcmVuZGVyIGFnYWluLCBidXQgdGhpcyB0aW1lLCBwcm92aWRlIHRoZSBwb3N0cG9uZWQgc3RhdGUuXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBhd2FpdCBiZWNhdXNlIHdlIHdhbnQgdGhlIHJlc3VsdCB0byBzdGFydCBzdHJlYW1pbmcgbm93LCBhbmRcbiAgICAgICAgICAgIC8vIHdlJ3ZlIGFscmVhZHkgY2hhaW5lZCB0aGUgdHJhbnNmb3JtZXIncyByZWFkYWJsZSB0byB0aGUgcmVuZGVyIHJlc3VsdC5cbiAgICAgICAgICAgIGRvUmVuZGVyKHtcbiAgICAgICAgICAgICAgICBzcGFuLFxuICAgICAgICAgICAgICAgIHBvc3Rwb25lZDogY2FjaGVkRGF0YS5wb3N0cG9uZWQsXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHJlc3VtZSByZW5kZXIsIG5vdCBhIGZhbGxiYWNrIHJlbmRlciwgc28gd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIHNldCB0aGlzLlxuICAgICAgICAgICAgICAgIGZhbGxiYWNrUm91dGVQYXJhbXM6IG51bGxcbiAgICAgICAgICAgIH0pLnRoZW4oYXN5bmMgKHJlc3VsdCk9PntcbiAgICAgICAgICAgICAgICB2YXIgX3Jlc3VsdF92YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKCdJbnZhcmlhbnQ6IGV4cGVjdGVkIGEgcmVzdWx0IHRvIGJlIHJldHVybmVkJyksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTQ2M1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoKF9yZXN1bHRfdmFsdWUgPSByZXN1bHQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfcmVzdWx0X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1BBR0UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXN1bHRfdmFsdWUxO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGV4cGVjdGVkIGEgcGFnZSByZXNwb25zZSwgZ290ICR7KF9yZXN1bHRfdmFsdWUxID0gcmVzdWx0LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX3Jlc3VsdF92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFMzA1XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gUGlwZSB0aGUgcmVzdW1lIHJlc3VsdCB0byB0aGUgdHJhbnNmb3JtZXIuXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0LnZhbHVlLmh0bWwucGlwZVRvKHRyYW5zZm9ybWVyLndyaXRhYmxlKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpPT57XG4gICAgICAgICAgICAgICAgLy8gQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHBpcGluZyBvciBwcmVwYXJpbmcgdGhlIHJlbmRlciwgYWJvcnRcbiAgICAgICAgICAgICAgICAvLyB0aGUgdHJhbnNmb3JtZXJzIHdyaXRlciBzbyB3ZSBjYW4gdGVybWluYXRlIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtZXIud3JpdGFibGUuYWJvcnQoZXJyKS5jYXRjaCgoZSk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImNvdWxkbid0IGFib3J0IHRyYW5zZm9ybWVyXCIsIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2VuZFJlbmRlclJlc3VsdCh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVFdGFnczogbmV4dENvbmZpZy5nZW5lcmF0ZUV0YWdzLFxuICAgICAgICAgICAgICAgIHBvd2VyZWRCeUhlYWRlcjogbmV4dENvbmZpZy5wb3dlcmVkQnlIZWFkZXIsXG4gICAgICAgICAgICAgICAgcmVzdWx0OiBib2R5LFxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gY2FjaGUgdGhlIHJlc3BvbnNlIGlmIGl0IGhhcyBwb3N0cG9uZWQgZGF0YSBiZWNhdXNlXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJlc3BvbnNlIGJlaW5nIHNlbnQgdG8gdGhlIGNsaWVudCBpdCdzIGR5bmFtaWMgcGFydHMgYXJlIHN0cmVhbWVkXG4gICAgICAgICAgICAgICAgLy8gdG8gdGhlIGNsaWVudCBvbiB0aGUgc2FtZSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGNhY2hlQ29udHJvbDoge1xuICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGhhbmRsZVJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlbid0IHdyYXBwZWQgYnkgYmFzZS1zZXJ2ZXIgaGFuZGxlIGhlcmVcbiAgICAgICAgaWYgKCFhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncmVuZGVyJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlOiBpc1NTRyxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwgcm91dGVyU2VydmVyQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapp%2Fadmin%2Fwallet%2Fpage&page=%2Fapp%2Fadmin%2Fwallet%2Fpage&appPaths=%2Fapp%2Fadmin%2Fwallet%2Fpage&pagePath=private-next-app-dir%2Fapp%2Fadmin%2Fwallet%2Fpage.js&appDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(rsc)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(rsc)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(rsc)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(rsc)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(rsc)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(rsc)/./node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(rsc)/./node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(rsc)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(rsc)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(rsc)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2J1aWx0aW4lNUMlNUNnbG9iYWwtZXJyb3IuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDaHR0cC1hY2Nlc3MtZmFsbGJhY2slNUMlNUNlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q21ldGFkYXRhJTVDJTVDYXN5bmMtbWV0YWRhdGEuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbWV0YWRhdGElNUMlNUNtZXRhZGF0YS1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDbGliJTVDJTVDbWV0YWRhdGElNUMlNUNnZW5lcmF0ZSU1QyU1Q2ljb24tbWFyay5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q25leHQtZGV2dG9vbHMlNUMlNUN1c2Vyc3BhY2UlNUMlNUNhcHAlNUMlNUNzZWdtZW50LWV4cGxvcmVyLW5vZGUuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNQQUErSTtBQUMvSTtBQUNBLG9PQUFxSTtBQUNySTtBQUNBLDBPQUF3STtBQUN4STtBQUNBLG9SQUE4SjtBQUM5SjtBQUNBLHdPQUF1STtBQUN2STtBQUNBLDRQQUFrSjtBQUNsSjtBQUNBLGtRQUFxSjtBQUNySjtBQUNBLHNRQUFzSjtBQUN0SjtBQUNBLHdPQUF3STtBQUN4STtBQUNBLDRRQUEwSiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGJ1aWx0aW5cXFxcZ2xvYmFsLWVycm9yLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXE5hZ2FsYW5kXFxcXGdhbWxpbmdcXFxcbWVnYWVuZC1uZXdcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxjbGllbnQtc2VnbWVudC5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGh0dHAtYWNjZXNzLWZhbGxiYWNrXFxcXGVycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG1ldGFkYXRhXFxcXGFzeW5jLW1ldGFkYXRhLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbWV0YWRhdGFcXFxcbWV0YWRhdGEtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXE5hZ2FsYW5kXFxcXGdhbWxpbmdcXFxcbWVnYWVuZC1uZXdcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcbGliXFxcXG1ldGFkYXRhXFxcXGdlbmVyYXRlXFxcXGljb24tbWFyay5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXG5leHQtZGV2dG9vbHNcXFxcdXNlcnNwYWNlXFxcXGFwcFxcXFxzZWdtZW50LWV4cGxvcmVyLW5vZGUuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-sans%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistSans%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-mono%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-sans%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistSans%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-mono%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/app/admin/wallet/page.js */ \"(rsc)/./src/app/app/admin/wallet/page.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q3NyYyU1QyU1Q2FwcCU1QyU1Q2FwcCU1QyU1Q2FkbWluJTVDJTVDd2FsbGV0JTVDJTVDcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0xBQThHIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXHNyY1xcXFxhcHBcXFxcYXBwXFxcXGFkbWluXFxcXHdhbGxldFxcXFxwYWdlLmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__ ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/lib/metadata/get-metadata-route */ \"(rsc)/./node_modules/next/dist/lib/metadata/get-metadata-route.js\");\n/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__);\n  \n\n  /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (props) => {\n    const imageData = {\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}\n    const imageUrl = (0,next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__.fillMetadataSegment)(\".\", await props.params, \"favicon.ico\")\n\n    return [{\n      ...imageData,\n      url: imageUrl + \"\",\n    }]\n  });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LW1ldGFkYXRhLWltYWdlLWxvYWRlci5qcz90eXBlPWZhdmljb24mc2VnbWVudD0mYmFzZVBhdGg9JnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMhLi9zcmMvYXBwL2Zhdmljb24uaWNvP19fbmV4dF9tZXRhZGF0YV9fIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLEVBQWlGOztBQUVqRixFQUFFLGlFQUFlO0FBQ2pCLHVCQUF1QjtBQUN2QixxQkFBcUIsOEZBQW1COztBQUV4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIkU6XFxOYWdhbGFuZFxcZ2FtbGluZ1xcbWVnYWVuZC1uZXdcXHNyY1xcYXBwXFxmYXZpY29uLmljbz9fX25leHRfbWV0YWRhdGFfXyJdLCJzb3VyY2VzQ29udGVudCI6WyIgIGltcG9ydCB7IGZpbGxNZXRhZGF0YVNlZ21lbnQgfSBmcm9tICduZXh0L2Rpc3QvbGliL21ldGFkYXRhL2dldC1tZXRhZGF0YS1yb3V0ZSdcblxuICBleHBvcnQgZGVmYXVsdCBhc3luYyAocHJvcHMpID0+IHtcbiAgICBjb25zdCBpbWFnZURhdGEgPSB7XCJ0eXBlXCI6XCJpbWFnZS94LWljb25cIixcInNpemVzXCI6XCIxNngxNlwifVxuICAgIGNvbnN0IGltYWdlVXJsID0gZmlsbE1ldGFkYXRhU2VnbWVudChcIi5cIiwgYXdhaXQgcHJvcHMucGFyYW1zLCBcImZhdmljb24uaWNvXCIpXG5cbiAgICByZXR1cm4gW3tcbiAgICAgIC4uLmltYWdlRGF0YSxcbiAgICAgIHVybDogaW1hZ2VVcmwgKyBcIlwiLFxuICAgIH1dXG4gIH0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-metadata-image-loader.js?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!./src/app/favicon.ico?__next_metadata__\n");

/***/ }),

/***/ "(rsc)/./src/app/app/admin/wallet/page.js":
/*!******************************************!*\
  !*** ./src/app/app/admin/wallet/page.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server.js\");\n/* harmony import */ var react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_server_dom_webpack_server__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(\nfunction() { throw new Error(\"Attempted to call the default export of \\\"E:\\\\\\\\Nagaland\\\\\\\\gamling\\\\\\\\megaend-new\\\\\\\\src\\\\\\\\app\\\\\\\\app\\\\\\\\admin\\\\\\\\wallet\\\\\\\\page.js\\\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n\"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n\"default\",\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwcC9hZG1pbi93YWxsZXQvcGFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0I7QUFFaEI7QUFDQSwrREFBK0Q7QUFDL0QsV0FBVztBQUNYO0FBQ0EiLCJzb3VyY2VzIjpbIkU6XFxOYWdhbGFuZFxcZ2FtbGluZ1xcbWVnYWVuZC1uZXdcXHNyY1xcYXBwXFxhcHBcXGFkbWluXFx3YWxsZXRcXHBhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vICAgb3JkZXJCeSxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2FsbGV0QWRtaW5QYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFthZG1pbiwgc2V0QWRtaW5dID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4vLyAgIGNvbnN0IFt0YXJnZXRFbWFpbCwgc2V0VGFyZ2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRVaWQsIHNldFRhcmdldFVpZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvRGVkdWN0LCBzZXRBbW91bnRUb0RlZHVjdF0gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuLy8gICBjb25zdCBbc3VibWl0dGluZywgc2V0U3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIGNvbnN0IFtkZXBvc2l0UmVxdWVzdHMsIHNldERlcG9zaXRSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcbi8vICAgY29uc3QgW3dpdGhkcmF3UmVxdWVzdHMsIHNldFdpdGhkcmF3UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuLy8gICBjb25zdCBbcmVmcmVzaEtleSwgc2V0UmVmcmVzaEtleV0gPSB1c2VTdGF0ZSgwKTsgLy8gVG8gcmUtZmV0Y2ggYWZ0ZXIgYXBwcm92ZS9yZWplY3RcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbYXV0aF0pO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgaWYgKCFhZG1pbikgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGZldGNoUmVxdWVzdHMgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICAgIC8vIERlcG9zaXRcclxuLy8gICAgICAgY29uc3QgZGVwUSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdkZXBvc2l0UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ3BlbmRpbmcnKSxcclxuLy8gICAgICAgICBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IGRlcFNuYXAgPSBhd2FpdCBnZXREb2NzKGRlcFEpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoZGVwU25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKSk7XHJcblxyXG4vLyAgICAgICAvLyBXaXRoZHJhd1xyXG4vLyAgICAgICBjb25zdCB3aXRoUSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICd3aXRoZHJhd1JlcXVlc3RzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdwZW5kaW5nJyksXHJcbi8vICAgICAgICAgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCB3aXRoU25hcCA9IGF3YWl0IGdldERvY3Mod2l0aFEpO1xyXG4vLyAgICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKHdpdGhTbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpKTtcclxuLy8gICAgIH07XHJcblxyXG4vLyAgICAgZmV0Y2hSZXF1ZXN0cygpO1xyXG4vLyAgIH0sIFthZG1pbiwgZGIsIHJlZnJlc2hLZXldKTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRFbWFpbCkge1xyXG4vLyAgICAgICBhbGVydCgnRW50ZXIgYSB2YWxpZCBlbWFpbC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCB3YWxsZXRRdWVyeSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICd3YWxsZXRzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2NzKHdhbGxldFF1ZXJ5KTtcclxuXHJcbi8vICAgICAgIGlmICghd2FsbGV0U25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldERvYyA9IHdhbGxldFNuYXAuZG9jc1swXTtcclxuLy8gICAgICAgICBzZXRUYXJnZXRVaWQod2FsbGV0RG9jLmRhdGEoKS51aWQpO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKHdhbGxldERvYy5kYXRhKCkuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICBhbGVydChcclxuLy8gICAgICAgICAgICdXYWxsZXQgbm90IGZvdW5kLiBBc2sgdGhlIHVzZXIgdG8gbG9naW4gb25jZSBzbyB0aGVpciB3YWxsZXQgaXMgYXV0by1jcmVhdGVkLidcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBzZWFyY2g6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3Igc2VhcmNoaW5nIGZvciB3YWxsZXQuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkKSB7XHJcbi8vICAgICAgIGFsZXJ0KCdTZWFyY2ggYW5kIHNlbGVjdCBhIHVzZXIgZmlyc3QuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgYWxlcnQoJ0VudGVyIGEgdmFsaWQgcG9zaXRpdmUgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgc2V0U3VibWl0dGluZyh0cnVlKTtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgJ3dhbGxldHMnLCB0YXJnZXRVaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2Mod2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKGN1cnJlbnRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIGFsZXJ0KCdXYWxsZXQgYmFsYW5jZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdhbGxldDonLCBlcnJvcik7XHJcbi8vICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gdXBkYXRlIHdhbGxldC4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZURlZHVjdEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCkge1xyXG4vLyAgICAgICBhbGVydCgnU2VhcmNoIGFuZCBzZWxlY3QgYSB1c2VyIGZpcnN0LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvRGVkdWN0KTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIGFsZXJ0KCdFbnRlciBhIHZhbGlkIHBvc2l0aXZlIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiAoY3VycmVudEJhbGFuY2UgPz8gMCkpIHtcclxuLy8gICAgICAgYWxlcnQoJ0Nhbm5vdCBkZWR1Y3QgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGJhbGFuY2UuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCAnd2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh3YWxsZXRSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoY3VycmVudEJhbGFuY2UgPz8gMCkgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvRGVkdWN0KCcnKTtcclxuLy8gICAgICAgYWxlcnQoJ1dhbGxldCBiYWxhbmNlIGRlZHVjdGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlZHVjdGluZyB3YWxsZXQ6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRmFpbGVkIHRvIGRlZHVjdCB3YWxsZXQgYmFsYW5jZS4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVN0YXR1c0NoYW5nZSA9IGFzeW5jIChjb2xsZWN0aW9uTmFtZSwgaWQsIG5ld1N0YXR1cykgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcmVmID0gZG9jKGRiLCBjb2xsZWN0aW9uTmFtZSwgaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MocmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiBuZXdTdGF0dXMsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICAgIGFsZXJ0KGBSZXF1ZXN0IG1hcmtlZCBhcyAke25ld1N0YXR1c31gKTtcclxuLy8gICAgICAgc2V0UmVmcmVzaEtleSgocHJldikgPT4gcHJldiArIDEpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc3RhdHVzOicsIGVycm9yKTtcclxuLy8gICAgICAgYWxlcnQoJ0ZhaWxlZCB0byB1cGRhdGUgc3RhdHVzLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGlmICghYWRtaW4pIHtcclxuLy8gICAgIHJldHVybiAoXHJcbi8vICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktOTAwIHRleHQtd2hpdGVcIj5cclxuLy8gICAgICAgICA8cD5QbGVhc2UgbG9naW4gYXMgYWRtaW4gdG8gbWFuYWdlIHdhbGxldHMuPC9wPlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgICk7XHJcbi8vICAgfVxyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IHAtOCBzcGFjZS15LThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBwLTYgbWF4LXctbWQgdy1mdWxsXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAgQWRtaW46IE1hbmFnZSBXYWxsZXRcclxuLy8gICAgICAgICAgIDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbi8vICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayBtYi0yXCI+VXNlciBFbWFpbDwvbGFiZWw+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgdXNlciBlbWFpbFwiXHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmcteWVsbG93LTQwMFwiXHJcbi8vICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXQtMiB3LWZ1bGwgcHktMyByb3VuZGVkLW1kIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFjayAke1xyXG4vLyAgICAgICAgICAgICAgICAgbG9hZGluZ1xyXG4vLyAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcclxuLy8gICAgICAgICAgICAgICAgICAgOiAnYmcteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctNTAwJ1xyXG4vLyAgICAgICAgICAgICAgIH1gfVxyXG4vLyAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFdhbGxldCd9XHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbWItMSB0ZXh0LWdyYXktNDAwIGJyZWFrLWFsbFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgVUlEOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0YXJnZXRVaWR9PC9zcGFuPlxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAgICAgIEN1cnJlbnQgQmFsYW5jZTp7JyAnfVxyXG4vLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIGZvbnQtc2VtaWJvbGRcIj5cclxuLy8gICAgICAgICAgICAgICAgICAg4oK5e2N1cnJlbnRCYWxhbmNlPy50b0ZpeGVkKDIpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIG1iLTJcIj5BZGQgQmFsYW5jZTwvbGFiZWw+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4vLyAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGFtb3VudCB0byBhZGRcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBtYi0yIHJvdW5kZWQgYmctZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCB0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy15ZWxsb3ctNDAwXCJcclxuLy8gICAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZEJhbGFuY2V9XHJcbi8vICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBweS0zIHJvdW5kZWQtbWQgZm9udC1zZW1pYm9sZCB0ZXh0LWJsYWNrICR7XHJcbi8vICAgICAgICAgICAgICAgICAgIHN1Ym1pdHRpbmdcclxuLy8gICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcclxuLy8gICAgICAgICAgICAgICAgICAgICA6ICdiZy15ZWxsb3ctNDAwIGhvdmVyOmJnLXllbGxvdy01MDAnXHJcbi8vICAgICAgICAgICAgICAgICB9YH1cclxuLy8gICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICB7c3VibWl0dGluZyA/ICdVcGRhdGluZy4uLicgOiAnQWRkIEJhbGFuY2UnfVxyXG4vLyAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgbWItMiBtdC02XCI+RGVkdWN0IEJhbGFuY2U8L2xhYmVsPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuLy8gICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0RlZHVjdH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9EZWR1Y3QoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBhbW91bnQgdG8gZGVkdWN0XCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTMgbWItMiByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmVkLTQwMFwiXHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWR1Y3RCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmd9XHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcHktMyByb3VuZGVkLW1kIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFjayAke1xyXG4vLyAgICAgICAgICAgICAgICAgICBzdWJtaXR0aW5nXHJcbi8vICAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTEwMCBjdXJzb3Itbm90LWFsbG93ZWQnXHJcbi8vICAgICAgICAgICAgICAgICAgICAgOiAnYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwJ1xyXG4vLyAgICAgICAgICAgICAgICAgfWB9XHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAge3N1Ym1pdHRpbmcgPyAnVXBkYXRpbmcuLi4nIDogJ0RlZHVjdCBCYWxhbmNlJ31cclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogRGVwb3NpdCBSZXF1ZXN0cyAqL31cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBwLTYgbWF4LXctMnhsIHctZnVsbFwiPlxyXG4vLyAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTRcIj5EZXBvc2l0IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubGVuZ3RoID09PSAwICYmIChcclxuLy8gICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPk5vIGRlcG9zaXQgcmVxdWVzdHMgZm91bmQuPC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgPGRpdlxyXG4vLyAgICAgICAgICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNjAwIHBiLTIgdGV4dC1zbVwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICA8cD5FbWFpbDoge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+QW1vdW50OiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+VHhuIElEOiB7cmVxLnRyYW5zYWN0aW9uSWR9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxwPlN0YXR1czogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e3JlcS5zdGF0dXN9PC9zcGFuPjwvcD5cclxuLy8gICAgICAgICAgICAgICA8cD5cclxuLy8gICAgICAgICAgICAgICAgIERhdGU6eycgJ31cclxuLy8gICAgICAgICAgICAgICAgIHtyZXEuY3JlYXRlZEF0Py50b0RhdGVcclxuLy8gICAgICAgICAgICAgICAgICAgPyByZXEuY3JlYXRlZEF0LnRvRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKClcclxuLy8gICAgICAgICAgICAgICAgICAgOiAnTi9BJ31cclxuLy8gICAgICAgICAgICAgICA8L3A+XHJcbi8vICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggZ2FwLTJcIj5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdkZXBvc2l0UmVxdWVzdHMnLCByZXEuaWQsICdhcHByb3ZlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0xIHB4LTMgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ2RlcG9zaXRSZXF1ZXN0cycsIHJlcS5pZCwgJ3JlamVjdGVkJyl9XHJcbi8vICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICBSZWplY3RcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctMnhsIHAtNiBtYXgtdy0yeGwgdy1mdWxsXCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNFwiPldpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgIHt3aXRoZHJhd1JlcXVlc3RzLmxlbmd0aCA9PT0gMCAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB3aXRoZHJhdyByZXF1ZXN0cyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgPGRpdlxyXG4vLyAgICAgICAgICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNjAwIHBiLTIgdGV4dC1zbVwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICA8cD5FbWFpbDoge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+QW1vdW50OiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+U3RhdHVzOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGRcIj57cmVxLnN0YXR1c308L3NwYW4+PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxwPlxyXG4vLyAgICAgICAgICAgICAgICAgRGF0ZTp7JyAnfVxyXG4vLyAgICAgICAgICAgICAgICAge3JlcS5jcmVhdGVkQXQ/LnRvRGF0ZVxyXG4vLyAgICAgICAgICAgICAgICAgICA/IHJlcS5jcmVhdGVkQXQudG9EYXRlKCkudG9Mb2NhbGVTdHJpbmcoKVxyXG4vLyAgICAgICAgICAgICAgICAgICA6ICdOL0EnfVxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuLy8gICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBnYXAtMlwiPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ3dpdGhkcmF3UmVxdWVzdHMnLCByZXEuaWQsICdhcHByb3ZlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0xIHB4LTMgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ3dpdGhkcmF3UmVxdWVzdHMnLCByZXEuaWQsICdyZWplY3RlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTEgcHgtMyByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgUmVqZWN0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICApKX1cclxuLy8gICAgICAgICA8L2Rpdj4gKi99XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy0yeGwgcC02IG1heC13LTJ4bCB3LWZ1bGxcIj5cclxuLy8gICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNFwiPldpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICB7d2l0aGRyYXdSZXF1ZXN0cy5sZW5ndGggPT09IDAgJiYgKFxyXG4vLyAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPk5vIHdpdGhkcmF3IHJlcXVlc3RzIGZvdW5kLjwvcD5cclxuLy8gICApfVxyXG4vLyAgIHt3aXRoZHJhd1JlcXVlc3RzLm1hcCgocmVxKSA9PiAoXHJcbi8vICAgICA8ZGl2XHJcbi8vICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICBjbGFzc05hbWU9XCJtYi00IGJvcmRlci1iIGJvcmRlci1ncmF5LTYwMCBwYi0zIHRleHQtc21cIlxyXG4vLyAgICAgPlxyXG4vLyAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RW1haWw6PC9zcGFuPiB7cmVxLmVtYWlsfTwvcD5cclxuLy8gICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkFtb3VudDo8L3NwYW4+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlN0YXR1czo8L3NwYW4+IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPntyZXEuc3RhdHVzfTwvc3Bhbj48L3A+XHJcbi8vICAgICAgIDxwPlxyXG4vLyAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5EYXRlOjwvc3Bhbj57JyAnfVxyXG4vLyAgICAgICAgIHtyZXEuY3JlYXRlZEF0Py50b0RhdGVcclxuLy8gICAgICAgICAgID8gcmVxLmNyZWF0ZWRBdC50b0RhdGUoKS50b0xvY2FsZVN0cmluZygpXHJcbi8vICAgICAgICAgICA6ICdOL0EnfVxyXG4vLyAgICAgICA8L3A+XHJcbi8vICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5NZXRob2Q6PC9zcGFuPiB7cmVxLm1ldGhvZCB8fCAnTi9BJ308L3A+XHJcbi8vICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5BZGRyZXNzOjwvc3Bhbj4ge3JlcS5hZGRyZXNzIHx8ICdOL0EnfTwvcD5cclxuXHJcbi8vICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGdhcC0yXCI+XHJcbi8vICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCd3aXRoZHJhd1JlcXVlc3RzJywgcmVxLmlkLCAnYXBwcm92ZWQnKX1cclxuLy8gICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTEgcHgtMyByb3VuZGVkXCJcclxuLy8gICAgICAgICA+XHJcbi8vICAgICAgICAgICBBcHByb3ZlXHJcbi8vICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCd3aXRoZHJhd1JlcXVlc3RzJywgcmVxLmlkLCAncmVqZWN0ZWQnKX1cclxuLy8gICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgID5cclxuLy8gICAgICAgICAgIFJlamVjdFxyXG4vLyAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvZGl2PlxyXG4vLyAgICkpfVxyXG4vLyA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbc3ViYWRtaW4sIHNldFN1YmFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldFN1YmFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbYXV0aF0pO1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UXVlcnkgPSBxdWVyeShcclxuLy8gICAgICAgICBjb2xsZWN0aW9uKGRiLCAnd2FsbGV0cycpLFxyXG4vLyAgICAgICAgIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3Mod2FsbGV0UXVlcnkpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuIEFzayB1c2VyIHRvIGxvZyBpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcHNob3QuZG9jc1swXS5kYXRhKCk7XHJcblxyXG4vLyAgICAgICAvLyDinIUgQWxsb3cgb25seSBpZiB3YWxsZXQuc3ViQWRtaW5JZCBtYXRjaGVzIGN1cnJlbnQgc3ViYWRtaW4udWlkXHJcbi8vICAgICAgIGlmICh3YWxsZXQuc3ViQWRtaW5JZCAhPT0gc3ViYWRtaW4/LnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBBY2Nlc3MgZGVuaWVkLiBUaGlzIHVzZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHlvdS4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh3YWxsZXQudWlkKTtcclxuLy8gICAgICAgc2V0Q3VycmVudEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQgYW5kIHZlcmlmaWVkLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignU2VhcmNoIGVycm9yOicsIGVycm9yKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byBzZWFyY2ggd2FsbGV0LicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVudGVyIHZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgJ3dhbGxldHMnLCB0YXJnZXRVaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2Mod2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKGN1cnJlbnRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBCYWxhbmNlIGFkZGVkLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkZCBlcnJvcjonLCBlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIGFkZCBiYWxhbmNlLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5TdWJhZG1pbjogQWRkIEJhbGFuY2U8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlVzZXIgZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIG1iLTQgdGV4dC15ZWxsb3ctNDAwXCI+e21lc3NhZ2V9PC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+Q3VycmVudCBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gYWRkXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIEFkZCBCYWxhbmNlXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbYWRtaW4sIHNldEFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRDdXJyZW50QmFsYW5jZShudWxsKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBxID0gcXVlcnkoXHJcbi8vICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3dhbGxldHMnKSxcclxuLy8gICAgICAgICB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbClcclxuLy8gICAgICAgKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLiBBc2sgdXNlciB0byBsb2dpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHdhbGxldC51aWQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFN1Yi1hZG1pbiB3YWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3IgZmV0Y2hpbmcgd2FsbGV0LicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVudGVyIGEgdmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCAnd2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh3YWxsZXRSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoY3VycmVudEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBCYWxhbmNlIHN1Y2Nlc3NmdWxseSBhZGRlZCB0byBzdWJhZG1pbi4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdXBkYXRlIHdhbGxldC4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLTggZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhsIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02IHRleHQtY2VudGVyXCI+QWRtaW46IEZ1bmQgU3ViLWFkbWluPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWItYWRtaW4gZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIG1iLTQgdGV4dC15ZWxsb3ctNDAwXCI+e21lc3NhZ2V9PC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+Q3VycmVudCBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gYWRkXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIEFkZCBCYWxhbmNlXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vICd1c2UgY2xpZW50JztcclxuXHJcbi8vIGltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG4vLyBpbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIGRvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2FkbWluLCBzZXRBZG1pbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRBZG1pbih1c2VyKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIC8vIOKchSBVc2UgJ3N1YndhbGxldHMnIGhlcmVcclxuLy8gICAgICAgICB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbClcclxuLy8gICAgICAgKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBTdWJhZG1pbiB3YWxsZXQgbm90IGZvdW5kLiBBc2sgdGhlbSB0byBsb2dpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHdhbGxldC51aWQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFN1YmFkbWluIHdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBmZXRjaGluZyBzdWJhZG1pbiB3YWxsZXQuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRW50ZXIgYSB2YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdGFyZ2V0VWlkKTsgLy8g4pyFIFVzZSAnc3Vid2FsbGV0cydcclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IChjdXJyZW50QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIEJhbGFuY2Ugc3VjY2Vzc2Z1bGx5IGFkZGVkIHRvIHN1YmFkbWluLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB1cGRhdGUgc3ViYWRtaW4gd2FsbGV0LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5BZG1pbjogRnVuZCBTdWItYWRtaW4gV2FsbGV0PC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJhZG1pbiBFbWFpbFwiXHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFN1YmFkbWluIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+XHJcbi8vICAgICAgICAgICApfVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5DdXJyZW50IEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byBhZGRcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgICAgICB2YWx1ZT17YW1vdW50VG9BZGR9XHJcbi8vICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFtb3VudFRvQWRkKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgQWRkIEJhbGFuY2VcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbYWRtaW4sIHNldEFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthZG1pbkJhbGFuY2UsIHNldEFkbWluQmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbc3ViYWRtaW5CYWxhbmNlLCBzZXRTdWJhZG1pbkJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgLy8g4pyFIEdldCBjdXJyZW50IGFkbWluXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IGFkbWluV2FsbGV0UmVmID0gZG9jKGRiLCAnYWRtaW53YWxsZXRzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IGFkbWluV2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyhhZG1pbldhbGxldFJlZik7XHJcbi8vICAgICAgICAgaWYgKGFkbWluV2FsbGV0U25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgICAgY29uc3QgZGF0YSA9IGFkbWluV2FsbGV0U25hcC5kYXRhKCk7XHJcbi8vICAgICAgICAgICBzZXRBZG1pbkJhbGFuY2UoZGF0YS5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRTdWJhZG1pbkJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgU3ViYWRtaW4gd2FsbGV0IG5vdCBmb3VuZC4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHdhbGxldCA9IHNuYXAuZG9jc1swXS5kYXRhKCk7XHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh3YWxsZXQudWlkKTtcclxuLy8gICAgICAgc2V0U3ViYWRtaW5CYWxhbmNlKHdhbGxldC5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgU3ViYWRtaW4gd2FsbGV0IGZvdW5kLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVycm9yIGZldGNoaW5nIHN1YmFkbWluIHdhbGxldC4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFkZEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCB8fCAhYW1vdW50VG9BZGQpIHJldHVybjtcclxuXHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFbnRlciBhIHZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiBhZG1pbkJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBhZG1pbiBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgc3ViUmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGNvbnN0IGFkbWluUmVmID0gZG9jKGRiLCAnYWRtaW53YWxsZXRzJywgYWRtaW4udWlkKTtcclxuXHJcbi8vICAgICAgIC8vIOKchSBVcGRhdGUgYm90aCB3YWxsZXRzXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhzdWJSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoc3ViYWRtaW5CYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKGFkbWluUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogYWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0U3ViYWRtaW5CYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFkbWluQmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHVwZGF0ZSBiYWxhbmNlcy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLTggZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhsIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02IHRleHQtY2VudGVyXCI+QWRtaW46IEZ1bmQgU3ViLWFkbWluIFdhbGxldDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNCB0ZXh0LWdyZWVuLTQwMFwiPllvdXIgQmFsYW5jZTog4oK5e2FkbWluQmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJhZG1pbiBFbWFpbFwiXHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFN1YmFkbWluIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+XHJcbi8vICAgICAgICAgICApfVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5TdWJhZG1pbiBCYWxhbmNlOiDigrl7c3ViYWRtaW5CYWxhbmNlPy50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIC8vIOKchSBHZXQgY3VycmVudCB1c2VyLCByb2xlLCBhbmQgd2FsbGV0IGJhbGFuY2VcclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgc2V0Q3VycmVudFVzZXIodXNlcik7XHJcbi8vICAgICAgIGlmICh1c2VyKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbi8vICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzbmFwLmV4aXN0cygpID8gc25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRDb2wgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgd2FsbGV0Q29sLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSB3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZShiYWxhbmNlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHRhcmdldFdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnc3Vid2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7IC8vIHN1YmFkbWlucyAmIHVzZXJzXHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShcclxuLy8gICAgICAgICBjb2xsZWN0aW9uKGRiLCB0YXJnZXRXYWxsZXRDb2wpLFxyXG4vLyAgICAgICAgIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgLy8g4pyFIElmIHN1YmFkbWluOiBvbmx5IGFsbG93IGRlcG9zaXRpbmcgdG8gdGhlaXIgb3duIHVzZXJzXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nICYmIHdhbGxldC5zdWJBZG1pbklkICE9PSBjdXJyZW50VXNlci51aWQpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgWW91IGNhbiBvbmx5IGZ1bmQgdXNlcnMgY3JlYXRlZCBieSB5b3UuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRVaWQodWlkKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBmZXRjaGluZyB3YWxsZXQuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRW50ZXIgYSB2YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7IC8vIEFsbCByZWNlaXZlcnMgYXJlIGluIHN1YndhbGxldHNcclxuXHJcbi8vICAgICAgIGNvbnN0IGZyb21SZWYgPSBkb2MoZGIsIGZyb21XYWxsZXRDb2wsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbi8vICAgICAgIC8vIOKchSBUcmFuc2ZlciBmdW5kc1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuLy8gICAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdXBkYXRlIGJhbGFuY2VzLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+XHJcbi8vICAgICAgICAgICAgIFlvdXIgQmFsYW5jZTog4oK5e2N1cnJlbnRCYWxhbmNlLnRvRml4ZWQoMil9XHJcbi8vICAgICAgICAgICA8L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcclxuLy8gICAgICAgICAgICAgICByb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj5cclxuLy8gICAgICAgICAgICAgICB7bWVzc2FnZX1cclxuLy8gICAgICAgICAgICAgPC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+XHJcbi8vICAgICAgICAgICAgICAgICBSZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9XHJcbi8vICAgICAgICAgICAgICAgPC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gdHJhbnNmZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgICAgICB2YWx1ZT17YW1vdW50VG9BZGR9XHJcbi8vICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFtb3VudFRvQWRkKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbY3VycmVudFVzZXIsIHNldEN1cnJlbnRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyZXF1ZXN0cywgc2V0UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuXHJcbi8vICAgICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCkpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlclNuYXAuZXhpc3RzKCkgPyB1c2VyU25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBmZXRjaFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBmZXRjaFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgY29sUmVmID0gY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKTtcclxuXHJcbi8vICAgICAgIGxldCBxID0gbnVsbDtcclxuLy8gICAgICAgaWYgKHVzZXJSb2xlID09PSAnYWRtaW4nKSB7XHJcbi8vICAgICAgICAgLy8gQWRtaW4gc2VlcyByZXF1ZXN0cyBmcm9tIHN1YmFkbWluc1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YmFkbWluU25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgICBxdWVyeShjb2xsZWN0aW9uKGRiLCAndXNlcnMnKSwgd2hlcmUoJ3JvbGUnLCAnPT0nLCAnc3ViYWRtaW4nKSlcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YmFkbWluSWRzID0gc3ViYWRtaW5TbmFwLmRvY3MubWFwKChkb2MpID0+IGRvYy5pZCk7XHJcblxyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCd1aWQnLCAnaW4nLCBzdWJhZG1pbklkcykpO1xyXG4vLyAgICAgICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgLy8gU3ViYWRtaW4gc2VlcyByZXF1ZXN0cyBmcm9tIHVzZXJzIHRoZXkgY3JlYXRlZFxyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jcyhcclxuLy8gICAgICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdzdWJBZG1pbklkJywgJz09JywgdWlkKSlcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJJZHMgPSB1c2VyU25hcC5kb2NzLm1hcCgoZG9jKSA9PiBkb2MuaWQpO1xyXG5cclxuLy8gICAgICAgICBpZiAodXNlcklkcy5sZW5ndGggPT09IDApIHtcclxuLy8gICAgICAgICAgIHNldFJlcXVlc3RzKFtdKTtcclxuLy8gICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcSA9IHF1ZXJ5KGNvbFJlZiwgd2hlcmUoJ3VpZCcsICdpbicsIHVzZXJJZHMpKTtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3QgcmVxU25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHJlcVNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuLy8gICAgICAgICBpZDogZG9jLmlkLFxyXG4vLyAgICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIHNldFJlcXVlc3RzKGZvcm1hdHRlZCk7XHJcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3aXRoZHJhd2FsIHJlcXVlc3RzOicsIGVycm9yKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFwcHJvdmUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xyXG4vLyAgICAgY29uc3QgY29uZmlybSA9IHdpbmRvdy5jb25maXJtKGBBcHByb3ZlIHdpdGhkcmF3YWwgb2Yg4oK5JHtyZXF1ZXN0LmFtb3VudH0/YCk7XHJcbi8vICAgICBpZiAoIWNvbmZpcm0pIHJldHVybjtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCByZXF1ZXN0UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIHJlcXVlc3QuaWQpO1xyXG5cclxuLy8gICAgICAgLy8gRGVkdWN0IGZyb20gdXNlcidzIHdhbGxldFxyXG4vLyAgICAgICBjb25zdCB1c2VyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHJlcXVlc3QudWlkKTtcclxuLy8gICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlcldhbGxldFJlZik7XHJcbi8vICAgICAgIGNvbnN0IHVzZXJCYWwgPSB1c2VyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwO1xyXG5cclxuLy8gICAgICAgaWYgKHVzZXJCYWwgPCByZXF1ZXN0LmFtb3VudCkge1xyXG4vLyAgICAgICAgIGFsZXJ0KCdJbnN1ZmZpY2llbnQgdXNlciBiYWxhbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgLy8gQ3JlZGl0IHRvIHN1YmFkbWluIHdhbGxldCAoaWYgc3ViYWRtaW4pXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgY29uc3Qgc3ViV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc3ViU25hcCA9IGF3YWl0IGdldERvYyhzdWJXYWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YkJhbCA9IHN1YlNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuXHJcbi8vICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgICAgYmFsYW5jZTogc3ViQmFsICsgcmVxdWVzdC5hbW91bnQsXHJcbi8vICAgICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICAvLyBVcGRhdGUgdXNlciB3YWxsZXQgYW5kIG1hcmsgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWwgLSByZXF1ZXN0LmFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhyZXF1ZXN0UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYWxlcnQoJ1dpdGhkcmF3YWwgYXBwcm92ZWQhJyk7XHJcbi8vICAgICAgIHNldFJlcXVlc3RzKChwcmV2KSA9PlxyXG4vLyAgICAgICAgIHByZXYubWFwKChyKSA9PlxyXG4vLyAgICAgICAgICAgci5pZCA9PT0gcmVxdWVzdC5pZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByXHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgYWxlcnQoJ0Vycm9yIGFwcHJvdmluZyByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtNlwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gYmctZ3JheS04MDAgcm91bmRlZC1sZyBwLTYgc2hhZG93XCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gV2l0aGRyYXcgUmVxdWVzdHMnIDogJ1VzZXIgV2l0aGRyYXcgUmVxdWVzdHMnfVxyXG4vLyAgICAgICAgICAgPC9oMj5cclxuXHJcbi8vICAgICAgICAgICB7bG9hZGluZyA/IChcclxuLy8gICAgICAgICAgICAgPHA+TG9hZGluZyByZXF1ZXN0cy4uLjwvcD5cclxuLy8gICAgICAgICAgICkgOiByZXF1ZXN0cy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwPk5vIHdpdGhkcmF3YWwgcmVxdWVzdHMgZm91bmQuPC9wPlxyXG4vLyAgICAgICAgICAgKSA6IChcclxuLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBib3JkZXItY29sbGFwc2VcIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkVtYWlsPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+QW1vdW50PC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+TWV0aG9kPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+RGV0YWlsczwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPlN0YXR1czwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkFjdGlvbjwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4vLyAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4vLyAgICAgICAgICAgICAgICAgICB7cmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtyZXEuaWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTYwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEuZW1haWx9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTJcIj7igrl7cmVxLmFtb3VudH08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEubWV0aG9kfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2REZXRhaWxzfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yIGNhcGl0YWxpemVcIj57cmVxLnN0YXR1c308L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFwcHJvdmUocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHByb3ZlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDBcIj7inJTvuI88L3NwYW4+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuLy8gICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICl9XHJcbi8vICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIGRvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbZGVwb3NpdFJlcXVlc3RzLCBzZXREZXBvc2l0UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YiA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpIDoge307XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuLy8gICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMCk7XHJcblxyXG4vLyAgICAgICAgIGZldGNoRGVwb3NpdFJlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIHJldHVybiAoKSA9PiB1bnN1YigpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgZmV0Y2hEZXBvc2l0UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgY29sUmVmID0gY29sbGVjdGlvbihkYiwgJ3N1YmRlcG9zaXRSZXF1ZXN0cycpO1xyXG5cclxuLy8gICAgICAgbGV0IHE7XHJcbi8vICAgICAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJykge1xyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCdyb2xlJywgJz09JywgJ3N1YmFkbWluJykpO1xyXG4vLyAgICAgICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlcldhbGxldHMgPSBhd2FpdCBnZXREb2NzKFxyXG4vLyAgICAgICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndhbGxldHMnKSwgd2hlcmUoJ3N1YkFkbWluSWQnLCAnPT0nLCB1aWQpKVxyXG4vLyAgICAgICAgICk7XHJcbi8vICAgICAgICAgY29uc3QgdXNlcklkcyA9IHVzZXJXYWxsZXRzLmRvY3MubWFwKChkb2MpID0+IGRvYy5pZCk7XHJcbi8vICAgICAgICAgaWYgKHVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCd1aWQnLCAnaW4nLCB1c2VySWRzKSk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoZm9ybWF0dGVkKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdGZXRjaCBmYWlsZWQnLCBlcnIpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFwcHJvdmUgPSBhc3luYyAocmVxKSA9PiB7XHJcbi8vICAgICBjb25zdCBjb25maXJtID0gd2luZG93LmNvbmZpcm0oYEFwcHJvdmUg4oK5JHtyZXEuYW1vdW50fSBkZXBvc2l0IGZyb20gJHtyZXEuZW1haWx9P2ApO1xyXG4vLyAgICAgaWYgKCFjb25maXJtKSByZXR1cm47XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVJvbGUgPSByZXEucm9sZTtcclxuLy8gICAgICAgY29uc3QgdG9VaWQgPSBjdXJyZW50VXNlci51aWQ7XHJcblxyXG4vLyAgICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHJlcS51aWQpO1xyXG4vLyAgICAgICBjb25zdCB0b0NvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvQ29sLCB0b1VpZCk7XHJcblxyXG4vLyAgICAgICBjb25zdCB0b1NuYXAgPSBhd2FpdCBnZXREb2ModG9SZWYpO1xyXG4vLyAgICAgICBjb25zdCB0b0JhbGFuY2UgPSB0b1NuYXAuZXhpc3RzKCkgPyB0b1NuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgICAgICAvLyDinIUgVXBkYXRlIHJlY2lwaWVudCB3YWxsZXQgKGFkbWluIG9yIHN1YmFkbWluKVxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiB0b0JhbGFuY2UgKyByZXEuYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgLy8g4pyFIE1hcmsgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3ViZGVwb3NpdFJlcXVlc3RzJywgcmVxLmlkKSwge1xyXG4vLyAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGFsZXJ0KCdEZXBvc2l0IGFwcHJvdmVkIScpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoKHByZXYpID0+XHJcbi8vICAgICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSByZXEuaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogcikpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignQXBwcm92YWwgZmFpbGVkJywgZXJyKTtcclxuLy8gICAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtNlwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRGVwb3NpdCBSZXF1ZXN0cycgOiAnVXNlciBEZXBvc2l0IFJlcXVlc3RzJ31cclxuLy8gICAgICAgICAgIDwvaDI+XHJcblxyXG4vLyAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDAgbWItNFwiPllvdXIgQmFsYW5jZTog4oK5e2N1cnJlbnRCYWxhbmNlLnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubGVuZ3RoID09PSAwID8gKFxyXG4vLyAgICAgICAgICAgICA8cD5ObyBkZXBvc2l0IHJlcXVlc3RzIGZvdW5kLjwvcD5cclxuLy8gICAgICAgICAgICkgOiAoXHJcbi8vICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIHRleHQtc21cIj5cclxuLy8gICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS03MDBcIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkVtYWlsPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkFtb3VudDwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTJcIj5NZXRob2Q8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+RGV0YWlsczwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTJcIj5TdGF0dXM8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+QWN0aW9uPC90aD5cclxuLy8gICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgPC90aGVhZD5cclxuLy8gICAgICAgICAgICAgICA8dGJvZHk+XHJcbi8vICAgICAgICAgICAgICAgICB7ZGVwb3NpdFJlcXVlc3RzLm1hcCgocmVxKSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3JlcS5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNjAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEuZW1haWx9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+4oK5e3JlcS5hbW91bnR9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2R9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2REZXRhaWxzfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMiBjYXBpdGFsaXplXCI+e3JlcS5zdGF0dXN9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXBwcm92ZShyZXEpfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTQwMFwiPuKclO+4jzwvc3Bhbj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgPC90cj5cclxuLy8gICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbi8vICAgICAgICAgICAgIDwvdGFibGU+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0QmFsYW5jZSwgc2V0VGFyZ2V0QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbYW1vdW50VG9BZGQsIHNldEFtb3VudFRvQWRkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuLy8gICBjb25zdCBbd2l0aGRyYXdSZXF1ZXN0cywgc2V0V2l0aGRyYXdSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNuYXAuZXhpc3RzKCkgPyBzbmFwLmRhdGEoKSA6IHt9O1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlckRhdGEucm9sZSB8fCAndXNlcic7XHJcbi8vICAgICAgICAgc2V0Um9sZSh1c2VyUm9sZSk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldENvbCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCB3YWxsZXRDb2wsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRTbmFwID0gYXdhaXQgZ2V0RG9jKHdhbGxldFJlZik7XHJcbi8vICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHdhbGxldFNuYXAuZXhpc3RzKCkgPyB3YWxsZXRTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKGJhbGFuY2UpO1xyXG5cclxuLy8gICAgICAgICBsb2FkV2l0aGRyYXdSZXF1ZXN0cyh1c2VyLnVpZCwgdXNlclJvbGUpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9KTtcclxuLy8gICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgbG9hZFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgY29uc3QgZmllbGQgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdmcm9tU3ViQWRtaW5JZCcgOiAnZnJvbVVzZXJTdWJBZG1pbklkJztcclxuLy8gICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLCB3aGVyZShmaWVsZCwgJz09JywgdWlkKSk7XHJcbi8vICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuLy8gICAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cyhyZXN1bHRzKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0VGFyZ2V0QmFsYW5jZShudWxsKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndhbGxldHMnKSwgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgY29uc3QgdWlkID0gd2FsbGV0LnVpZDtcclxuXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nICYmIHdhbGxldC5zdWJBZG1pbklkICE9PSBjdXJyZW50VXNlci51aWQpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgTm90IHlvdXIgdXNlci4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh1aWQpO1xyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKHdhbGxldC5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgV2FsbGV0IGZvdW5kLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVycm9yIHNlYXJjaGluZy4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFkZEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCB8fCAhYW1vdW50VG9BZGQpIHJldHVybjtcclxuXHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiBjdXJyZW50QmFsYW5jZSkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICBjb25zdCB0b1dhbGxldENvbCA9ICdzdWJ3YWxsZXRzJztcclxuXHJcbi8vICAgICAgIGNvbnN0IGZyb21SZWYgPSBkb2MoZGIsIGZyb21XYWxsZXRDb2wsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh0b1JlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6ICh0YXJnZXRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKGZyb21SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiBjdXJyZW50QmFsYW5jZSAtIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2UoKHByZXYpID0+IChwcmV2ID8/IDApICsgYW1vdW50KTtcclxuLy8gICAgICAgc2V0Q3VycmVudEJhbGFuY2UoKHByZXYpID0+IHByZXYgLSBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBUcmFuc2ZlciBzdWNjZXNzZnVsLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB0cmFuc2Zlci4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICAvLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jIChyZXEpID0+IHtcclxuLy8gICAvLyAgIGNvbnN0IGFtb3VudCA9IHJlcS5hbW91bnQ7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgIC8vICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4vLyAgIC8vICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCByZXEuZnJvbVVpZCk7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG5cclxuLy8gICAvLyAgIGNvbnN0IHRvU25hcCA9IGF3YWl0IGdldERvYyh0b1JlZik7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tU25hcCA9IGF3YWl0IGdldERvYyhmcm9tUmVmKTtcclxuXHJcbi8vICAgLy8gICBpZiAoIXRvU25hcC5leGlzdHMoKSB8fCAhZnJvbVNuYXAuZXhpc3RzKCkpIHtcclxuLy8gICAvLyAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgLy8gICAgIHJldHVybjtcclxuLy8gICAvLyAgIH1cclxuXHJcbi8vICAgLy8gICBjb25zdCBmcm9tQmFsYW5jZSA9IGZyb21TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDA7XHJcbi8vICAgLy8gICBpZiAoZnJvbUJhbGFuY2UgPCBhbW91bnQpIHtcclxuLy8gICAvLyAgICAgc2V0TWVzc2FnZSgn4p2MIE5vdCBlbm91Z2ggYmFsYW5jZS4nKTtcclxuLy8gICAvLyAgICAgcmV0dXJuO1xyXG4vLyAgIC8vICAgfVxyXG5cclxuLy8gICAvLyAgIGF3YWl0IHVwZGF0ZURvYyh0b1JlZiwge1xyXG4vLyAgIC8vICAgICBiYWxhbmNlOiAodG9TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgIC8vICAgfSk7XHJcblxyXG4vLyAgIC8vICAgYXdhaXQgdXBkYXRlRG9jKGZyb21SZWYsIHtcclxuLy8gICAvLyAgICAgYmFsYW5jZTogZnJvbUJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgLy8gICB9KTtcclxuXHJcbi8vICAgLy8gICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIHJlcS5pZCksIHtcclxuLy8gICAvLyAgICAgc3RhdHVzOiAnYWNjZXB0ZWQnLFxyXG4vLyAgIC8vICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgIH0pO1xyXG5cclxuLy8gICAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKChyKSA9PiByLmlkICE9PSByZXEuaWQpKTtcclxuLy8gICAvLyAgIHNldE1lc3NhZ2UoJ+KchSBXaXRoZHJhdyBhY2NlcHRlZC4nKTtcclxuLy8gICAvLyB9O1xyXG4vLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBpZiAoIXdpdGhkcmF3IHx8IHR5cGVvZiB3aXRoZHJhdyAhPT0gJ29iamVjdCcpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcign4p2MIEludmFsaWQgd2l0aGRyYXcgb2JqZWN0OicsIHdpdGhkcmF3KTtcclxuLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHJlcXVlc3QuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgY29uc3QgeyB1aWQsIGFtb3VudCwgaWQsIGZyb21TdWJBZG1pbklkIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIXVpZCB8fCB0eXBlb2YgdWlkICE9PSAnc3RyaW5nJykge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTWlzc2luZyBvciBpbnZhbGlkIFVJRCBpbiB3aXRoZHJhdzonLCB3aXRoZHJhdyk7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnV2l0aGRyYXcgVUlEIGlzIG1pc3NpbmcuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKCFpZCkge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTWlzc2luZyBGaXJlc3RvcmUgZG9jdW1lbnQgSUQgb2Ygd2l0aGRyYXcgcmVxdWVzdCcpO1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IHJlcXVlc3QgSUQgbWlzc2luZy4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBEZWZpbmUgcmVmZXJlbmNlc1xyXG4vLyAgICAgY29uc3QgdXNlcldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpOyAvLyB1c2VyIHdhbGxldFxyXG4vLyAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpOyAvLyBzdWJhZG1pbiB3YWxsZXRcclxuLy8gICAgIGNvbnN0IHdpdGhkcmF3UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKTtcclxuXHJcbi8vICAgICAvLyBGZXRjaCBjdXJyZW50IGJhbGFuY2VzXHJcbi8vICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgIGdldERvYyh1c2VyV2FsbGV0UmVmKSxcclxuLy8gICAgICAgZ2V0RG9jKHN1YkFkbWluV2FsbGV0UmVmKSxcclxuLy8gICAgIF0pO1xyXG5cclxuLy8gICAgIGNvbnN0IHVzZXJCYWxhbmNlID0gdXNlclNuYXAuZXhpc3RzKCkgPyB1c2VyU25hcC5kYXRhKCk/LmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgIGlmIChzdWJBZG1pbkJhbGFuY2UgPCBhbW91bnQpIHtcclxuLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdTdWJhZG1pbiBoYXMgaW5zdWZmaWNpZW50IGJhbGFuY2UgdG8gYXBwcm92ZSB0aGlzIHdpdGhkcmF3YWwuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSB1c2VyIHdhbGxldCAoYWRkIGZ1bmRzKVxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJXYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogdXNlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICAvLyDinIUgRGVkdWN0IGZyb20gc3ViYWRtaW4gd2FsbGV0XHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5XYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSB3aXRoZHJhdyByZXF1ZXN0IHN0YXR1c1xyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGZ1bmRzIGFkZGVkIHRvIHVzZXIgd2FsbGV0LicpO1xyXG4vLyAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgY29uc29sZS5lcnJvcign4p2MIGhhbmRsZUFjY2VwdFdpdGhkcmF3IGVycm9yOicsIGVycik7XHJcbi8vICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWNjZXB0aW5nIHRoZSB3aXRoZHJhdy4nKTtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXcteGwgbXgtYXV0byBiZy1ncmF5LTgwMCBwLTYgcm91bmRlZCBzaGFkb3ctbGdcIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNiB0ZXh0LWNlbnRlclwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJyA/ICdBZG1pbjogRnVuZCBTdWJhZG1pbicgOiAnU3ViYWRtaW46IEZ1bmQgVXNlcid9XHJcbi8vICAgICAgICAgICA8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1ncmVlbi00MDBcIj5Zb3VyIEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRW1haWwnIDogJ1VzZXIgRW1haWwnfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbSBtYi00IHRleHQteWVsbG93LTQwMFwiPnttZXNzYWdlfTwvcD59XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDw+XHJcbi8vICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMlwiPlJlY2lwaWVudCBCYWxhbmNlOiDigrl7dGFyZ2V0QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkZyb206PC9zdHJvbmc+IHtyZXEuZnJvbUVtYWlsfTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+QW1vdW50Ojwvc3Ryb25nPiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPk1ldGhvZDo8L3N0cm9uZz4ge3JlcS5tZXRob2R9ICh7cmVxLmRldGFpbHN9KTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWNjZXB0V2l0aGRyYXcocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICApfVxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcbi8vICd1c2UgY2xpZW50JztcclxuXHJcbi8vIGltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG4vLyBpbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIGRvYyxcclxuLy8gICBnZXREb2MsXHJcbi8vICAgdXBkYXRlRG9jLFxyXG4vLyAgIHNlcnZlclRpbWVzdGFtcCxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbY3VycmVudFVzZXIsIHNldEN1cnJlbnRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4vLyAgIGNvbnN0IFt0YXJnZXRFbWFpbCwgc2V0VGFyZ2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRVaWQsIHNldFRhcmdldFVpZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldEJhbGFuY2UsIHNldFRhcmdldEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgY29uc3QgW3dpdGhkcmF3UmVxdWVzdHMsIHNldFdpdGhkcmF3UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgc2V0Q3VycmVudFVzZXIodXNlcik7XHJcbi8vICAgICAgIGlmICh1c2VyKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbi8vICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzbmFwLmV4aXN0cygpID8gc25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRDb2wgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgd2FsbGV0Q29sLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSB3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZShiYWxhbmNlKTtcclxuXHJcbi8vICAgICAgICAgbG9hZFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCwgdXNlclJvbGUpID0+IHtcclxuLy8gICAgIGNvbnN0IGZpZWxkID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnZnJvbVN1YkFkbWluSWQnIDogJ2Zyb21Vc2VyU3ViQWRtaW5JZCc7XHJcbi8vICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSwgd2hlcmUoZmllbGQsICc9PScsIHVpZCkpO1xyXG4vLyAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgICBjb25zdCByZXN1bHRzID0gc25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuLy8gICAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuLy8gICAgIHNldE1lc3NhZ2UoJycpO1xyXG4vLyAgICAgc2V0VGFyZ2V0VWlkKCcnKTtcclxuLy8gICAgIHNldFRhcmdldEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKSk7XHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgV2FsbGV0IG5vdCBmb3VuZC4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHdhbGxldCA9IHNuYXAuZG9jc1swXS5kYXRhKCk7XHJcbi8vICAgICAgIGNvbnN0IHVpZCA9IHdhbGxldC51aWQ7XHJcblxyXG4vLyAgICAgICBpZiAocm9sZSA9PT0gJ3N1YmFkbWluJyAmJiB3YWxsZXQuc3ViQWRtaW5JZCAhPT0gY3VycmVudFVzZXIudWlkKSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIE5vdCB5b3VyIHVzZXIuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRVaWQodWlkKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBzZWFyY2hpbmcuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgSW52YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4vLyAgICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG4vLyAgICAgICBjb25zdCB0b1JlZiA9IGRvYyhkYiwgdG9XYWxsZXRDb2wsIHRhcmdldFVpZCk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuLy8gICAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdHJhbnNmZXIuJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGlmICghd2l0aGRyYXcgfHwgdHlwZW9mIHdpdGhkcmF3ICE9PSAnb2JqZWN0Jykge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbnZhbGlkIHdpdGhkcmF3IG9iamVjdDonLCB3aXRoZHJhdyk7XHJcbi8vICAgICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHJlcXVlc3QuJyk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHsgdWlkLCBhbW91bnQsIGlkLCBmcm9tU3ViQWRtaW5JZCB9ID0gd2l0aGRyYXc7XHJcblxyXG4vLyAgICAgICBpZiAoIXVpZCB8fCB0eXBlb2YgdWlkICE9PSAnc3RyaW5nJykge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNaXNzaW5nIG9yIGludmFsaWQgVUlEIGluIHdpdGhkcmF3OicsIHdpdGhkcmF3KTtcclxuLy8gICAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IFVJRCBpcyBtaXNzaW5nLicpO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBpZiAoIWlkKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE1pc3NpbmcgRmlyZXN0b3JlIGRvY3VtZW50IElEIG9mIHdpdGhkcmF3IHJlcXVlc3QnKTtcclxuLy8gICAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IHJlcXVlc3QgSUQgbWlzc2luZy4nKTtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3QgdXNlcldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpO1xyXG4vLyAgICAgICBjb25zdCBzdWJBZG1pbldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tU3ViQWRtaW5JZCk7XHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IFt1c2VyU25hcCwgc3ViQWRtaW5TbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuLy8gICAgICAgICBnZXREb2ModXNlcldhbGxldFJlZiksXHJcbi8vICAgICAgICAgZ2V0RG9jKHN1YkFkbWluV2FsbGV0UmVmKSxcclxuLy8gICAgICAgXSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB1c2VyQmFsYW5jZSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgICAgaWYgKHN1YkFkbWluQmFsYW5jZSA8IGFtb3VudCkge1xyXG4vLyAgICAgICAgIHJldHVybiBhbGVydCgnU3ViYWRtaW4gaGFzIGluc3VmZmljaWVudCBiYWxhbmNlIHRvIGFwcHJvdmUgdGhpcyB3aXRoZHJhd2FsLicpO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IGlkKSk7XHJcbi8vICAgICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGZ1bmRzIGFkZGVkIHRvIHVzZXIgd2FsbGV0LicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBoYW5kbGVBY2NlcHRXaXRoZHJhdyBlcnJvcjonLCBlcnIpO1xyXG4vLyAgICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWNjZXB0aW5nIHRoZSB3aXRoZHJhdy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuLy8gICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4vLyAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4vLyAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuLy8gICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuXHJcbi8vICAgICAgICAgey8qIOKchSBXaXRoZHJhdyBSZXF1ZXN0cyAqL31cclxuLy8gICAgICAgICB7d2l0aGRyYXdSZXF1ZXN0cy5sZW5ndGggPiAwICYmIChcclxuLy8gICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gbXQtMTAgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNFwiPlBlbmRpbmcgV2l0aGRyYXcgUmVxdWVzdHM8L2gyPlxyXG4vLyAgICAgICAgICAgICB7d2l0aGRyYXdSZXF1ZXN0cy5tYXAoKHJlcSkgPT4gKFxyXG4vLyAgICAgICAgICAgICAgIDxkaXYga2V5PXtyZXEuaWR9IGNsYXNzTmFtZT1cImJnLWdyYXktNzAwIHAtMyBtYi0zIHJvdW5kZWRcIj5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+VXNlcjo8L3N0cm9uZz4ge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkFtb3VudDo8L3N0cm9uZz4g4oK5e3JlcS5hbW91bnR9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5NZXRob2Q6PC9zdHJvbmc+IHtyZXEubWV0aG9kfSAoe3JlcS5wYXltZW50SWR9KTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+UmVxdWVzdGVkOjwvc3Ryb25nPiB7cmVxLmNyZWF0ZWRBdD8uc2Vjb25kcyA/IG5ldyBEYXRlKHJlcS5jcmVhdGVkQXQuc2Vjb25kcyAqIDEwMDApLnRvTG9jYWxlU3RyaW5nKCkgOiAnTi9BJ308L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweS0xIHB4LTQgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY2VwdFdpdGhkcmF3KHJlcSl9XHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFjY2VwdFxyXG4vLyAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgKX1cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIGNvbnN0IFt3aXRoZHJhd1JlcXVlc3RzLCBzZXRXaXRoZHJhd1JlcXVlc3RzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gc25hcC5leGlzdHMoKSA/IHNuYXAuZGF0YSgpIDoge307XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuLy8gICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuLy8gICAgICAgICBjb25zdCBiYWxhbmNlID0gd2FsbGV0U25hcC5leGlzdHMoKSA/IHdhbGxldFNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UoYmFsYW5jZSk7XHJcblxyXG4vLyAgICAgICAgIGxvYWRXaXRoZHJhd1JlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHVzZXJSb2xlKSA9PiB7XHJcbi8vICAgICBjb25zdCBmaWVsZCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2Zyb21TdWJBZG1pbklkJyA6ICdmcm9tVXNlclN1YkFkbWluSWQnO1xyXG4vLyAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKGZpZWxkLCAnPT0nLCB1aWQpKTtcclxuLy8gICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgICAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbi8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKHJlc3VsdHMpO1xyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2FsbGV0cycpLCB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbCkpO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBOb3QgeW91ciB1c2VyLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEludmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKGFtb3VudCA+IGN1cnJlbnRCYWxhbmNlKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IGZyb21XYWxsZXRDb2wgPSByb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgIGNvbnN0IHRvV2FsbGV0Q29sID0gJ3N1YndhbGxldHMnO1xyXG5cclxuLy8gICAgICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCB0YXJnZXRVaWQpO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHRvUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IGN1cnJlbnRCYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHRyYW5zZmVyLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBpZiAoIXdpdGhkcmF3IHx8IHR5cGVvZiB3aXRoZHJhdyAhPT0gJ29iamVjdCcpIHJldHVybiBhbGVydCgnSW52YWxpZCByZXF1ZXN0LicpO1xyXG5cclxuLy8gICAgICAgY29uc3QgeyB1aWQsIGFtb3VudCwgaWQsIGZyb21TdWJBZG1pbklkIH0gPSB3aXRoZHJhdztcclxuLy8gICAgICAgaWYgKCF1aWQgfHwgIWlkIHx8ICFmcm9tU3ViQWRtaW5JZCkgcmV0dXJuIGFsZXJ0KCdNaXNzaW5nIGRhdGEgaW4gcmVxdWVzdC4nKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHVzZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdWlkKTtcclxuLy8gICAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd1JlZiA9IGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCk7XHJcblxyXG4vLyAgICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgICAgZ2V0RG9jKHVzZXJXYWxsZXRSZWYpLFxyXG4vLyAgICAgICAgIGdldERvYyhzdWJBZG1pbldhbGxldFJlZiksXHJcbi8vICAgICAgIF0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgdXNlckJhbGFuY2UgPSB1c2VyU25hcC5leGlzdHMoKSA/IHVzZXJTbmFwLmRhdGEoKT8uYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgY29uc3Qgc3ViQWRtaW5CYWxhbmNlID0gc3ViQWRtaW5TbmFwLmV4aXN0cygpID8gc3ViQWRtaW5TbmFwLmRhdGEoKT8uYmFsYW5jZSA/PyAwIDogMDtcclxuXHJcbi8vICAgICAgIGlmIChzdWJBZG1pbkJhbGFuY2UgPCBhbW91bnQpIHJldHVybiBhbGVydCgnSW5zdWZmaWNpZW50IHN1YmFkbWluIGJhbGFuY2UuJyk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IGlkKSk7XHJcbi8vICAgICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcign4p2MIFdpdGhkcmF3IGFwcHJvdmFsIGVycm9yOicsIGVycik7XHJcbi8vICAgICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuLy8gICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4vLyAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4vLyAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuLy8gICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuXHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXI6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlRpbWU6PC9zdHJvbmc+IHtyZXEuY3JlYXRlZEF0Py5zZWNvbmRzID8gbmV3IERhdGUocmVxLmNyZWF0ZWRBdC5zZWNvbmRzICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKSA6ICdOL0EnfTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWNjZXB0V2l0aGRyYXcocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICApfVxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0QmFsYW5jZSwgc2V0VGFyZ2V0QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbYW1vdW50VG9BZGQsIHNldEFtb3VudFRvQWRkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuLy8gICBjb25zdCBbd2l0aGRyYXdSZXF1ZXN0cywgc2V0V2l0aGRyYXdSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNuYXAuZXhpc3RzKCkgPyBzbmFwLmRhdGEoKSA6IHt9O1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlckRhdGEucm9sZSB8fCAndXNlcic7XHJcbi8vICAgICAgICAgc2V0Um9sZSh1c2VyUm9sZSk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldENvbCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCB3YWxsZXRDb2wsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRTbmFwID0gYXdhaXQgZ2V0RG9jKHdhbGxldFJlZik7XHJcbi8vICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHdhbGxldFNuYXAuZXhpc3RzKCkgPyB3YWxsZXRTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKGJhbGFuY2UpO1xyXG5cclxuLy8gICAgICAgICBsb2FkV2l0aGRyYXdSZXF1ZXN0cyh1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgLy8gbG9hZFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIC8vIGNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCkgPT4ge1xyXG4vLyAgIC8vICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKCdmcm9tU3ViQWRtaW5JZCcsICc9PScsIHVpZCkpO1xyXG4vLyAgIC8vICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgLy8gICBjb25zdCByZXN1bHRzID0gc25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuLy8gICAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vICAgLy8gfTtcclxuLy8gICBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHJvbGUpID0+IHtcclxuLy8gICBsZXQgcTtcclxuXHJcbi8vICAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gICAgIC8vIEFkbWluIHNlZXMgd2l0aGRyYXdzIHJlcXVlc3RlZCBieSBzdWJhZG1pbnNcclxuLy8gICAgIHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLCB3aGVyZSgnZnJvbVN1YkFkbWluSWQnLCAnPT0nLCB1aWQpKTtcclxuLy8gICB9IGVsc2UgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuLy8gICAgIC8vIFN1YmFkbWluIHNlZXMgd2l0aGRyYXdzIHJlcXVlc3RlZCBieSB0aGVpciB1c2Vyc1xyXG4vLyAgICAgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpKTtcclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgcmV0dXJuOyAvLyBEbyBub3RoaW5nIGZvciBub3JtYWwgdXNlcnNcclxuLy8gICB9XHJcblxyXG4vLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vIH07XHJcblxyXG5cclxuLy8gLy8gY29uc3QgbG9hZFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAvLyAgIGxldCBxO1xyXG5cclxuLy8gLy8gICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gLy8gICAgIC8vIEFkbWluIHNob3VsZCBzZWUgd2l0aGRyYXdzIG1hZGUgYnkgc3ViYWRtaW5zXHJcbi8vIC8vICAgICBxID0gcXVlcnkoXHJcbi8vIC8vICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdmcm9tU3ViQWRtaW5JZCcsICc9PScsIHVpZCksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbi8vIC8vICAgICApO1xyXG4vLyAvLyAgIH0gZWxzZSBpZiAodXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuLy8gLy8gICAgIC8vIFN1YmFkbWluIHNob3VsZCBzZWUgd2l0aGRyYXdzIG1hZGUgYnkgdGhlaXIgdXNlcnNcclxuLy8gLy8gICAgIHEgPSBxdWVyeShcclxuLy8gLy8gICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gLy8gICAgICAgd2hlcmUoJ2Zyb21Vc2VyU3ViQWRtaW5JZCcsICc9PScsIHVpZCksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbi8vIC8vICAgICApO1xyXG4vLyAvLyAgIH0gZWxzZSB7XHJcbi8vIC8vICAgICByZXR1cm47IC8vIE5vIGFjY2VzcyBmb3Igb3RoZXIgcm9sZXNcclxuLy8gLy8gICB9XHJcblxyXG4vLyAvLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAvLyAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vIC8vIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2FsbGV0cycpLCB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbCkpO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBOb3QgeW91ciB1c2VyLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEludmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKGFtb3VudCA+IGN1cnJlbnRCYWxhbmNlKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IGZyb21XYWxsZXRDb2wgPSByb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgIGNvbnN0IHRvV2FsbGV0Q29sID0gJ3N1YndhbGxldHMnO1xyXG5cclxuLy8gICAgICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCB0YXJnZXRVaWQpO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHRvUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IGN1cnJlbnRCYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHRyYW5zZmVyLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIC8vIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgLy8gICB0cnkge1xyXG4vLyAgIC8vICAgICBjb25zdCB7IHVpZCwgYW1vdW50LCBpZCwgZnJvbVN1YkFkbWluSWQgfSA9IHdpdGhkcmF3O1xyXG4vLyAgIC8vICAgICBpZiAoIXVpZCB8fCAhaWQgfHwgIWZyb21TdWJBZG1pbklkKSB7XHJcbi8vICAgLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHdpdGhkcmF3IHJlcXVlc3QuJyk7XHJcbi8vICAgLy8gICAgIH1cclxuXHJcbi8vICAgLy8gICAgIGNvbnN0IHVzZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdWlkKTtcclxuLy8gICAvLyAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4vLyAgIC8vICAgICBjb25zdCB3aXRoZHJhd1JlZiA9IGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCk7XHJcblxyXG4vLyAgIC8vICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgLy8gICAgICAgZ2V0RG9jKHVzZXJXYWxsZXRSZWYpLFxyXG4vLyAgIC8vICAgICAgIGdldERvYyhzdWJBZG1pbldhbGxldFJlZiksXHJcbi8vICAgLy8gICAgIF0pO1xyXG5cclxuLy8gICAvLyAgICAgY29uc3QgdXNlckJhbGFuY2UgPSB1c2VyU25hcC5leGlzdHMoKSA/IHVzZXJTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgIC8vICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgIC8vICAgICBpZiAoc3ViQWRtaW5CYWxhbmNlIDwgYW1vdW50KSB7XHJcbi8vICAgLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdTdWJhZG1pbiBoYXMgaW5zdWZmaWNpZW50IGJhbGFuY2UgdG8gYXBwcm92ZSB0aGlzIHdpdGhkcmF3YWwuJyk7XHJcbi8vICAgLy8gICAgIH1cclxuXHJcbi8vICAgLy8gICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyV2FsbGV0UmVmLCB7XHJcbi8vICAgLy8gICAgICAgYmFsYW5jZTogdXNlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5XYWxsZXRSZWYsIHtcclxuLy8gICAvLyAgICAgICBiYWxhbmNlOiBzdWJBZG1pbkJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBhd2FpdCB1cGRhdGVEb2Mod2l0aGRyYXdSZWYsIHtcclxuLy8gICAvLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocikgPT4gci5pZCAhPT0gaWQpKTtcclxuLy8gICAvLyAgICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgYWRkZWQgdG8gdXNlciB3YWxsZXQuJyk7XHJcbi8vICAgLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAvLyAgICAgY29uc29sZS5lcnJvcign4p2MIGhhbmRsZUFjY2VwdFdpdGhkcmF3IGVycm9yOicsIGVycik7XHJcbi8vICAgLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBhY2NlcHRpbmcgdGhlIHdpdGhkcmF3LicpO1xyXG4vLyAgIC8vICAgfVxyXG4vLyAgIC8vIH07XHJcbi8vICAgY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgeyBpZCwgYW1vdW50LCBmcm9tU3ViQWRtaW5JZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8ICFmcm9tU3ViQWRtaW5JZCB8fCBzdGF0dXMgIT09ICdwZW5kaW5nJykge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ0ludmFsaWQgb3IgYWxyZWFkeSBwcm9jZXNzZWQgcmVxdWVzdC4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBHZXQgc3ViYWRtaW4gd2FsbGV0XHJcbi8vICAgICBjb25zdCBzdWJBZG1pbldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tU3ViQWRtaW5JZCk7XHJcbi8vICAgICBjb25zdCBzdWJBZG1pblNuYXAgPSBhd2FpdCBnZXREb2Moc3ViQWRtaW5XYWxsZXRSZWYpO1xyXG5cclxuLy8gICAgIGlmICghc3ViQWRtaW5TbmFwLmV4aXN0cygpKSByZXR1cm4gYWxlcnQoJ1N1YmFkbWluIHdhbGxldCBub3QgZm91bmQuJyk7XHJcblxyXG4vLyAgICAgY29uc3Qgc3ViQWRtaW5CYWxhbmNlID0gc3ViQWRtaW5TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDA7XHJcblxyXG4vLyAgICAgLy8g4pyFIEFkZCBhbW91bnQgYmFjayB0byBzdWJhZG1pblxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgIGJhbGFuY2U6IHN1YkFkbWluQmFsYW5jZSArIGFtb3VudCxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIC8vIOKchSBNYXJrIHRoZSByZXF1ZXN0IGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFJlbW92ZSBmcm9tIHBlbmRpbmcgbGlzdCBvbiBzY3JlZW5cclxuLy8gICAgIHNldFdpdGhkcmF3UmVxdWVzdHMoKHByZXYpID0+XHJcbi8vICAgICAgIHByZXYubWFwKChyKSA9PlxyXG4vLyAgICAgICAgIHIuaWQgPT09IGlkID8geyAuLi5yLCBzdGF0dXM6ICdhcHByb3ZlZCcgfSA6IHJcclxuLy8gICAgICAgKVxyXG4vLyAgICAgKTtcclxuXHJcbi8vICAgICBhbGVydCgn4pyFIFdpdGhkcmF3IGFwcHJvdmVkLiBBbW91bnQgY3JlZGl0ZWQgYmFjayB0byBzdWJhZG1pbi4nKTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4nKTtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXcteGwgbXgtYXV0byBiZy1ncmF5LTgwMCBwLTYgcm91bmRlZCBzaGFkb3ctbGdcIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNiB0ZXh0LWNlbnRlclwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJyA/ICdBZG1pbjogRnVuZCBTdWJhZG1pbicgOiAnU3ViYWRtaW46IEZ1bmQgVXNlcid9XHJcbi8vICAgICAgICAgICA8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1ncmVlbi00MDBcIj5Zb3VyIEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRW1haWwnIDogJ1VzZXIgRW1haWwnfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbSBtYi00IHRleHQteWVsbG93LTQwMFwiPnttZXNzYWdlfTwvcD59XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDw+XHJcbi8vICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMlwiPlJlY2lwaWVudCBCYWxhbmNlOiDigrl7dGFyZ2V0QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXIgRW1haWw6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbi8vICAgICAgICAgICAgICAgICB7LyogPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMSBweC00IHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NlcHRXaXRoZHJhdyhyZXEpfVxyXG4vLyAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICBBY2NlcHRcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPiAqL31cclxuLy8gICAgICAgICAgICAgICAgIHtyZXEuc3RhdHVzID09PSAncGVuZGluZycgPyAoXHJcbi8vICAgPGJ1dHRvblxyXG4vLyAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY2VwdFdpdGhkcmF3KHJlcSl9XHJcbi8vICAgPlxyXG4vLyAgICAgQWNjZXB0XHJcbi8vICAgPC9idXR0b24+XHJcbi8vICkgOiAoXHJcbi8vICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIG10LTIgdGV4dC1ncmVlbi00MDAgZm9udC1zZW1pYm9sZFwiPlxyXG4vLyAgICAgQXBwcm92ZWRcclxuLy8gICA8L3NwYW4+XHJcbi8vICl9XHJcblxyXG4vLyAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICApKX1cclxuLy8gICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICl9XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG5cclxuXHJcbi8vIGFwcC95b3VyUGF0aC9wYWdlLmpzXHJcblxyXG4ndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IHNldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0RmlyZXN0b3JlLFxyXG4gIGNvbGxlY3Rpb24sXHJcbiAgcXVlcnksXHJcbiAgd2hlcmUsXHJcbiAgZ2V0RG9jcyxcclxuICBkb2MsXHJcbiAgZ2V0RG9jLFxyXG4gIHVwZGF0ZURvYyxcclxuICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG5pbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbiAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4gIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbiAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IFt3aXRoZHJhd1JlcXVlc3RzLCBzZXRXaXRoZHJhd1JlcXVlc3RzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKTtcclxuICAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gc25hcC5leGlzdHMoKSA/IHNuYXAuZGF0YSgpIDoge307XHJcbiAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4gICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuICAgICAgICBjb25zdCBiYWxhbmNlID0gd2FsbGV0U25hcC5leGlzdHMoKSA/IHdhbGxldFNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbiAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UoYmFsYW5jZSk7XHJcblxyXG4gICAgICAgIGxvYWRXaXRoZHJhd1JlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHVzZXJSb2xlKSA9PiB7XHJcbiAgLy8gICBsZXQgcTtcclxuICAvLyAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJykge1xyXG4gIC8vICAgICBxID0gcXVlcnkoXHJcbiAgLy8gICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuICAvLyAgICAgICB3aGVyZSgnZnJvbVN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgLy8gICAgICk7XHJcbiAgLy8gICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbiAgLy8gICAgIHEgPSBxdWVyeShcclxuICAvLyAgICAgICBjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgLy8gICAgICk7XHJcbiAgLy8gICB9IGVsc2UgcmV0dXJuO1xyXG5cclxuICAvLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gIC8vICAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbiAgLy8gICBzZXRXaXRoZHJhd1JlcXVlc3RzKHJlc3VsdHMpO1xyXG4gIC8vIH07XHJcbmNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCwgdXNlclJvbGUpID0+IHtcclxuICBsZXQgcTtcclxuXHJcbiAgaWYgKHVzZXJSb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgICAvLyBTaG93IG9ubHkgc3ViYWRtaW4g4oaSIGFkbWluIHdpdGhkcmF3c1xyXG4gICAgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4gICAgICB3aGVyZSgnZnJvbVVzZXJTdWJBZG1pbklkJywgJz09JywgJycpLCAvLyDwn5SNIE11c3QgYmUgZnJvbSBhIHN1YmFkbWluXHJcbiAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAodXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuICAgIC8vIFNob3cgdXNlciDihpIgc3ViYWRtaW4gd2l0aGRyYXdzXHJcbiAgICBxID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksXHJcbiAgICAgIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ3BlbmRpbmcnKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbiAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbiAgc2V0V2l0aGRyYXdSZXF1ZXN0cyhyZXN1bHRzKTtcclxufTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgc2V0VGFyZ2V0VWlkKCcnKTtcclxuICAgIHNldFRhcmdldEJhbGFuY2UobnVsbCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKSk7XHJcbiAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gICAgICBpZiAoc25hcC5lbXB0eSkgcmV0dXJuIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLicpO1xyXG5cclxuICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuICAgICAgY29uc3QgdWlkID0gd2FsbGV0LnVpZDtcclxuICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4gICAgICAgIHJldHVybiBzZXRNZXNzYWdlKCfinYwgTm90IHlvdXIgdXNlci4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbiAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbiAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuICAvLyAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuICAvLyAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4gIC8vICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW52YWxpZCBhbW91bnQuJyk7XHJcbiAgLy8gICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcblxyXG4gIC8vICAgdHJ5IHtcclxuICAvLyAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuICAvLyAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4gIC8vICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG4gIC8vICAgICBjb25zdCB0b1JlZiA9IGRvYyhkYiwgdG9XYWxsZXRDb2wsIHRhcmdldFVpZCk7XHJcblxyXG4gIC8vICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuICAvLyAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuICAvLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbiAgLy8gICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbiAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbiAgLy8gICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuICAvLyAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4gIC8vICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuICAvLyAgIH0gY2F0Y2ggKGVycikge1xyXG4gIC8vICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgLy8gICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdHJhbnNmZXIuJyk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfTtcclxuXHJcbiAgLy8gY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuICAvLyAgIHRyeSB7XHJcbiAgLy8gICAgIGNvbnN0IHsgaWQsIGFtb3VudCwgZnJvbVN1YkFkbWluSWQsIGZyb21Vc2VyU3ViQWRtaW5JZCwgdWlkLCBzdGF0dXMgfSA9IHdpdGhkcmF3O1xyXG4gIC8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSByZXR1cm4gYWxlcnQoJ0ludmFsaWQgcmVxdWVzdC4nKTtcclxuXHJcbiAgLy8gICAgIGlmIChyb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgLy8gICAgICAgY29uc3Qgc3ViQWRtaW5SZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2Moc3ViQWRtaW5SZWYpO1xyXG4gIC8vICAgICAgIGNvbnN0IGJhbCA9IHNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuICAvLyAgICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5SZWYsIHtcclxuICAvLyAgICAgICAgIGJhbGFuY2U6IGJhbCArIGFtb3VudCxcclxuICAvLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgLy8gICAgICAgfSk7XHJcbiAgLy8gICAgIH1cclxuXHJcbiAgLy8gICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbiAgLy8gICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IHN1YlJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tVXNlclN1YkFkbWluSWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IFt1c2VyU25hcCwgc3ViU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbZ2V0RG9jKHVzZXJSZWYpLCBnZXREb2Moc3ViUmVmKV0pO1xyXG4gIC8vICAgICAgIGNvbnN0IHVzZXJCYWwgPSB1c2VyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwO1xyXG4gIC8vICAgICAgIGNvbnN0IHN1YkJhbCA9IHN1YlNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuICAvLyAgICAgICBpZiAoc3ViQmFsIDwgYW1vdW50KSByZXR1cm4gYWxlcnQoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuXHJcbiAgLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJSZWYsIHtcclxuICAvLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWwgKyBhbW91bnQsXHJcbiAgLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICAgIH0pO1xyXG5cclxuICAvLyAgICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViUmVmLCB7XHJcbiAgLy8gICAgICAgICBiYWxhbmNlOiBzdWJCYWwgLSBhbW91bnQsXHJcbiAgLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICAgIH0pO1xyXG4gIC8vICAgICB9XHJcblxyXG4gIC8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4gIC8vICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuICAvLyAgICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PiBwcmV2Lm1hcCgocikgPT4gci5pZCA9PT0gaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogcikpO1xyXG4gIC8vICAgICBhbGVydCgn4pyFIFdpdGhkcmF3IGFwcHJvdmVkLicpO1xyXG4gIC8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuICAvLyAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nLicpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH07XHJcbi8vIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IHsgaWQsIGFtb3VudCwgZnJvbVN1YkFkbWluSWQsIGZyb21Vc2VyU3ViQWRtaW5JZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIERldGVybWluZSBpZiBhZG1pbiBpcyBhY2NlcHRpbmcgYSBzdWJhZG1pbidzIHJlcXVlc3RcclxuLy8gICAgIGNvbnN0IGlzQWRtaW4gPSByb2xlID09PSAnYWRtaW4nICYmIGZyb21TdWJBZG1pbklkICYmICFmcm9tVXNlclN1YkFkbWluSWQ7XHJcblxyXG4vLyAgICAgY29uc3QgcGF5ZXJXYWxsZXRSZWYgPSBkb2MoZGIsIGlzQWRtaW4gPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJywgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgIGNvbnN0IHJlY2VpdmVyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHdpdGhkcmF3LnVpZCk7IC8vIEFsd2F5cyBhZGQgdG8gcmVxdWVzdGVyIHdhbGxldFxyXG5cclxuLy8gICAgIGNvbnN0IFtwYXllclNuYXAsIHJlY2VpdmVyU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgIGdldERvYyhwYXllcldhbGxldFJlZiksXHJcbi8vICAgICAgIGdldERvYyhyZWNlaXZlcldhbGxldFJlZiksXHJcbi8vICAgICBdKTtcclxuXHJcbi8vICAgICBjb25zdCBwYXllckJhbGFuY2UgPSBwYXllclNuYXAuZXhpc3RzKCkgPyBwYXllclNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICBjb25zdCByZWNlaXZlckJhbGFuY2UgPSByZWNlaXZlclNuYXAuZXhpc3RzKCkgPyByZWNlaXZlclNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgICAgaWYgKHBheWVyQmFsYW5jZSA8IGFtb3VudCkge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZSB0byBhcHByb3ZlLicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFRyYW5zZmVyIGFtb3VudFxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHJlY2VpdmVyV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgIGJhbGFuY2U6IHJlY2VpdmVyQmFsYW5jZSArIGFtb3VudCxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGF3YWl0IHVwZGF0ZURvYyhwYXllcldhbGxldFJlZiwge1xyXG4vLyAgICAgICBiYWxhbmNlOiBwYXllckJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICAvLyBNYXJrIGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXHJcbi8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PlxyXG4vLyAgICAgICBwcmV2Lm1hcCgocikgPT5cclxuLy8gICAgICAgICByLmlkID09PSBpZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByXHJcbi8vICAgICAgIClcclxuLy8gICAgICk7XHJcblxyXG4vLyAgICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgdHJhbnNmZXJyZWQuJyk7XHJcbi8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXBwcm92aW5nIHdpdGhkcmF3OicsIGVycik7XHJcbi8vICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuJyk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5jb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkgcmV0dXJuIHNldE1lc3NhZ2UoJ+KdjCBJbnZhbGlkIGFtb3VudC4nKTtcclxuICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4gICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4gICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbiAgICAvLyDinIUgMS4gVXBkYXRlIHJlY2lwaWVudCBiYWxhbmNlXHJcbiAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbiAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDinIUgMi4gVXBkYXRlIHNlbmRlciBiYWxhbmNlXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4gICAgICBiYWxhbmNlOiBjdXJyZW50QmFsYW5jZSAtIGFtb3VudCxcclxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOKchSAzLiBMb2cgdHJhbnNhY3Rpb24gaW4gc3ViZGVwb3NpdFJlcXVlc3RzXHJcbiAgICBjb25zdCBkZXBvc2l0UmVmID0gZG9jKGNvbGxlY3Rpb24oZGIsICdzdWJkZXBvc2l0UmVxdWVzdHMnKSk7IC8vIGF1dG8taWRcclxuICAgIGF3YWl0IHNldERvYyhkZXBvc2l0UmVmLCB7XHJcbiAgICAgIHVpZDogdGFyZ2V0VWlkLFxyXG4gICAgICBlbWFpbDogdGFyZ2V0RW1haWwsXHJcbiAgICAgIGFtb3VudCxcclxuICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4gICAgICBtZXRob2Q6ICdpbnRlcm5hbCB0cmFuc2ZlcicsXHJcbiAgICAgIHBheW1lbnRJZDogJycsXHJcbiAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICBmcm9tVXNlclN1YkFkbWluSWQ6IHJvbGUgPT09ICdzdWJhZG1pbicgPyBjdXJyZW50VXNlci51aWQgOiAnJyxcclxuICAgICAgZnJvbUFkbWluSWQ6IHJvbGUgPT09ICdhZG1pbicgPyBjdXJyZW50VXNlci51aWQgOiAnJyxcclxuICAgICAgdHlwZTogcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbi10by1zdWJhZG1pbicgOiAnc3ViYWRtaW4tdG8tdXNlcicsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDinIUgNC4gVXBkYXRlIFVJXHJcbiAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbiAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbiAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbiAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bCBhbmQgbG9nZ2VkLicpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB0cmFuc2Zlci4nKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkLCBhbW91bnQsIGZyb21TdWJBZG1pbklkLCBmcm9tVXNlclN1YkFkbWluSWQsIHVpZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbiAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbiAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB0aGUgcmVjZWl2ZXIgKHdobyBnZXRzIHRoZSBtb25leSBiYWNrKVxyXG4gICAgbGV0IHJlY2VpdmVyVWlkO1xyXG4gICAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcclxuICAgICAgLy8gQWRtaW4gaXMgYXBwcm92aW5nIHN1YmFkbWluIOKGkiBhZG1pbiByZXF1ZXN0XHJcbiAgICAgIHJlY2VpdmVyVWlkID0gZnJvbVN1YkFkbWluSWQ7XHJcbiAgICB9IGVsc2UgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuICAgICAgLy8gU3ViYWRtaW4gaXMgYXBwcm92aW5nIHVzZXIg4oaSIHN1YmFkbWluIHJlcXVlc3RcclxuICAgICAgcmVjZWl2ZXJVaWQgPSBjdXJyZW50VXNlci51aWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYWxlcnQoJ1VuYXV0aG9yaXplZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcHJvdmVyJ3Mgd2FsbGV0ICh3aG8gZ2V0cyBtb25leSBhZGRlZCBiYWNrKVxyXG4gICAgY29uc3QgcmVjZWl2ZXJXYWxsZXRSZWYgPSBkb2MoZGIsIHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJywgcmVjZWl2ZXJVaWQpO1xyXG4gICAgY29uc3QgcmVjZWl2ZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHJlY2VpdmVyV2FsbGV0UmVmKTtcclxuICAgIGNvbnN0IHJlY2VpdmVyQmFsYW5jZSA9IHJlY2VpdmVyU25hcC5leGlzdHMoKSA/IHJlY2VpdmVyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuXHJcbiAgICAvLyBBZGQgYW1vdW50IGJhY2sgdG8gYXBwcm92ZXIgKGFkbWluIG9yIHN1YmFkbWluKVxyXG4gICAgYXdhaXQgdXBkYXRlRG9jKHJlY2VpdmVyV2FsbGV0UmVmLCB7XHJcbiAgICAgIGJhbGFuY2U6IHJlY2VpdmVyQmFsYW5jZSArIGFtb3VudCxcclxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG4gICAgXHJcblxyXG4vLyBhd2FpdCBzZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYsIHtcclxuLy8gICBiYWxhbmNlOiByZWNlaXZlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gfSwgeyBtZXJnZTogdHJ1ZSB9KTtcclxuXHJcblxyXG4gICAgLy8gTWFyayB0aGUgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCksIHtcclxuICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4gICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBVSVxyXG4gICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT5cclxuICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSBpZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByKSlcclxuICAgICk7XHJcblxyXG4gICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgYWRkZWQgdG8geW91ciB3YWxsZXQuJyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXBwcm92aW5nIHdpdGhkcmF3OicsIGVycik7XHJcbiAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuJyk7XHJcbiAgfVxyXG59O1xyXG4vLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCB7IGlkLCBhbW91bnQsIGZyb21TdWJBZG1pbklkLCBmcm9tVXNlclN1YkFkbWluSWQsIHVpZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGxldCByZWNlaXZlcldhbGxldFJlZjtcclxuXHJcbi8vICAgICBpZiAocm9sZSA9PT0gJ2FkbWluJyAmJiBmcm9tU3ViQWRtaW5JZCAmJiAhZnJvbVVzZXJTdWJBZG1pbklkKSB7XHJcbi8vICAgICAgIC8vIEFkbWluIGlzIGFwcHJvdmluZyBzdWJhZG1pbidzIHdpdGhkcmF3IHJlcXVlc3RcclxuLy8gICAgICAgcmVjZWl2ZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdhZG1pbndhbGxldHMnLCB1aWQpOyAvLyBzdWJhZG1pbuKAmXMgdWlkIGlzIHRoZSByZXF1ZXN0ZXJcclxuLy8gICAgIH0gZWxzZSBpZiAocm9sZSA9PT0gJ3N1YmFkbWluJyAmJiBmcm9tVXNlclN1YkFkbWluSWQpIHtcclxuLy8gICAgICAgLy8gU3ViYWRtaW4gaXMgYXBwcm92aW5nIHVzZXIncyB3aXRoZHJhdyByZXF1ZXN0XHJcbi8vICAgICAgIHJlY2VpdmVyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHVpZCk7IC8vIHVzZXLigJlzIHVpZCBpcyB0aGUgcmVxdWVzdGVyXHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ1VuYXV0aG9yaXplZCBvciBtYWxmb3JtZWQgd2l0aGRyYXcgcmVxdWVzdC4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjb25zdCByZWNlaXZlclNuYXAgPSBhd2FpdCBnZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYpO1xyXG4vLyAgICAgY29uc3QgcmVjZWl2ZXJCYWxhbmNlID0gcmVjZWl2ZXJTbmFwLmV4aXN0cygpID8gcmVjZWl2ZXJTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgIC8vIOKchSBDcmVkaXQgcmVjZWl2ZXIgd2FsbGV0XHJcbi8vICAgICBhd2FpdCBzZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogcmVjZWl2ZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcclxuXHJcbi8vICAgICAvLyDinIUgTWFyayByZXF1ZXN0IGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSBzdGF0ZVxyXG4vLyAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT5cclxuLy8gICAgICAgcHJldi5tYXAoKHIpID0+XHJcbi8vICAgICAgICAgci5pZCA9PT0gaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogclxyXG4vLyAgICAgICApXHJcbi8vICAgICApO1xyXG5cclxuLy8gICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGFtb3VudCBjcmVkaXRlZC4nKTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBhcHByb3ZpbmcuJyk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPExheW91dD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4gICAgICAgICAgPC9oMT5cclxuXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbiAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXIgRW1haWw6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbiAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NlcHRXaXRoZHJhdyhyZXEpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIG10LTIgdGV4dC1ncmVlbi00MDAgZm9udC1zZW1pYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEFwcHJvdmVkXHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0xheW91dD5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/app/admin/wallet/page.js\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"6e1e3f658741\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJFOlxcTmFnYWxhbmRcXGdhbWxpbmdcXG1lZ2FlbmQtbmV3XFxzcmNcXGFwcFxcZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI2ZTFlM2Y2NTg3NDFcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.js":
/*!***************************!*\
  !*** ./src/app/layout.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_js_import_Geist_arguments_variable_font_geist_sans_subsets_latin_variableName_geistSans___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src\\\\app\\\\layout.js\",\"import\":\"Geist\",\"arguments\":[{\"variable\":\"--font-geist-sans\",\"subsets\":[\"latin\"]}],\"variableName\":\"geistSans\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.js\\\",\\\"import\\\":\\\"Geist\\\",\\\"arguments\\\":[{\\\"variable\\\":\\\"--font-geist-sans\\\",\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"geistSans\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_js_import_Geist_arguments_variable_font_geist_sans_subsets_latin_variableName_geistSans___WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_js_import_Geist_arguments_variable_font_geist_sans_subsets_latin_variableName_geistSans___WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_js_import_Geist_Mono_arguments_variable_font_geist_mono_subsets_latin_variableName_geistMono___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src\\\\app\\\\layout.js\",\"import\":\"Geist_Mono\",\"arguments\":[{\"variable\":\"--font-geist-mono\",\"subsets\":[\"latin\"]}],\"variableName\":\"geistMono\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.js\\\",\\\"import\\\":\\\"Geist_Mono\\\",\\\"arguments\\\":[{\\\"variable\\\":\\\"--font-geist-mono\\\",\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"geistMono\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_js_import_Geist_Mono_arguments_variable_font_geist_mono_subsets_latin_variableName_geistMono___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_js_import_Geist_Mono_arguments_variable_font_geist_mono_subsets_latin_variableName_geistMono___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\n\n\nconst metadata = {\n    title: \"Endgame\",\n    description: \"Guess number & win\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: `${(next_font_google_target_css_path_src_app_layout_js_import_Geist_arguments_variable_font_geist_sans_subsets_latin_variableName_geistSans___WEBPACK_IMPORTED_MODULE_2___default().variable)} ${(next_font_google_target_css_path_src_app_layout_js_import_Geist_Mono_arguments_variable_font_geist_mono_subsets_latin_variableName_geistMono___WEBPACK_IMPORTED_MODULE_3___default().variable)} antialiased`,\n            children: children\n        }, void 0, false, {\n            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\layout.js\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\layout.js\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBR01BO0FBS0FDO0FBUGlCO0FBWWhCLE1BQU1DLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBRTtJQUM3QyxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztrQkFDVCw0RUFBQ0M7WUFDQ0MsV0FBVyxHQUFHViwwTEFBa0IsQ0FBQyxDQUFDLEVBQUVDLCtMQUFrQixDQUFDLFlBQVksQ0FBQztzQkFFbkVLOzs7Ozs7Ozs7OztBQUlUIiwic291cmNlcyI6WyJFOlxcTmFnYWxhbmRcXGdhbWxpbmdcXG1lZ2FlbmQtbmV3XFxzcmNcXGFwcFxcbGF5b3V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdlaXN0LCBHZWlzdF9Nb25vIH0gZnJvbSBcIm5leHQvZm9udC9nb29nbGVcIjtcclxuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xyXG5cclxuY29uc3QgZ2Vpc3RTYW5zID0gR2Vpc3Qoe1xyXG4gIHZhcmlhYmxlOiBcIi0tZm9udC1nZWlzdC1zYW5zXCIsXHJcbiAgc3Vic2V0czogW1wibGF0aW5cIl0sXHJcbn0pO1xyXG5cclxuY29uc3QgZ2Vpc3RNb25vID0gR2Vpc3RfTW9ubyh7XHJcbiAgdmFyaWFibGU6IFwiLS1mb250LWdlaXN0LW1vbm9cIixcclxuICBzdWJzZXRzOiBbXCJsYXRpblwiXSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgbWV0YWRhdGEgPSB7XHJcbiAgdGl0bGU6IFwiRW5kZ2FtZVwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIkd1ZXNzIG51bWJlciAmIHdpblwiLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XHJcbiAgICAgIDxib2R5XHJcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtnZWlzdFNhbnMudmFyaWFibGV9ICR7Z2Vpc3RNb25vLnZhcmlhYmxlfSBhbnRpYWxpYXNlZGB9XHJcbiAgICAgID5cclxuICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZWlzdFNhbnMiLCJnZWlzdE1vbm8iLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImJvZHkiLCJjbGFzc05hbWUiLCJ2YXJpYWJsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/builtin/global-error.js */ \"(ssr)/./node_modules/next/dist/client/components/builtin/global-error.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-segment.js */ \"(ssr)/./node_modules/next/dist/client/components/client-segment.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/http-access-fallback/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/async-metadata.js */ \"(ssr)/./node_modules/next/dist/client/components/metadata/async-metadata.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/metadata/metadata-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/metadata/metadata-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/next/dist/lib/metadata/generate/icon-mark.js */ \"(ssr)/./node_modules/next/dist/lib/metadata/generate/icon-mark.js\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js */ \"(ssr)/./node_modules/next/dist/next-devtools/userspace/app/segment-explorer-node.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2J1aWx0aW4lNUMlNUNnbG9iYWwtZXJyb3IuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDY2xpZW50LXNlZ21lbnQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDaHR0cC1hY2Nlc3MtZmFsbGJhY2slNUMlNUNlcnJvci1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q21ldGFkYXRhJTVDJTVDYXN5bmMtbWV0YWRhdGEuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRSUzQSU1QyU1Q05hZ2FsYW5kJTVDJTVDZ2FtbGluZyU1QyU1Q21lZ2FlbmQtbmV3JTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbWV0YWRhdGElNUMlNUNtZXRhZGF0YS1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDbGliJTVDJTVDbWV0YWRhdGElNUMlNUNnZW5lcmF0ZSU1QyU1Q2ljb24tbWFyay5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJFJTNBJTVDJTVDTmFnYWxhbmQlNUMlNUNnYW1saW5nJTVDJTVDbWVnYWVuZC1uZXclNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q25leHQtZGV2dG9vbHMlNUMlNUN1c2Vyc3BhY2UlNUMlNUNhcHAlNUMlNUNzZWdtZW50LWV4cGxvcmVyLW5vZGUuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNQQUErSTtBQUMvSTtBQUNBLG9PQUFxSTtBQUNySTtBQUNBLDBPQUF3STtBQUN4STtBQUNBLG9SQUE4SjtBQUM5SjtBQUNBLHdPQUF1STtBQUN2STtBQUNBLDRQQUFrSjtBQUNsSjtBQUNBLGtRQUFxSjtBQUNySjtBQUNBLHNRQUFzSjtBQUN0SjtBQUNBLGtPQUF3STtBQUN4STtBQUNBLDRRQUEwSiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGJ1aWx0aW5cXFxcZ2xvYmFsLWVycm9yLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXE5hZ2FsYW5kXFxcXGdhbWxpbmdcXFxcbWVnYWVuZC1uZXdcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxjbGllbnQtc2VnbWVudC5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGh0dHAtYWNjZXNzLWZhbGxiYWNrXFxcXGVycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG1ldGFkYXRhXFxcXGFzeW5jLW1ldGFkYXRhLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbWV0YWRhdGFcXFxcbWV0YWRhdGEtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkU6XFxcXE5hZ2FsYW5kXFxcXGdhbWxpbmdcXFxcbWVnYWVuZC1uZXdcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxyZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcbGliXFxcXG1ldGFkYXRhXFxcXGdlbmVyYXRlXFxcXGljb24tbWFyay5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRTpcXFxcTmFnYWxhbmRcXFxcZ2FtbGluZ1xcXFxtZWdhZW5kLW5ld1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXG5leHQtZGV2dG9vbHNcXFxcdXNlcnNwYWNlXFxcXGFwcFxcXFxzZWdtZW50LWV4cGxvcmVyLW5vZGUuanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cbuiltin%5C%5Cglobal-error.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-segment.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Chttp-access-fallback%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Casync-metadata.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cmetadata%5C%5Cmetadata-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Clib%5C%5Cmetadata%5C%5Cgenerate%5C%5Cicon-mark.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cnext-devtools%5C%5Cuserspace%5C%5Capp%5C%5Csegment-explorer-node.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-sans%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistSans%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-mono%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-sans%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistSans%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.js%5C%22%2C%5C%22import%5C%22%3A%5C%22Geist_Mono%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22variable%5C%22%3A%5C%22--font-geist-mono%5C%22%2C%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22geistMono%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/app/admin/wallet/page.js */ \"(ssr)/./src/app/app/admin/wallet/page.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkUlM0ElNUMlNUNOYWdhbGFuZCU1QyU1Q2dhbWxpbmclNUMlNUNtZWdhZW5kLW5ldyU1QyU1Q3NyYyU1QyU1Q2FwcCU1QyU1Q2FwcCU1QyU1Q2FkbWluJTVDJTVDd2FsbGV0JTVDJTVDcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsZ0xBQThHIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJFOlxcXFxOYWdhbGFuZFxcXFxnYW1saW5nXFxcXG1lZ2FlbmQtbmV3XFxcXHNyY1xcXFxhcHBcXFxcYXBwXFxcXGFkbWluXFxcXHdhbGxldFxcXFxwYWdlLmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22E%3A%5C%5CNagaland%5C%5Cgamling%5C%5Cmegaend-new%5C%5Csrc%5C%5Capp%5C%5Capp%5C%5Cadmin%5C%5Cwallet%5C%5Cpage.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/Components/Layout/index.js":
/*!********************************************!*\
  !*** ./src/app/Components/Layout/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _Navbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Navbar */ \"(ssr)/./src/app/Components/Navbar/index.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/firebase */ \"(ssr)/./src/firebase.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n // adjust this import to your setup\nfunction Layout({ children }) {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.getAuth)(_firebase__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Layout.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_4__.onAuthStateChanged)(auth, {\n                \"Layout.useEffect.unsubscribe\": (user)=>{\n                    if (!user) {\n                        router.push('/public/login');\n                    }\n                }\n            }[\"Layout.useEffect.unsubscribe\"]);\n            return ({\n                \"Layout.useEffect\": ()=>unsubscribe()\n            })[\"Layout.useEffect\"];\n        }\n    }[\"Layout.useEffect\"], [\n        auth,\n        router\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Navbar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Layout\\\\index.js\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            children\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL0NvbXBvbmVudHMvTGF5b3V0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFeUM7QUFDRztBQUNiO0FBQzZCO0FBQ3ZCLENBQUMsbUNBQW1DO0FBRTFELFNBQVNPLE9BQU8sRUFBRUMsUUFBUSxFQUFFO0lBQ3pDLE1BQU1DLFNBQVNQLDBEQUFTQTtJQUN4QixNQUFNUSxPQUFPTixzREFBT0EsQ0FBQ0UsaURBQVdBO0lBRWhDTCxnREFBU0E7NEJBQUM7WUFDUixNQUFNVSxjQUFjTixpRUFBa0JBLENBQUNLO2dEQUFNLENBQUNFO29CQUM1QyxJQUFJLENBQUNBLE1BQU07d0JBQ1RILE9BQU9JLElBQUksQ0FBQztvQkFDZDtnQkFDRjs7WUFFQTtvQ0FBTyxJQUFNRjs7UUFDZjsyQkFBRztRQUFDRDtRQUFNRDtLQUFPO0lBRWpCLHFCQUNFOzswQkFDRSw4REFBQ04sK0NBQU1BOzs7OztZQUNOSzs7O0FBR1AiLCJzb3VyY2VzIjpbIkU6XFxOYWdhbGFuZFxcZ2FtbGluZ1xcbWVnYWVuZC1uZXdcXHNyY1xcYXBwXFxDb21wb25lbnRzXFxMYXlvdXRcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IE5hdmJhciBmcm9tICcuLi9OYXZiYXInO1xyXG5pbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnOyAvLyBhZGp1c3QgdGhpcyBpbXBvcnQgdG8geW91ciBzZXR1cFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF5b3V0KHsgY2hpbGRyZW4gfSkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJvdXRlci5wdXNoKCcvcHVibGljL2xvZ2luJyk7IFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICB9LCBbYXV0aCwgcm91dGVyXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8TmF2YmFyIC8+XHJcbiAgICAgIHtjaGlsZHJlbn1cclxuICAgIDwvPlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwiTmF2YmFyIiwiZ2V0QXV0aCIsIm9uQXV0aFN0YXRlQ2hhbmdlZCIsImZpcmViYXNlQXBwIiwiTGF5b3V0IiwiY2hpbGRyZW4iLCJyb3V0ZXIiLCJhdXRoIiwidW5zdWJzY3JpYmUiLCJ1c2VyIiwicHVzaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/Components/Layout/index.js\n");

/***/ }),

/***/ "(ssr)/./src/app/Components/Navbar/index.js":
/*!********************************************!*\
  !*** ./src/app/Components/Navbar/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Navbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/client/app-dir/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_Menu_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Menu!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/menu.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/firebase */ \"(ssr)/./src/firebase.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\nfunction Navbar() {\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_6__.usePathname)();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [walletBalance, setWalletBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('user'); // default role\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.getAuth)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    const db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.getFirestore)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    // useEffect(() => {\n    //   const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n    //     setUser(currentUser);\n    //     if (currentUser) {\n    //       // Fetch role\n    //       const userRef = doc(db, 'users', currentUser.uid);\n    //       const userSnap = await getDoc(userRef);\n    //       if (userSnap.exists()) {\n    //         const data = userSnap.data();\n    //         const roleFromDb = data.role || 'user';\n    //         setRole(roleFromDb);\n    //         // Fetch balance from appropriate collection\n    //         const collectionName = roleFromDb === 'admin' ? 'adminwallets' : 'subwallets';\n    //         const walletRef = doc(db, collectionName, currentUser.uid);\n    //         const walletSnap = await getDoc(walletRef);\n    //         if (walletSnap.exists()) {\n    //           setWalletBalance(walletSnap.data().balance ?? 0);\n    //         } else {\n    //           setWalletBalance(0);\n    //         }\n    //       }\n    //     } else {\n    //       setWalletBalance(null);\n    //       setRole('user');\n    //     }\n    //   });\n    //   return () => unsubscribe();\n    // }, []);\n    //   useEffect(() => {\n    //   const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n    //     setUser(currentUser);\n    //     if (currentUser) {\n    //       try {\n    //         // Get role from 'users' collection\n    //         const userRef = doc(db, 'users', currentUser.uid);\n    //         const userSnap = await getDoc(userRef);\n    //         let roleFromDb = 'user';\n    //         if (userSnap.exists()) {\n    //           const data = userSnap.data();\n    //           roleFromDb = data.role || 'user';\n    //         }\n    //         setRole(roleFromDb); //  SET role properly\n    //         // Then load wallet from correct collection\n    //         const collectionName = roleFromDb === 'admin' ? 'adminwallets' : 'subwallets';\n    //         const walletRef = doc(db, collectionName, currentUser.uid);\n    //         const walletSnap = await getDoc(walletRef);\n    //         if (walletSnap.exists()) {\n    //           setWalletBalance(walletSnap.data().balance ?? 0);\n    //         } else {\n    //           setWalletBalance(0);\n    //         }\n    //       } catch (err) {\n    //         console.error('Failed to fetch role or wallet:', err);\n    //         setWalletBalance(0);\n    //       }\n    //     } else {\n    //       setWalletBalance(null);\n    //       setRole('user');\n    //     }\n    //   });\n    //   return () => unsubscribe();\n    // }, []);\n    // useEffect(() => {\n    //   const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n    //     setUser(currentUser);\n    //     if (currentUser) {\n    //       const userRef = doc(db, 'users', currentUser.uid);\n    //       const userSnap = await getDoc(userRef);\n    //       let detectedRole = 'user';\n    //       if (userSnap.exists()) {\n    //         const data = userSnap.data();\n    //         detectedRole = data.role || 'user';\n    //         setRole(detectedRole);\n    //       }\n    //       //  Fetch wallet balance based on role\n    //       let walletRef;\n    //       if (detectedRole === 'admin') {\n    //         walletRef = doc(db, 'adminwallets', currentUser.uid);\n    //       } else {\n    //         walletRef = doc(db, 'subwallets', currentUser.uid); // same for subadmin and users\n    //       }\n    //       const walletSnap = await getDoc(walletRef);\n    //       if (walletSnap.exists()) {\n    //         setWalletBalance(walletSnap.data().balance ?? 0);\n    //       } else {\n    //         setWalletBalance(0);\n    //       }\n    //     } else {\n    //       setWalletBalance(null);\n    //       setRole('user');\n    //     }\n    //   });\n    //   return () => unsubscribe();\n    // }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Navbar.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.onAuthStateChanged)(auth, {\n                \"Navbar.useEffect.unsubscribe\": async (currentUser)=>{\n                    setUser(currentUser);\n                    if (currentUser) {\n                        console.log('Logged in as:', currentUser.email);\n                        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.doc)(db, 'users', currentUser.uid);\n                        const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.getDoc)(userRef);\n                        let detectedRole = 'user';\n                        if (userSnap.exists()) {\n                            const data = userSnap.data();\n                            detectedRole = data.role || 'user';\n                            setRole(detectedRole);\n                            console.log('Detected role:', detectedRole);\n                        }\n                        const collectionName = detectedRole === 'admin' ? 'adminwallets' : 'subwallets';\n                        const walletRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.doc)(db, collectionName, currentUser.uid);\n                        const walletSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.getDoc)(walletRef);\n                        if (walletSnap.exists()) {\n                            const balance = walletSnap.data().balance ?? 0;\n                            setWalletBalance(balance);\n                            console.log(`Wallet found in \"${collectionName}\" with balance:`, balance);\n                        } else {\n                            setWalletBalance(0);\n                            console.warn(`No wallet found in \"${collectionName}\" for UID:`, currentUser.uid);\n                        }\n                    } else {\n                        setWalletBalance(null);\n                        setRole('user');\n                    }\n                }\n            }[\"Navbar.useEffect.unsubscribe\"]);\n            return ({\n                \"Navbar.useEffect\": ()=>unsubscribe()\n            })[\"Navbar.useEffect\"];\n        }\n    }[\"Navbar.useEffect\"], []);\n    const handleLogout = async ()=>{\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.signOut)(auth);\n        router.push('/public/login');\n    };\n    const isActive = (href)=>pathname === href;\n    // Block subadmin from accessing admin-only pages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Navbar.useEffect\": ()=>{\n            if (role === 'subadmin' && pathname.includes('/admin/') && !pathname.includes('/admin/user-bets') && !pathname.includes('/admin/wallet')) {\n                router.push('/app/play');\n            }\n        }\n    }[\"Navbar.useEffect\"], [\n        role\n    ]);\n    const linkClass = (href)=>`text-sm font-semibold transition ${isActive(href) ? 'text-yellow-400' : 'text-white hover:text-yellow-400'}`;\n    // const renderLinks = () => {\n    //   const common = (\n    //     <>\n    //       <Link href=\"/app/play\" className={linkClass('/app/play')}>Play</Link>\n    //       <Link href=\"/app/add-balance\" className={linkClass('/app/add-balance')}>Balance</Link>\n    //       <Link href=\"/app/bet-history\" className={linkClass('/app/bet-history')}>Bet History</Link>\n    //       <Link href=\"/app/results\" className={linkClass('/app/results')}>Results</Link>\n    //     </>\n    //   );\n    //   const subAdminOnly = (\n    //     <>\n    //     <Link href=\"/app/add-balance\" className={linkClass('/app/add-balance')}>Balance</Link>\n    //       <Link href=\"/app/admin/wallet\" className={linkClass('/app/admin/wallet')}>Add Balance</Link>\n    //       <Link href=\"/app/admin/user-bets\" className={linkClass('/app/admin/user-bets')}>User Bets</Link>\n    //       <Link href=\"/app/user-details\" className={linkClass('/app/user-details')}>User Details</Link>\n    //       <Link href=\"/app/sub-admin/add-users\" className={linkClass('/app/sub-admin/add-users')}>Add Users</Link>\n    //     </>\n    //   );\n    //   const adminOnly = (\n    //     <>\n    //       {subAdminOnly}\n    //       <Link href=\"/app/admin/declare-result\" className={linkClass('/app/admin/declare-result')}>Declare Result</Link>\n    //       <Link href=\"/app/admin/sub-users\" className={linkClass('/app/admin/sub-users')}>Add Sub-User</Link>\n    //     </>\n    //   );\n    //   if (role === 'admin') return <>{common}{adminOnly}</>;\n    //   if (role === 'subadmin') return <>{subAdminOnly}</>;\n    //   return common;\n    // };\n    //  const renderLinks = () => {\n    //   const common = (\n    //     <>\n    //       <Link href=\"/app/play\" className={linkClass('/app/play')}>Play</Link>\n    //       <Link href=\"/app/add-balance\" className={linkClass('/app/add-balance')}>Balance</Link>\n    //       <Link href=\"/app/bet-history\" className={linkClass('/app/bet-history')}>Bet History</Link>\n    //       <Link href=\"/app/results\" className={linkClass('/app/results')}>Results</Link>\n    //     </>\n    //   );\n    //   const subAdminOnlyLinks = (\n    //     <>\n    //       {/* <Link href=\"/app/add-balance\" className={linkClass('/app/add-balance')}>Balance</Link> */}\n    //       <Link href=\"/app/admin/wallet\" className={linkClass('/app/admin/wallet')}>Add Balance</Link>\n    //       <Link href=\"/app/admin/user-bets\" className={linkClass('/app/admin/user-bets')}>User Bets</Link>\n    //       <Link href=\"/app/user-details\" className={linkClass('/app/user-details')}>User Details</Link>\n    //     </>\n    //   );\n    //   const addUsersLink = (\n    //     <Link href=\"/app/sub-admin/add-users\" className={linkClass('/app/sub-admin/add-users')}>Add Users</Link>\n    //   );\n    //   const adminOnly = (\n    //     <>\n    //       {subAdminOnlyLinks}\n    //       <Link href=\"/app/admin/declare-result\" className={linkClass('/app/admin/declare-result')}>Declare Result</Link>\n    //       <Link href=\"/app/admin/sub-users\" className={linkClass('/app/admin/sub-users')}>Add Sub-User</Link>\n    //     </>\n    //   );\n    //   if (role === 'admin') return <>{common}{adminOnly}</>;\n    //   if (role === 'subadmin') return <>{common}{subAdminOnlyLinks}{addUsersLink}</>;\n    //   return common;\n    // };\n    const renderLinks = ()=>{\n        const userLinks = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/play\",\n                    className: linkClass('/app/play'),\n                    children: \"Play\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 264,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/add-balance\",\n                    className: linkClass('/app/add-balance'),\n                    children: \"Balance\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 265,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/bet-history\",\n                    className: linkClass('/app/bet-history'),\n                    children: \"Bet History\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 266,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/results\",\n                    className: linkClass('/app/results'),\n                    children: \"Results\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 267,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n        const subAdminLinks = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/results\",\n                    className: linkClass('/app/results'),\n                    children: \"Results\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 273,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/admin/wallet\",\n                    className: linkClass('/app/admin/wallet'),\n                    children: \"Add Balance\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 274,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/admin/user-bets\",\n                    className: linkClass('/app/admin/user-bets'),\n                    children: \"User Bets\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 275,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/user-details\",\n                    className: linkClass('/app/user-details'),\n                    children: \"User Details\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 276,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/sub-admin/add-users\",\n                    className: linkClass('/app/sub-admin/add-users'),\n                    children: \"Add Users\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 277,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n        const adminLinks = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                subAdminLinks,\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/admin/declare-result\",\n                    className: linkClass('/app/admin/declare-result'),\n                    children: \"Declare Result\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 284,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                    href: \"/app/admin/sub-users\",\n                    className: linkClass('/app/admin/sub-users'),\n                    children: \"Add Sub-User\"\n                }, void 0, false, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                    lineNumber: 285,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true);\n        if (role === 'admin') return adminLinks;\n        if (role === 'subadmin') return subAdminLinks;\n        return userLinks;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n        className: \"bg-gray-800 p-4 shadow-md\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-7xl mx-auto flex justify-between items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                        href: \"/app/play\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-white font-bold text-lg hover:text-yellow-400 transition\",\n                            children: \"Nagaland Lottery Sambad\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                            lineNumber: 300,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                        lineNumber: 299,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setIsOpen(!isOpen),\n                        className: \"text-white md:hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Menu_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                            lineNumber: 307,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                        lineNumber: 306,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"hidden md:flex space-x-6 items-center\",\n                        children: [\n                            renderLinks(),\n                            user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-yellow-400 text-sm font-semibold\",\n                                children: [\n                                    \"\",\n                                    walletBalance?.toFixed(2)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                lineNumber: 314,\n                                columnNumber: 13\n                            }, this),\n                            !user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/public/login\",\n                                        className: linkClass('/public/login'),\n                                        children: \"Login\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                        lineNumber: 320,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                        href: \"/public/signup\",\n                                        className: linkClass('/public/signup'),\n                                        children: \"Signup\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                        lineNumber: 321,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleLogout,\n                                className: \"text-white text-sm font-semibold hover:text-yellow-400 bg-red-600 px-3 py-1 rounded\",\n                                children: \"Logout\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                lineNumber: 324,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                        lineNumber: 311,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                lineNumber: 297,\n                columnNumber: 7\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"md:hidden mt-4 flex flex-col space-y-2\",\n                children: [\n                    renderLinks(),\n                    user && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-yellow-400 text-sm font-semibold\",\n                        children: [\n                            \"Wallet: \",\n                            walletBalance?.toFixed(2)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                        lineNumber: 339,\n                        columnNumber: 13\n                    }, this),\n                    !user ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                href: \"/public/login\",\n                                className: linkClass('/public/login'),\n                                children: \"Login\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                lineNumber: 345,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                href: \"/public/signup\",\n                                className: linkClass('/public/signup'),\n                                children: \"Signup\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                                lineNumber: 346,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleLogout,\n                        className: \"text-white text-sm font-semibold hover:text-yellow-400 bg-red-600 px-3 py-1 rounded text-left\",\n                        children: \"Logout\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                        lineNumber: 349,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n                lineNumber: 336,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\Components\\\\Navbar\\\\index.js\",\n        lineNumber: 296,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z2FtbGluZ1xcbWVnYWVuZC1uZXdcXHNyY1xcYXBwXFxDb21wb25lbnRzXFxOYXZiYXJcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnO1xyXG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcclxuaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkLCBzaWduT3V0IH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBkb2MsIGdldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUGF0aG5hbWUgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTmF2YmFyKCkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IHBhdGhuYW1lID0gdXNlUGF0aG5hbWUoKTtcclxuXHJcbiAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbd2FsbGV0QmFsYW5jZSwgc2V0V2FsbGV0QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZSgndXNlcicpOyAvLyBkZWZhdWx0IHJvbGVcclxuXHJcbiAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4gIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbiAgLy8gdXNlRWZmZWN0KCgpID0+IHtcclxuICAvLyAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIChjdXJyZW50VXNlcikgPT4ge1xyXG4gIC8vICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcclxuXHJcbiAgLy8gICAgIGlmIChjdXJyZW50VXNlcikge1xyXG4gIC8vICAgICAgIC8vIEZldGNoIHJvbGVcclxuICAvLyAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCBjdXJyZW50VXNlci51aWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gIC8vICAgICAgIGlmICh1c2VyU25hcC5leGlzdHMoKSkge1xyXG4gIC8vICAgICAgICAgY29uc3QgZGF0YSA9IHVzZXJTbmFwLmRhdGEoKTtcclxuICAvLyAgICAgICAgIGNvbnN0IHJvbGVGcm9tRGIgPSBkYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4gIC8vICAgICAgICAgc2V0Um9sZShyb2xlRnJvbURiKTtcclxuXHJcbiAgLy8gICAgICAgICAvLyBGZXRjaCBiYWxhbmNlIGZyb20gYXBwcm9wcmlhdGUgY29sbGVjdGlvblxyXG4gIC8vICAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSByb2xlRnJvbURiID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbiAgLy8gICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIGNvbGxlY3Rpb25OYW1lLCBjdXJyZW50VXNlci51aWQpO1xyXG4gIC8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG5cclxuICAvLyAgICAgICAgIGlmICh3YWxsZXRTbmFwLmV4aXN0cygpKSB7XHJcbiAgLy8gICAgICAgICAgIHNldFdhbGxldEJhbGFuY2Uod2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwKTtcclxuICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICAgICAgIHNldFdhbGxldEJhbGFuY2UoMCk7XHJcbiAgLy8gICAgICAgICB9XHJcbiAgLy8gICAgICAgfVxyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgIHNldFdhbGxldEJhbGFuY2UobnVsbCk7XHJcbiAgLy8gICAgICAgc2V0Um9sZSgndXNlcicpO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9KTtcclxuXHJcbiAgLy8gICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICAvLyB9LCBbXSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XHJcbi8vICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcclxuXHJcbi8vICAgICBpZiAoY3VycmVudFVzZXIpIHtcclxuLy8gICAgICAgdHJ5IHtcclxuLy8gICAgICAgICAvLyBHZXQgcm9sZSBmcm9tICd1c2VycycgY29sbGVjdGlvblxyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcblxyXG4vLyAgICAgICAgIGxldCByb2xlRnJvbURiID0gJ3VzZXInO1xyXG4vLyAgICAgICAgIGlmICh1c2VyU25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgICAgY29uc3QgZGF0YSA9IHVzZXJTbmFwLmRhdGEoKTtcclxuLy8gICAgICAgICAgIHJvbGVGcm9tRGIgPSBkYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBzZXRSb2xlKHJvbGVGcm9tRGIpOyAvLyDirIXvuI8gU0VUIHJvbGUgcHJvcGVybHlcclxuXHJcbi8vICAgICAgICAgLy8gVGhlbiBsb2FkIHdhbGxldCBmcm9tIGNvcnJlY3QgY29sbGVjdGlvblxyXG4vLyAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gcm9sZUZyb21EYiA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgY29sbGVjdGlvbk5hbWUsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG5cclxuLy8gICAgICAgICBpZiAod2FsbGV0U25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgICAgc2V0V2FsbGV0QmFsYW5jZSh3YWxsZXRTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICBzZXRXYWxsZXRCYWxhbmNlKDApO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCByb2xlIG9yIHdhbGxldDonLCBlcnIpO1xyXG4vLyAgICAgICAgIHNldFdhbGxldEJhbGFuY2UoMCk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0gZWxzZSB7XHJcbi8vICAgICAgIHNldFdhbGxldEJhbGFuY2UobnVsbCk7XHJcbi8vICAgICAgIHNldFJvbGUoJ3VzZXInKTtcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuXHJcbi8vICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vIH0sIFtdKTtcclxuXHJcbi8vIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKGN1cnJlbnRVc2VyKSA9PiB7XHJcbi8vICAgICBzZXRVc2VyKGN1cnJlbnRVc2VyKTtcclxuLy8gICAgIGlmIChjdXJyZW50VXNlcikge1xyXG4vLyAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCBjdXJyZW50VXNlci51aWQpO1xyXG4vLyAgICAgICBjb25zdCB1c2VyU25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuXHJcbi8vICAgICAgIGxldCBkZXRlY3RlZFJvbGUgPSAndXNlcic7XHJcbi8vICAgICAgIGlmICh1c2VyU25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgIGNvbnN0IGRhdGEgPSB1c2VyU25hcC5kYXRhKCk7XHJcbi8vICAgICAgICAgZGV0ZWN0ZWRSb2xlID0gZGF0YS5yb2xlIHx8ICd1c2VyJztcclxuLy8gICAgICAgICBzZXRSb2xlKGRldGVjdGVkUm9sZSk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIC8vIOKchSBGZXRjaCB3YWxsZXQgYmFsYW5jZSBiYXNlZCBvbiByb2xlXHJcbi8vICAgICAgIGxldCB3YWxsZXRSZWY7XHJcbi8vICAgICAgIGlmIChkZXRlY3RlZFJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gICAgICAgICB3YWxsZXRSZWYgPSBkb2MoZGIsICdhZG1pbndhbGxldHMnLCBjdXJyZW50VXNlci51aWQpO1xyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHdhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBjdXJyZW50VXNlci51aWQpOyAvLyBzYW1lIGZvciBzdWJhZG1pbiBhbmQgdXNlcnNcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG4vLyAgICAgICBpZiAod2FsbGV0U25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgIHNldFdhbGxldEJhbGFuY2Uod2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICBzZXRXYWxsZXRCYWxhbmNlKDApO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICBzZXRXYWxsZXRCYWxhbmNlKG51bGwpO1xyXG4vLyAgICAgICBzZXRSb2xlKCd1c2VyJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcblxyXG4vLyAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4vLyB9LCBbXSk7XHJcblxyXG51c2VFZmZlY3QoKCkgPT4ge1xyXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIChjdXJyZW50VXNlcikgPT4ge1xyXG4gICAgc2V0VXNlcihjdXJyZW50VXNlcik7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdMb2dnZWQgaW4gYXM6JywgY3VycmVudFVzZXIuZW1haWwpO1xyXG5cclxuICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgY3VycmVudFVzZXIudWlkKTtcclxuICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcblxyXG4gICAgICBsZXQgZGV0ZWN0ZWRSb2xlID0gJ3VzZXInO1xyXG4gICAgICBpZiAodXNlclNuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdXNlclNuYXAuZGF0YSgpO1xyXG4gICAgICAgIGRldGVjdGVkUm9sZSA9IGRhdGEucm9sZSB8fCAndXNlcic7XHJcbiAgICAgICAgc2V0Um9sZShkZXRlY3RlZFJvbGUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEZXRlY3RlZCByb2xlOicsIGRldGVjdGVkUm9sZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gZGV0ZWN0ZWRSb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbiAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgY29sbGVjdGlvbk5hbWUsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbiAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuXHJcbiAgICAgIGlmICh3YWxsZXRTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IHdhbGxldFNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuICAgICAgICBzZXRXYWxsZXRCYWxhbmNlKGJhbGFuY2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBXYWxsZXQgZm91bmQgaW4gXCIke2NvbGxlY3Rpb25OYW1lfVwiIHdpdGggYmFsYW5jZTpgLCBiYWxhbmNlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRXYWxsZXRCYWxhbmNlKDApO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgTm8gd2FsbGV0IGZvdW5kIGluIFwiJHtjb2xsZWN0aW9uTmFtZX1cIiBmb3IgVUlEOmAsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFdhbGxldEJhbGFuY2UobnVsbCk7XHJcbiAgICAgIHNldFJvbGUoJ3VzZXInKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbn0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgc2lnbk91dChhdXRoKTtcclxuICAgIHJvdXRlci5wdXNoKCcvcHVibGljL2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaXNBY3RpdmUgPSAoaHJlZikgPT4gcGF0aG5hbWUgPT09IGhyZWY7XHJcblxyXG4gIC8vIEJsb2NrIHN1YmFkbWluIGZyb20gYWNjZXNzaW5nIGFkbWluLW9ubHkgcGFnZXNcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgcGF0aG5hbWUuaW5jbHVkZXMoJy9hZG1pbi8nKSAmJlxyXG4gICAgICAgICFwYXRobmFtZS5pbmNsdWRlcygnL2FkbWluL3VzZXItYmV0cycpICYmXHJcbiAgICAgICAgIXBhdGhuYW1lLmluY2x1ZGVzKCcvYWRtaW4vd2FsbGV0JykpIHtcclxuICAgICAgcm91dGVyLnB1c2goJy9hcHAvcGxheScpO1xyXG4gICAgfVxyXG4gIH0sIFtyb2xlXSk7XHJcblxyXG4gIGNvbnN0IGxpbmtDbGFzcyA9IChocmVmKSA9PlxyXG4gICAgYHRleHQtc20gZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uICR7XHJcbiAgICAgIGlzQWN0aXZlKGhyZWYpID8gJ3RleHQteWVsbG93LTQwMCcgOiAndGV4dC13aGl0ZSBob3Zlcjp0ZXh0LXllbGxvdy00MDAnXHJcbiAgICB9YDtcclxuXHJcbiAgLy8gY29uc3QgcmVuZGVyTGlua3MgPSAoKSA9PiB7XHJcbiAgLy8gICBjb25zdCBjb21tb24gPSAoXHJcbiAgLy8gICAgIDw+XHJcbiAgLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvcGxheVwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL3BsYXknKX0+UGxheTwvTGluaz5cclxuICAvLyAgICAgICA8TGluayBocmVmPVwiL2FwcC9hZGQtYmFsYW5jZVwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkZC1iYWxhbmNlJyl9PkJhbGFuY2U8L0xpbms+XHJcbiAgLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYmV0LWhpc3RvcnlcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9iZXQtaGlzdG9yeScpfT5CZXQgSGlzdG9yeTwvTGluaz5cclxuICAvLyAgICAgICA8TGluayBocmVmPVwiL2FwcC9yZXN1bHRzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvcmVzdWx0cycpfT5SZXN1bHRzPC9MaW5rPlxyXG4gIC8vICAgICA8Lz5cclxuICAvLyAgICk7XHJcblxyXG4gIC8vICAgY29uc3Qgc3ViQWRtaW5Pbmx5ID0gKFxyXG4gIC8vICAgICA8PlxyXG4gIC8vICAgICA8TGluayBocmVmPVwiL2FwcC9hZGQtYmFsYW5jZVwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkZC1iYWxhbmNlJyl9PkJhbGFuY2U8L0xpbms+XHJcbiAgLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYWRtaW4vd2FsbGV0XCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRtaW4vd2FsbGV0Jyl9PkFkZCBCYWxhbmNlPC9MaW5rPlxyXG4gIC8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL3VzZXItYmV0c1wiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL3VzZXItYmV0cycpfT5Vc2VyIEJldHM8L0xpbms+XHJcbiAgLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvdXNlci1kZXRhaWxzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvdXNlci1kZXRhaWxzJyl9PlVzZXIgRGV0YWlsczwvTGluaz5cclxuICAvLyAgICAgICA8TGluayBocmVmPVwiL2FwcC9zdWItYWRtaW4vYWRkLXVzZXJzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvc3ViLWFkbWluL2FkZC11c2VycycpfT5BZGQgVXNlcnM8L0xpbms+XHJcbiAgLy8gICAgIDwvPlxyXG4gIC8vICAgKTtcclxuXHJcbiAgLy8gICBjb25zdCBhZG1pbk9ubHkgPSAoXHJcbiAgLy8gICAgIDw+XHJcbiAgLy8gICAgICAge3N1YkFkbWluT25seX1cclxuICAvLyAgICAgICA8TGluayBocmVmPVwiL2FwcC9hZG1pbi9kZWNsYXJlLXJlc3VsdFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL2RlY2xhcmUtcmVzdWx0Jyl9PkRlY2xhcmUgUmVzdWx0PC9MaW5rPlxyXG4gIC8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL3N1Yi11c2Vyc1wiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL3N1Yi11c2VycycpfT5BZGQgU3ViLVVzZXI8L0xpbms+XHJcbiAgLy8gICAgIDwvPlxyXG4gIC8vICAgKTtcclxuXHJcbiAgLy8gICBpZiAocm9sZSA9PT0gJ2FkbWluJykgcmV0dXJuIDw+e2NvbW1vbn17YWRtaW5Pbmx5fTwvPjtcclxuICAvLyAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSByZXR1cm4gPD57c3ViQWRtaW5Pbmx5fTwvPjtcclxuICAvLyAgIHJldHVybiBjb21tb247XHJcbiAgLy8gfTtcclxuLy8gIGNvbnN0IHJlbmRlckxpbmtzID0gKCkgPT4ge1xyXG4vLyAgIGNvbnN0IGNvbW1vbiA9IChcclxuLy8gICAgIDw+XHJcbi8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL3BsYXlcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9wbGF5Jyl9PlBsYXk8L0xpbms+XHJcbi8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkZC1iYWxhbmNlXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRkLWJhbGFuY2UnKX0+QmFsYW5jZTwvTGluaz5cclxuLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYmV0LWhpc3RvcnlcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9iZXQtaGlzdG9yeScpfT5CZXQgSGlzdG9yeTwvTGluaz5cclxuLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvcmVzdWx0c1wiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL3Jlc3VsdHMnKX0+UmVzdWx0czwvTGluaz5cclxuLy8gICAgIDwvPlxyXG4vLyAgICk7XHJcblxyXG4vLyAgIGNvbnN0IHN1YkFkbWluT25seUxpbmtzID0gKFxyXG4vLyAgICAgPD5cclxuLy8gICAgICAgey8qIDxMaW5rIGhyZWY9XCIvYXBwL2FkZC1iYWxhbmNlXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRkLWJhbGFuY2UnKX0+QmFsYW5jZTwvTGluaz4gKi99XHJcbi8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL3dhbGxldFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL3dhbGxldCcpfT5BZGQgQmFsYW5jZTwvTGluaz5cclxuLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYWRtaW4vdXNlci1iZXRzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRtaW4vdXNlci1iZXRzJyl9PlVzZXIgQmV0czwvTGluaz5cclxuLy8gICAgICAgPExpbmsgaHJlZj1cIi9hcHAvdXNlci1kZXRhaWxzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvdXNlci1kZXRhaWxzJyl9PlVzZXIgRGV0YWlsczwvTGluaz5cclxuLy8gICAgIDwvPlxyXG4vLyAgICk7XHJcblxyXG4vLyAgIGNvbnN0IGFkZFVzZXJzTGluayA9IChcclxuLy8gICAgIDxMaW5rIGhyZWY9XCIvYXBwL3N1Yi1hZG1pbi9hZGQtdXNlcnNcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9zdWItYWRtaW4vYWRkLXVzZXJzJyl9PkFkZCBVc2VyczwvTGluaz5cclxuLy8gICApO1xyXG5cclxuLy8gICBjb25zdCBhZG1pbk9ubHkgPSAoXHJcbi8vICAgICA8PlxyXG4vLyAgICAgICB7c3ViQWRtaW5Pbmx5TGlua3N9XHJcbi8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL2RlY2xhcmUtcmVzdWx0XCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRtaW4vZGVjbGFyZS1yZXN1bHQnKX0+RGVjbGFyZSBSZXN1bHQ8L0xpbms+XHJcbi8vICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL3N1Yi11c2Vyc1wiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL3N1Yi11c2VycycpfT5BZGQgU3ViLVVzZXI8L0xpbms+XHJcbi8vICAgICA8Lz5cclxuLy8gICApO1xyXG5cclxuLy8gICBpZiAocm9sZSA9PT0gJ2FkbWluJykgcmV0dXJuIDw+e2NvbW1vbn17YWRtaW5Pbmx5fTwvPjtcclxuLy8gICBpZiAocm9sZSA9PT0gJ3N1YmFkbWluJykgcmV0dXJuIDw+e2NvbW1vbn17c3ViQWRtaW5Pbmx5TGlua3N9e2FkZFVzZXJzTGlua308Lz47XHJcbi8vICAgcmV0dXJuIGNvbW1vbjtcclxuLy8gfTtcclxuY29uc3QgcmVuZGVyTGlua3MgPSAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckxpbmtzID0gKFxyXG4gICAgPD5cclxuICAgICAgPExpbmsgaHJlZj1cIi9hcHAvcGxheVwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL3BsYXknKX0+UGxheTwvTGluaz5cclxuICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYWRkLWJhbGFuY2VcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9hZGQtYmFsYW5jZScpfT5CYWxhbmNlPC9MaW5rPlxyXG4gICAgICA8TGluayBocmVmPVwiL2FwcC9iZXQtaGlzdG9yeVwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2JldC1oaXN0b3J5Jyl9PkJldCBIaXN0b3J5PC9MaW5rPlxyXG4gICAgICA8TGluayBocmVmPVwiL2FwcC9yZXN1bHRzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvcmVzdWx0cycpfT5SZXN1bHRzPC9MaW5rPlxyXG4gICAgPC8+XHJcbiAgKTtcclxuXHJcbiAgY29uc3Qgc3ViQWRtaW5MaW5rcyA9IChcclxuICAgIDw+XHJcbiAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL3Jlc3VsdHNcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9yZXN1bHRzJyl9PlJlc3VsdHM8L0xpbms+XHJcbiAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL2FkbWluL3dhbGxldFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL3dhbGxldCcpfT5BZGQgQmFsYW5jZTwvTGluaz5cclxuICAgICAgPExpbmsgaHJlZj1cIi9hcHAvYWRtaW4vdXNlci1iZXRzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvYWRtaW4vdXNlci1iZXRzJyl9PlVzZXIgQmV0czwvTGluaz5cclxuICAgICAgPExpbmsgaHJlZj1cIi9hcHAvdXNlci1kZXRhaWxzXCIgY2xhc3NOYW1lPXtsaW5rQ2xhc3MoJy9hcHAvdXNlci1kZXRhaWxzJyl9PlVzZXIgRGV0YWlsczwvTGluaz5cclxuICAgICAgPExpbmsgaHJlZj1cIi9hcHAvc3ViLWFkbWluL2FkZC11c2Vyc1wiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL3N1Yi1hZG1pbi9hZGQtdXNlcnMnKX0+QWRkIFVzZXJzPC9MaW5rPlxyXG4gICAgPC8+XHJcbiAgKTtcclxuXHJcbiAgY29uc3QgYWRtaW5MaW5rcyA9IChcclxuICAgIDw+XHJcbiAgICAgIHtzdWJBZG1pbkxpbmtzfVxyXG4gICAgICA8TGluayBocmVmPVwiL2FwcC9hZG1pbi9kZWNsYXJlLXJlc3VsdFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvYXBwL2FkbWluL2RlY2xhcmUtcmVzdWx0Jyl9PkRlY2xhcmUgUmVzdWx0PC9MaW5rPlxyXG4gICAgICA8TGluayBocmVmPVwiL2FwcC9hZG1pbi9zdWItdXNlcnNcIiBjbGFzc05hbWU9e2xpbmtDbGFzcygnL2FwcC9hZG1pbi9zdWItdXNlcnMnKX0+QWRkIFN1Yi1Vc2VyPC9MaW5rPlxyXG4gICAgPC8+XHJcbiAgKTtcclxuXHJcbiAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHJldHVybiBhZG1pbkxpbmtzO1xyXG4gIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSByZXR1cm4gc3ViQWRtaW5MaW5rcztcclxuICByZXR1cm4gdXNlckxpbmtzO1xyXG59O1xyXG5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxuYXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcC00IHNoYWRvdy1tZFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgIHsvKiBMb2dvICovfVxyXG4gICAgICAgIDxMaW5rIGhyZWY9XCIvYXBwL3BsYXlcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC1sZyBob3Zlcjp0ZXh0LXllbGxvdy00MDAgdHJhbnNpdGlvblwiPlxyXG4gICAgICAgICAgICBOYWdhbGFuZCBMb3R0ZXJ5IFNhbWJhZFxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9MaW5rPlxyXG5cclxuICAgICAgICB7LyogSGFtYnVyZ2VyICovfVxyXG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKCFpc09wZW4pfSBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIG1kOmhpZGRlblwiPlxyXG4gICAgICAgICAgPE1lbnUgc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgIHsvKiBEZXNrdG9wIExpbmtzICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGlkZGVuIG1kOmZsZXggc3BhY2UteC02IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAge3JlbmRlckxpbmtzKCl9XHJcbiAgICAgICAgICB7dXNlciAmJiAoXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTQwMCB0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgICAgICDigrl7d2FsbGV0QmFsYW5jZT8udG9GaXhlZCgyKX1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHshdXNlciA/IChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3B1YmxpYy9sb2dpblwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvcHVibGljL2xvZ2luJyl9PkxvZ2luPC9MaW5rPlxyXG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHVibGljL3NpZ251cFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvcHVibGljL3NpZ251cCcpfT5TaWdudXA8L0xpbms+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBob3Zlcjp0ZXh0LXllbGxvdy00MDAgYmctcmVkLTYwMCBweC0zIHB5LTEgcm91bmRlZFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBMb2dvdXRcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBNb2JpbGUgTGlua3MgKi99XHJcbiAgICAgIHtpc09wZW4gJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6aGlkZGVuIG10LTQgZmxleCBmbGV4LWNvbCBzcGFjZS15LTJcIj5cclxuICAgICAgICAgIHtyZW5kZXJMaW5rcygpfVxyXG4gICAgICAgICAge3VzZXIgJiYgKFxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy00MDAgdGV4dC1zbSBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgICAgICAgICAgV2FsbGV0OiDigrl7d2FsbGV0QmFsYW5jZT8udG9GaXhlZCgyKX1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIHshdXNlciA/IChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL3B1YmxpYy9sb2dpblwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvcHVibGljL2xvZ2luJyl9PkxvZ2luPC9MaW5rPlxyXG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvcHVibGljL3NpZ251cFwiIGNsYXNzTmFtZT17bGlua0NsYXNzKCcvcHVibGljL3NpZ251cCcpfT5TaWdudXA8L0xpbms+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUxvZ291dH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1zZW1pYm9sZCBob3Zlcjp0ZXh0LXllbGxvdy00MDAgYmctcmVkLTYwMCBweC0zIHB5LTEgcm91bmRlZCB0ZXh0LWxlZnRcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgTG9nb3V0XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvbmF2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJMaW5rIiwiTWVudSIsImdldEF1dGgiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJzaWduT3V0IiwiZmlyZWJhc2VBcHAiLCJnZXRGaXJlc3RvcmUiLCJkb2MiLCJnZXREb2MiLCJ1c2VSb3V0ZXIiLCJ1c2VQYXRobmFtZSIsIk5hdmJhciIsInJvdXRlciIsInBhdGhuYW1lIiwiaXNPcGVuIiwic2V0SXNPcGVuIiwidXNlciIsInNldFVzZXIiLCJ3YWxsZXRCYWxhbmNlIiwic2V0V2FsbGV0QmFsYW5jZSIsInJvbGUiLCJzZXRSb2xlIiwiYXV0aCIsImRiIiwidW5zdWJzY3JpYmUiLCJjdXJyZW50VXNlciIsImNvbnNvbGUiLCJsb2ciLCJlbWFpbCIsInVzZXJSZWYiLCJ1aWQiLCJ1c2VyU25hcCIsImRldGVjdGVkUm9sZSIsImV4aXN0cyIsImRhdGEiLCJjb2xsZWN0aW9uTmFtZSIsIndhbGxldFJlZiIsIndhbGxldFNuYXAiLCJiYWxhbmNlIiwid2FybiIsImhhbmRsZUxvZ291dCIsInB1c2giLCJpc0FjdGl2ZSIsImhyZWYiLCJpbmNsdWRlcyIsImxpbmtDbGFzcyIsInJlbmRlckxpbmtzIiwidXNlckxpbmtzIiwiY2xhc3NOYW1lIiwic3ViQWRtaW5MaW5rcyIsImFkbWluTGlua3MiLCJuYXYiLCJkaXYiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInNwYW4iLCJ0b0ZpeGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/Components/Navbar/index.js\n");

/***/ }),

/***/ "(ssr)/./src/app/app/admin/wallet/page.js":
/*!******************************************!*\
  !*** ./src/app/app/admin/wallet/page.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/firebase */ \"(ssr)/./src/firebase.js\");\n/* harmony import */ var _app_Components_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/app/Components/Layout */ \"(ssr)/./src/app/Components/Layout/index.js\");\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   updateDoc,\n//   serverTimestamp,\n//   orderBy,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [admin, setAdmin] = useState(null);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [currentBalance, setCurrentBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [amountToDeduct, setAmountToDeduct] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [submitting, setSubmitting] = useState(false);\n//   const [depositRequests, setDepositRequests] = useState([]);\n//   const [withdrawRequests, setWithdrawRequests] = useState([]);\n//   const [refreshKey, setRefreshKey] = useState(0); // To re-fetch after approve/reject\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\n//       setAdmin(user);\n//     });\n//     return () => unsubscribe();\n//   }, [auth]);\n//   useEffect(() => {\n//     if (!admin) return;\n//     const fetchRequests = async () => {\n//       // Deposit\n//       const depQ = query(\n//         collection(db, 'depositRequests'),\n//         where('status', '==', 'pending'),\n//         orderBy('createdAt', 'desc')\n//       );\n//       const depSnap = await getDocs(depQ);\n//       setDepositRequests(depSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\n//       // Withdraw\n//       const withQ = query(\n//         collection(db, 'withdrawRequests'),\n//         where('status', '==', 'pending'),\n//         orderBy('createdAt', 'desc')\n//       );\n//       const withSnap = await getDocs(withQ);\n//       setWithdrawRequests(withSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\n//     };\n//     fetchRequests();\n//   }, [admin, db, refreshKey]);\n//   const handleSearch = async () => {\n//     if (!targetEmail) {\n//       alert('Enter a valid email.');\n//       return;\n//     }\n//     setLoading(true);\n//     try {\n//       const walletQuery = query(\n//         collection(db, 'wallets'),\n//         where('email', '==', targetEmail)\n//       );\n//       const walletSnap = await getDocs(walletQuery);\n//       if (!walletSnap.empty) {\n//         const walletDoc = walletSnap.docs[0];\n//         setTargetUid(walletDoc.data().uid);\n//         setCurrentBalance(walletDoc.data().balance ?? 0);\n//       } else {\n//         alert(\n//           'Wallet not found. Ask the user to login once so their wallet is auto-created.'\n//         );\n//         setTargetUid('');\n//         setCurrentBalance(null);\n//       }\n//     } catch (error) {\n//       console.error('Error during search:', error);\n//       alert('Error searching for wallet.');\n//     }\n//     setLoading(false);\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid) {\n//       alert('Search and select a user first.');\n//       return;\n//     }\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       alert('Enter a valid positive amount.');\n//       return;\n//     }\n//     setSubmitting(true);\n//     try {\n//       const walletRef = doc(db, 'wallets', targetUid);\n//       await updateDoc(walletRef, {\n//         balance: (currentBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setCurrentBalance((prev) => (prev ?? 0) + amount);\n//       setAmountToAdd('');\n//       alert('Wallet balance updated successfully!');\n//     } catch (error) {\n//       console.error('Error updating wallet:', error);\n//       alert('Failed to update wallet.');\n//     } finally {\n//       setSubmitting(false);\n//     }\n//   };\n//   const handleDeductBalance = async () => {\n//     if (!targetUid) {\n//       alert('Search and select a user first.');\n//       return;\n//     }\n//     const amount = parseFloat(amountToDeduct);\n//     if (isNaN(amount) || amount <= 0) {\n//       alert('Enter a valid positive amount.');\n//       return;\n//     }\n//     if (amount > (currentBalance ?? 0)) {\n//       alert('Cannot deduct more than the current balance.');\n//       return;\n//     }\n//     setSubmitting(true);\n//     try {\n//       const walletRef = doc(db, 'wallets', targetUid);\n//       await updateDoc(walletRef, {\n//         balance: (currentBalance ?? 0) - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setCurrentBalance((prev) => (prev ?? 0) - amount);\n//       setAmountToDeduct('');\n//       alert('Wallet balance deducted successfully!');\n//     } catch (error) {\n//       console.error('Error deducting wallet:', error);\n//       alert('Failed to deduct wallet balance.');\n//     } finally {\n//       setSubmitting(false);\n//     }\n//   };\n//   const handleStatusChange = async (collectionName, id, newStatus) => {\n//     try {\n//       const ref = doc(db, collectionName, id);\n//       await updateDoc(ref, {\n//         status: newStatus,\n//         updatedAt: serverTimestamp(),\n//       });\n//       alert(`Request marked as ${newStatus}`);\n//       setRefreshKey((prev) => prev + 1);\n//     } catch (error) {\n//       console.error('Error updating status:', error);\n//       alert('Failed to update status.');\n//     }\n//   };\n//   if (!admin) {\n//     return (\n//       <div className=\"min-h-screen flex items-center justify-center bg-gray-900 text-white\">\n//         <p>Please login as admin to manage wallets.</p>\n//       </div>\n//     );\n//   }\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-start p-8 space-y-8\">\n//         <div className=\"bg-gray-800 rounded-lg shadow-2xl p-6 max-w-md w-full\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             Admin: Manage Wallet\n//           </h1>\n//           <div className=\"mb-4\">\n//             <label className=\"block mb-2\">User Email</label>\n//             <input\n//               type=\"email\"\n//               value={targetEmail}\n//               onChange={(e) => setTargetEmail(e.target.value)}\n//               placeholder=\"Enter user email\"\n//               className=\"w-full px-4 py-3 rounded bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n//             />\n//             <button\n//               onClick={handleSearch}\n//               disabled={loading}\n//               className={`mt-2 w-full py-3 rounded-md font-semibold text-black ${\n//                 loading\n//                   ? 'bg-yellow-100 cursor-not-allowed'\n//                   : 'bg-yellow-400 hover:bg-yellow-500'\n//               }`}\n//             >\n//               {loading ? 'Searching...' : 'Find Wallet'}\n//             </button>\n//           </div>\n//           {targetUid && (\n//             <div className=\"mb-4\">\n//               <p className=\"text-sm mb-1 text-gray-400 break-all\">\n//                 UID: <span className=\"font-medium\">{targetUid}</span>\n//               </p>\n//               <p className=\"text-lg mb-4\">\n//                 Current Balance:{' '}\n//                 <span className=\"text-yellow-400 font-semibold\">\n//                   {currentBalance?.toFixed(2)}\n//                 </span>\n//               </p>\n//               <label className=\"block mb-2\">Add Balance</label>\n//               <input\n//                 type=\"number\"\n//                 min=\"0\"\n//                 step=\"0.01\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//                 placeholder=\"Enter amount to add\"\n//                 className=\"w-full px-4 py-3 mb-2 rounded bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 disabled={submitting}\n//                 className={`w-full py-3 rounded-md font-semibold text-black ${\n//                   submitting\n//                     ? 'bg-yellow-100 cursor-not-allowed'\n//                     : 'bg-yellow-400 hover:bg-yellow-500'\n//                 }`}\n//               >\n//                 {submitting ? 'Updating...' : 'Add Balance'}\n//               </button>\n//               <label className=\"block mb-2 mt-6\">Deduct Balance</label>\n//               <input\n//                 type=\"number\"\n//                 min=\"0\"\n//                 step=\"0.01\"\n//                 value={amountToDeduct}\n//                 onChange={(e) => setAmountToDeduct(e.target.value)}\n//                 placeholder=\"Enter amount to deduct\"\n//                 className=\"w-full px-4 py-3 mb-2 rounded bg-gray-700 border border-gray-600 text-white focus:outline-none focus:ring-2 focus:ring-red-400\"\n//               />\n//               <button\n//                 onClick={handleDeductBalance}\n//                 disabled={submitting}\n//                 className={`w-full py-3 rounded-md font-semibold text-black ${\n//                   submitting\n//                     ? 'bg-red-100 cursor-not-allowed'\n//                     : 'bg-red-500 hover:bg-red-600'\n//                 }`}\n//               >\n//                 {submitting ? 'Updating...' : 'Deduct Balance'}\n//               </button>\n//             </div>\n//           )}\n//         </div>\n//         {/* Deposit Requests */}\n//         <div className=\"bg-gray-800 rounded-lg shadow-2xl p-6 max-w-2xl w-full\">\n//           <h2 className=\"text-xl font-bold mb-4\">Deposit Requests</h2>\n//           {depositRequests.length === 0 && (\n//             <p className=\"text-gray-400\">No deposit requests found.</p>\n//           )}\n//           {depositRequests.map((req) => (\n//             <div\n//               key={req.id}\n//               className=\"mb-4 border-b border-gray-600 pb-2 text-sm\"\n//             >\n//               <p>Email: {req.email}</p>\n//               <p>Amount: {req.amount}</p>\n//               <p>Txn ID: {req.transactionId}</p>\n//               <p>Status: <span className=\"font-bold\">{req.status}</span></p>\n//               <p>\n//                 Date:{' '}\n//                 {req.createdAt?.toDate\n//                   ? req.createdAt.toDate().toLocaleString()\n//                   : 'N/A'}\n//               </p>\n//               <div className=\"mt-2 flex gap-2\">\n//                 <button\n//                   onClick={() => handleStatusChange('depositRequests', req.id, 'approved')}\n//                   className=\"bg-green-500 hover:bg-green-600 text-black font-semibold py-1 px-3 rounded\"\n//                 >\n//                   Approve\n//                 </button>\n//                 <button\n//                   onClick={() => handleStatusChange('depositRequests', req.id, 'rejected')}\n//                   className=\"bg-red-500 hover:bg-red-600 text-black font-semibold py-1 px-3 rounded\"\n//                 >\n//                   Reject\n//                 </button>\n//               </div>\n//             </div>\n//           ))}\n//         </div>\n//         {/* Withdraw Requests */}\n//         {/* <div className=\"bg-gray-800 rounded-lg shadow-2xl p-6 max-w-2xl w-full\">\n//           <h2 className=\"text-xl font-bold mb-4\">Withdraw Requests</h2>\n//           {withdrawRequests.length === 0 && (\n//             <p className=\"text-gray-400\">No withdraw requests found.</p>\n//           )}\n//           {withdrawRequests.map((req) => (\n//             <div\n//               key={req.id}\n//               className=\"mb-4 border-b border-gray-600 pb-2 text-sm\"\n//             >\n//               <p>Email: {req.email}</p>\n//               <p>Amount: {req.amount}</p>\n//               <p>Status: <span className=\"font-bold\">{req.status}</span></p>\n//               <p>\n//                 Date:{' '}\n//                 {req.createdAt?.toDate\n//                   ? req.createdAt.toDate().toLocaleString()\n//                   : 'N/A'}\n//               </p>\n//               <div className=\"mt-2 flex gap-2\">\n//                 <button\n//                   onClick={() => handleStatusChange('withdrawRequests', req.id, 'approved')}\n//                   className=\"bg-green-500 hover:bg-green-600 text-black font-semibold py-1 px-3 rounded\"\n//                 >\n//                   Approve\n//                 </button>\n//                 <button\n//                   onClick={() => handleStatusChange('withdrawRequests', req.id, 'rejected')}\n//                   className=\"bg-red-500 hover:bg-red-600 text-black font-semibold py-1 px-3 rounded\"\n//                 >\n//                   Reject\n//                 </button>\n//               </div>\n//             </div>\n//           ))}\n//         </div> */}\n//         <div className=\"bg-gray-800 rounded-lg shadow-2xl p-6 max-w-2xl w-full\">\n//   <h2 className=\"text-xl font-bold mb-4\">Withdraw Requests</h2>\n//   {withdrawRequests.length === 0 && (\n//     <p className=\"text-gray-400\">No withdraw requests found.</p>\n//   )}\n//   {withdrawRequests.map((req) => (\n//     <div\n//       key={req.id}\n//       className=\"mb-4 border-b border-gray-600 pb-3 text-sm\"\n//     >\n//       <p><span className=\"font-semibold\">Email:</span> {req.email}</p>\n//       <p><span className=\"font-semibold\">Amount:</span> {req.amount}</p>\n//       <p><span className=\"font-semibold\">Status:</span> <span className=\"font-bold\">{req.status}</span></p>\n//       <p>\n//         <span className=\"font-semibold\">Date:</span>{' '}\n//         {req.createdAt?.toDate\n//           ? req.createdAt.toDate().toLocaleString()\n//           : 'N/A'}\n//       </p>\n//       <p><span className=\"font-semibold\">Method:</span> {req.method || 'N/A'}</p>\n//       <p><span className=\"font-semibold\">Address:</span> {req.address || 'N/A'}</p>\n//       <div className=\"mt-2 flex gap-2\">\n//         <button\n//           onClick={() => handleStatusChange('withdrawRequests', req.id, 'approved')}\n//           className=\"bg-green-500 hover:bg-green-600 text-black font-semibold py-1 px-3 rounded\"\n//         >\n//           Approve\n//         </button>\n//         <button\n//           onClick={() => handleStatusChange('withdrawRequests', req.id, 'rejected')}\n//           className=\"bg-red-500 hover:bg-red-600 text-black font-semibold py-1 px-3 rounded\"\n//         >\n//           Reject\n//         </button>\n//       </div>\n//     </div>\n//   ))}\n// </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [subadmin, setSubadmin] = useState(null);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [currentBalance, setCurrentBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\n//       setSubadmin(user);\n//     });\n//     return () => unsubscribe();\n//   }, [auth]);\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setCurrentBalance(null);\n//     try {\n//       const walletQuery = query(\n//         collection(db, 'wallets'),\n//         where('email', '==', targetEmail)\n//       );\n//       const snapshot = await getDocs(walletQuery);\n//       if (snapshot.empty) {\n//         setMessage(' Wallet not found. Ask user to log in once.');\n//         return;\n//       }\n//       const wallet = snapshot.docs[0].data();\n//       //  Allow only if wallet.subAdminId matches current subadmin.uid\n//       if (wallet.subAdminId !== subadmin?.uid) {\n//         setMessage(' Access denied. This user was not created by you.');\n//         return;\n//       }\n//       setTargetUid(wallet.uid);\n//       setCurrentBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found and verified.');\n//     } catch (error) {\n//       console.error('Search error:', error);\n//       setMessage(' Failed to search wallet.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Enter valid amount.');\n//       return;\n//     }\n//     try {\n//       const walletRef = doc(db, 'wallets', targetUid);\n//       await updateDoc(walletRef, {\n//         balance: (currentBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setCurrentBalance((prev) => (prev ?? 0) + amount);\n//       setAmountToAdd('');\n//       setMessage(' Balance added.');\n//     } catch (err) {\n//       console.error('Add error:', err);\n//       setMessage(' Failed to add balance.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8 flex justify-center\">\n//         <div className=\"w-full max-w-xl bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">Subadmin: Add Balance</h1>\n//           <input\n//             type=\"email\"\n//             placeholder=\"User email\"\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && (\n//             <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>\n//           )}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Current Balance: {currentBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to add\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Add Balance\n//               </button>\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [admin, setAdmin] = useState(null);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [currentBalance, setCurrentBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\n//       setAdmin(user);\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setCurrentBalance(null);\n//     try {\n//       const q = query(\n//         collection(db, 'wallets'),\n//         where('email', '==', targetEmail)\n//       );\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found. Ask user to login once.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       setTargetUid(wallet.uid);\n//       setCurrentBalance(wallet.balance ?? 0);\n//       setMessage(' Sub-admin wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error fetching wallet.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Enter a valid amount.');\n//       return;\n//     }\n//     try {\n//       const walletRef = doc(db, 'wallets', targetUid);\n//       await updateDoc(walletRef, {\n//         balance: (currentBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setCurrentBalance((prev) => (prev ?? 0) + amount);\n//       setAmountToAdd('');\n//       setMessage(' Balance successfully added to subadmin.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to update wallet.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8 flex justify-center\">\n//         <div className=\"w-full max-w-xl bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">Admin: Fund Sub-admin</h1>\n//           <input\n//             type=\"email\"\n//             placeholder=\"Sub-admin email\"\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && (\n//             <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>\n//           )}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Current Balance: {currentBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to add\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Add Balance\n//               </button>\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [admin, setAdmin] = useState(null);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [currentBalance, setCurrentBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, (user) => {\n//       setAdmin(user);\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setCurrentBalance(null);\n//     try {\n//       const q = query(\n//         collection(db, 'subwallets'), //  Use 'subwallets' here\n//         where('email', '==', targetEmail)\n//       );\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Subadmin wallet not found. Ask them to login once.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       setTargetUid(wallet.uid);\n//       setCurrentBalance(wallet.balance ?? 0);\n//       setMessage(' Subadmin wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error fetching subadmin wallet.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Enter a valid amount.');\n//       return;\n//     }\n//     try {\n//       const walletRef = doc(db, 'subwallets', targetUid); //  Use 'subwallets'\n//       await updateDoc(walletRef, {\n//         balance: (currentBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setCurrentBalance((prev) => (prev ?? 0) + amount);\n//       setAmountToAdd('');\n//       setMessage(' Balance successfully added to subadmin.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to update subadmin wallet.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8 flex justify-center\">\n//         <div className=\"w-full max-w-xl bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">Admin: Fund Sub-admin Wallet</h1>\n//           <input\n//             type=\"email\"\n//             placeholder=\"Subadmin Email\"\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Subadmin Wallet'}\n//           </button>\n//           {message && (\n//             <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>\n//           )}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Current Balance: {currentBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to add\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Add Balance\n//               </button>\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [admin, setAdmin] = useState(null);\n//   const [adminBalance, setAdminBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [subadminBalance, setSubadminBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   //  Get current admin\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setAdmin(user);\n//       if (user) {\n//         const adminWalletRef = doc(db, 'adminwallets', user.uid);\n//         const adminWalletSnap = await getDoc(adminWalletRef);\n//         if (adminWalletSnap.exists()) {\n//           const data = adminWalletSnap.data();\n//           setAdminBalance(data.balance ?? 0);\n//         }\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setSubadminBalance(null);\n//     try {\n//       const q = query(\n//         collection(db, 'subwallets'),\n//         where('email', '==', targetEmail)\n//       );\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Subadmin wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       setTargetUid(wallet.uid);\n//       setSubadminBalance(wallet.balance ?? 0);\n//       setMessage(' Subadmin wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error fetching subadmin wallet.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Enter a valid amount.');\n//       return;\n//     }\n//     if (amount > adminBalance) {\n//       setMessage(' Insufficient admin balance.');\n//       return;\n//     }\n//     try {\n//       const subRef = doc(db, 'subwallets', targetUid);\n//       const adminRef = doc(db, 'adminwallets', admin.uid);\n//       //  Update both wallets\n//       await updateDoc(subRef, {\n//         balance: (subadminBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(adminRef, {\n//         balance: adminBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setSubadminBalance((prev) => (prev ?? 0) + amount);\n//       setAdminBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to update balances.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8 flex justify-center\">\n//         <div className=\"w-full max-w-xl bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">Admin: Fund Sub-admin Wallet</h1>\n//           <p className=\"mb-4 text-green-400\">Your Balance: {adminBalance.toFixed(2)}</p>\n//           <input\n//             type=\"email\"\n//             placeholder=\"Subadmin Email\"\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Subadmin Wallet'}\n//           </button>\n//           {message && (\n//             <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>\n//           )}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Subadmin Balance: {subadminBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [targetBalance, setTargetBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   //  Get current user, role, and wallet balance\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const snap = await getDoc(userRef);\n//         const userData = snap.exists() ? snap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n//         setCurrentBalance(balance);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setTargetBalance(null);\n//     try {\n//       const targetWalletCol = role === 'admin' ? 'subwallets' : 'subwallets'; // subadmins & users\n//       const q = query(\n//         collection(db, targetWalletCol),\n//         where('email', '==', targetEmail)\n//       );\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       const uid = wallet.uid;\n//       //  If subadmin: only allow depositing to their own users\n//       if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n//         setMessage(' You can only fund users created by you.');\n//         return;\n//       }\n//       setTargetUid(uid);\n//       setTargetBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error fetching wallet.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Enter a valid amount.');\n//       return;\n//     }\n//     if (amount > currentBalance) {\n//       setMessage(' Insufficient balance.');\n//       return;\n//     }\n//     try {\n//       const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toWalletCol = 'subwallets'; // All receivers are in subwallets\n//       const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//       const toRef = doc(db, toWalletCol, targetUid);\n//       //  Transfer funds\n//       await updateDoc(toRef, {\n//         balance: (targetBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(fromRef, {\n//         balance: currentBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setTargetBalance((prev) => (prev ?? 0) + amount);\n//       setCurrentBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to update balances.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8 flex justify-center\">\n//         <div className=\"w-full max-w-xl bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             {role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'}\n//           </h1>\n//           <p className=\"mb-4 text-green-400\">\n//             Your Balance: {currentBalance.toFixed(2)}\n//           </p>\n//           <input\n//             type=\"email\"\n//             placeholder={\n//               role === 'admin' ? 'Subadmin Email' : 'User Email'\n//             }\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && (\n//             <p className=\"text-center text-sm mb-4 text-yellow-400\">\n//               {message}\n//             </p>\n//           )}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">\n//                 Recipient Balance: {targetBalance?.toFixed(2)}\n//               </p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [requests, setRequests] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       if (user) {\n//         setCurrentUser(user);\n//         const userSnap = await getDoc(doc(db, 'users', user.uid));\n//         const userData = userSnap.exists() ? userSnap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         fetchWithdrawRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const fetchWithdrawRequests = async (uid, userRole) => {\n//     try {\n//       const colRef = collection(db, 'subwithdrawRequests');\n//       let q = null;\n//       if (userRole === 'admin') {\n//         // Admin sees requests from subadmins\n//         const subadminSnap = await getDocs(\n//           query(collection(db, 'users'), where('role', '==', 'subadmin'))\n//         );\n//         const subadminIds = subadminSnap.docs.map((doc) => doc.id);\n//         q = query(colRef, where('uid', 'in', subadminIds));\n//       } else if (userRole === 'subadmin') {\n//         // Subadmin sees requests from users they created\n//         const userSnap = await getDocs(\n//           query(collection(db, 'subwallets'), where('subAdminId', '==', uid))\n//         );\n//         const userIds = userSnap.docs.map((doc) => doc.id);\n//         if (userIds.length === 0) {\n//           setRequests([]);\n//           setLoading(false);\n//           return;\n//         }\n//         q = query(colRef, where('uid', 'in', userIds));\n//       }\n//       const reqSnap = await getDocs(q);\n//       const formatted = reqSnap.docs.map((doc) => ({\n//         id: doc.id,\n//         ...doc.data(),\n//       }));\n//       setRequests(formatted);\n//     } catch (error) {\n//       console.error('Error fetching withdrawal requests:', error);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleApprove = async (request) => {\n//     const confirm = window.confirm(`Approve withdrawal of ${request.amount}?`);\n//     if (!confirm) return;\n//     try {\n//       const requestRef = doc(db, 'subwithdrawRequests', request.id);\n//       // Deduct from user's wallet\n//       const userWalletRef = doc(db, 'subwallets', request.uid);\n//       const userSnap = await getDoc(userWalletRef);\n//       const userBal = userSnap.data().balance ?? 0;\n//       if (userBal < request.amount) {\n//         alert('Insufficient user balance.');\n//         return;\n//       }\n//       // Credit to subadmin wallet (if subadmin)\n//       if (role === 'subadmin') {\n//         const subWalletRef = doc(db, 'subwallets', currentUser.uid);\n//         const subSnap = await getDoc(subWalletRef);\n//         const subBal = subSnap.data().balance ?? 0;\n//         await updateDoc(subWalletRef, {\n//           balance: subBal + request.amount,\n//           updatedAt: serverTimestamp(),\n//         });\n//       }\n//       // Update user wallet and mark request as approved\n//       await updateDoc(userWalletRef, {\n//         balance: userBal - request.amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(requestRef, {\n//         status: 'approved',\n//         updatedAt: serverTimestamp(),\n//       });\n//       alert('Withdrawal approved!');\n//       setRequests((prev) =>\n//         prev.map((r) =>\n//           r.id === request.id ? { ...r, status: 'approved' } : r\n//         )\n//       );\n//     } catch (err) {\n//       console.error(err);\n//       alert('Error approving request.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n//         <div className=\"max-w-4xl mx-auto bg-gray-800 rounded-lg p-6 shadow\">\n//           <h2 className=\"text-2xl font-bold mb-4\">\n//             {role === 'admin' ? 'Subadmin Withdraw Requests' : 'User Withdraw Requests'}\n//           </h2>\n//           {loading ? (\n//             <p>Loading requests...</p>\n//           ) : requests.length === 0 ? (\n//             <p>No withdrawal requests found.</p>\n//           ) : (\n//             <div className=\"overflow-x-auto\">\n//               <table className=\"w-full text-left border-collapse\">\n//                 <thead className=\"bg-gray-700\">\n//                   <tr>\n//                     <th className=\"p-2\">Email</th>\n//                     <th className=\"p-2\">Amount</th>\n//                     <th className=\"p-2\">Method</th>\n//                     <th className=\"p-2\">Details</th>\n//                     <th className=\"p-2\">Status</th>\n//                     <th className=\"p-2\">Action</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {requests.map((req) => (\n//                     <tr key={req.id} className=\"border-t border-gray-600\">\n//                       <td className=\"p-2\">{req.email}</td>\n//                       <td className=\"p-2\">{req.amount}</td>\n//                       <td className=\"p-2\">{req.method}</td>\n//                       <td className=\"p-2\">{req.methodDetails}</td>\n//                       <td className=\"p-2 capitalize\">{req.status}</td>\n//                       <td className=\"p-2\">\n//                         {req.status === 'pending' ? (\n//                           <button\n//                             onClick={() => handleApprove(req)}\n//                             className=\"px-3 py-1 bg-green-500 hover:bg-green-600 text-black font-semibold rounded\"\n//                           >\n//                             Approve\n//                           </button>\n//                         ) : (\n//                           <span className=\"text-green-400\"></span>\n//                         )}\n//                       </td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   getDoc,\n//   doc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function WalletAdminPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [depositRequests, setDepositRequests] = useState([]);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   useEffect(() => {\n//     const unsub = onAuthStateChanged(auth, async (user) => {\n//       if (user) {\n//         setCurrentUser(user);\n//         const userSnap = await getDoc(doc(db, 'users', user.uid));\n//         const userData = userSnap.exists() ? userSnap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         setCurrentBalance(walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0);\n//         fetchDepositRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsub();\n//   }, []);\n//   const fetchDepositRequests = async (uid, userRole) => {\n//     try {\n//       const colRef = collection(db, 'subdepositRequests');\n//       let q;\n//       if (userRole === 'admin') {\n//         q = query(colRef, where('role', '==', 'subadmin'));\n//       } else if (userRole === 'subadmin') {\n//         const userWallets = await getDocs(\n//           query(collection(db, 'subwallets'), where('subAdminId', '==', uid))\n//         );\n//         const userIds = userWallets.docs.map((doc) => doc.id);\n//         if (userIds.length === 0) return;\n//         q = query(colRef, where('uid', 'in', userIds));\n//       }\n//       const snap = await getDocs(q);\n//       const formatted = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//       setDepositRequests(formatted);\n//     } catch (err) {\n//       console.error('Fetch failed', err);\n//     }\n//   };\n//   const handleApprove = async (req) => {\n//     const confirm = window.confirm(`Approve ${req.amount} deposit from ${req.email}?`);\n//     if (!confirm) return;\n//     try {\n//       const fromRole = req.role;\n//       const toUid = currentUser.uid;\n//       const fromRef = doc(db, 'subwallets', req.uid);\n//       const toCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toRef = doc(db, toCol, toUid);\n//       const toSnap = await getDoc(toRef);\n//       const toBalance = toSnap.exists() ? toSnap.data().balance ?? 0 : 0;\n//       //  Update recipient wallet (admin or subadmin)\n//       await updateDoc(toRef, {\n//         balance: toBalance + req.amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       //  Mark request as approved\n//       await updateDoc(doc(db, 'subdepositRequests', req.id), {\n//         status: 'approved',\n//         updatedAt: serverTimestamp(),\n//       });\n//       alert('Deposit approved!');\n//       setDepositRequests((prev) =>\n//         prev.map((r) => (r.id === req.id ? { ...r, status: 'approved' } : r))\n//       );\n//     } catch (err) {\n//       console.error('Approval failed', err);\n//       alert('Something went wrong.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n//         <div className=\"max-w-4xl mx-auto bg-gray-800 p-6 rounded shadow-lg\">\n//           <h2 className=\"text-2xl font-bold mb-4\">\n//             {role === 'admin' ? 'Subadmin Deposit Requests' : 'User Deposit Requests'}\n//           </h2>\n//           <p className=\"text-green-400 mb-4\">Your Balance: {currentBalance.toFixed(2)}</p>\n//           {depositRequests.length === 0 ? (\n//             <p>No deposit requests found.</p>\n//           ) : (\n//             <table className=\"w-full border-collapse text-sm\">\n//               <thead className=\"bg-gray-700\">\n//                 <tr>\n//                   <th className=\"p-2\">Email</th>\n//                   <th className=\"p-2\">Amount</th>\n//                   <th className=\"p-2\">Method</th>\n//                   <th className=\"p-2\">Details</th>\n//                   <th className=\"p-2\">Status</th>\n//                   <th className=\"p-2\">Action</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {depositRequests.map((req) => (\n//                   <tr key={req.id} className=\"border-t border-gray-600\">\n//                     <td className=\"p-2\">{req.email}</td>\n//                     <td className=\"p-2\">{req.amount}</td>\n//                     <td className=\"p-2\">{req.method}</td>\n//                     <td className=\"p-2\">{req.methodDetails}</td>\n//                     <td className=\"p-2 capitalize\">{req.status}</td>\n//                     <td className=\"p-2\">\n//                       {req.status === 'pending' ? (\n//                         <button\n//                           onClick={() => handleApprove(req)}\n//                           className=\"px-3 py-1 bg-green-500 hover:bg-green-600 text-black font-semibold rounded\"\n//                         >\n//                           Approve\n//                         </button>\n//                       ) : (\n//                         <span className=\"text-green-400\"></span>\n//                       )}\n//                     </td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function Page() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [targetBalance, setTargetBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [withdrawRequests, setWithdrawRequests] = useState([]);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const snap = await getDoc(userRef);\n//         const userData = snap.exists() ? snap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n//         setCurrentBalance(balance);\n//         loadWithdrawRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const loadWithdrawRequests = async (uid, userRole) => {\n//     const field = userRole === 'admin' ? 'fromSubAdminId' : 'fromUserSubAdminId';\n//     const q = query(collection(db, 'subwithdrawRequests'), where(field, '==', uid));\n//     const snap = await getDocs(q);\n//     const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//     setWithdrawRequests(results);\n//   };\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setTargetBalance(null);\n//     try {\n//       const q = query(collection(db, 'subwallets'), where('email', '==', targetEmail));\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       const uid = wallet.uid;\n//       if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n//         setMessage(' Not your user.');\n//         return;\n//       }\n//       setTargetUid(uid);\n//       setTargetBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error searching.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Invalid amount.');\n//       return;\n//     }\n//     if (amount > currentBalance) {\n//       setMessage(' Insufficient balance.');\n//       return;\n//     }\n//     try {\n//       const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toWalletCol = 'subwallets';\n//       const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//       const toRef = doc(db, toWalletCol, targetUid);\n//       await updateDoc(toRef, {\n//         balance: (targetBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(fromRef, {\n//         balance: currentBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setTargetBalance((prev) => (prev ?? 0) + amount);\n//       setCurrentBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to transfer.');\n//     }\n//   };\n//   // const handleAcceptWithdraw = async (req) => {\n//   //   const amount = req.amount;\n//   //   const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//   //   const toWalletCol = 'subwallets';\n//   //   const toRef = doc(db, toWalletCol, req.fromUid);\n//   //   const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//   //   const toSnap = await getDoc(toRef);\n//   //   const fromSnap = await getDoc(fromRef);\n//   //   if (!toSnap.exists() || !fromSnap.exists()) {\n//   //     setMessage(' Wallet not found.');\n//   //     return;\n//   //   }\n//   //   const fromBalance = fromSnap.data().balance ?? 0;\n//   //   if (fromBalance < amount) {\n//   //     setMessage(' Not enough balance.');\n//   //     return;\n//   //   }\n//   //   await updateDoc(toRef, {\n//   //     balance: (toSnap.data().balance ?? 0) + amount,\n//   //   });\n//   //   await updateDoc(fromRef, {\n//   //     balance: fromBalance - amount,\n//   //   });\n//   //   await updateDoc(doc(db, 'subwithdrawRequests', req.id), {\n//   //     status: 'accepted',\n//   //     approvedAt: serverTimestamp(),\n//   //   });\n//   //   setWithdrawRequests((prev) => prev.filter((r) => r.id !== req.id));\n//   //   setMessage(' Withdraw accepted.');\n//   // };\n// const handleAcceptWithdraw = async (withdraw) => {\n//   try {\n//     if (!withdraw || typeof withdraw !== 'object') {\n//       console.error(' Invalid withdraw object:', withdraw);\n//       return alert('Invalid request.');\n//     }\n//     const { uid, amount, id, fromSubAdminId } = withdraw;\n//     if (!uid || typeof uid !== 'string') {\n//       console.error(' Missing or invalid UID in withdraw:', withdraw);\n//       return alert('Withdraw UID is missing.');\n//     }\n//     if (!id) {\n//       console.error(' Missing Firestore document ID of withdraw request');\n//       return alert('Withdraw request ID missing.');\n//     }\n//     // Define references\n//     const userWalletRef = doc(db, 'subwallets', uid); // user wallet\n//     const subAdminWalletRef = doc(db, 'subwallets', fromSubAdminId); // subadmin wallet\n//     const withdrawRef = doc(db, 'subwithdrawRequests', id);\n//     // Fetch current balances\n//     const [userSnap, subAdminSnap] = await Promise.all([\n//       getDoc(userWalletRef),\n//       getDoc(subAdminWalletRef),\n//     ]);\n//     const userBalance = userSnap.exists() ? userSnap.data()?.balance ?? 0 : 0;\n//     const subAdminBalance = subAdminSnap.exists() ? subAdminSnap.data()?.balance ?? 0 : 0;\n//     if (subAdminBalance < amount) {\n//       return alert('Subadmin has insufficient balance to approve this withdrawal.');\n//     }\n//     //  Update user wallet (add funds)\n//     await updateDoc(userWalletRef, {\n//       balance: userBalance + amount,\n//       updatedAt: serverTimestamp(),\n//     });\n//     //  Deduct from subadmin wallet\n//     await updateDoc(subAdminWalletRef, {\n//       balance: subAdminBalance - amount,\n//       updatedAt: serverTimestamp(),\n//     });\n//     //  Update withdraw request status\n//     await updateDoc(withdrawRef, {\n//       status: 'approved',\n//       updatedAt: serverTimestamp(),\n//     });\n//     alert(' Withdraw approved and funds added to user wallet.');\n//   } catch (err) {\n//     console.error(' handleAcceptWithdraw error:', err);\n//     alert('Something went wrong while accepting the withdraw.');\n//   }\n// };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-xl mx-auto bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             {role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'}\n//           </h1>\n//           <p className=\"mb-4 text-green-400\">Your Balance: {currentBalance.toFixed(2)}</p>\n//           <input\n//             type=\"email\"\n//             placeholder={role === 'admin' ? 'Subadmin Email' : 'User Email'}\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Recipient Balance: {targetBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//         {/* Withdraw Requests */}\n//         {withdrawRequests.length > 0 && (\n//           <div className=\"max-w-2xl mx-auto mt-10 bg-gray-800 p-6 rounded shadow-lg\">\n//             <h2 className=\"text-xl font-semibold mb-4\">Pending Withdraw Requests</h2>\n//             {withdrawRequests.map((req) => (\n//               <div key={req.id} className=\"bg-gray-700 p-3 mb-3 rounded\">\n//                 <p><strong>From:</strong> {req.fromEmail}</p>\n//                 <p><strong>Amount:</strong> {req.amount}</p>\n//                 <p><strong>Method:</strong> {req.method} ({req.details})</p>\n//                 <button\n//                   className=\"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\"\n//                   onClick={() => handleAcceptWithdraw(req)}\n//                 >\n//                   Accept\n//                 </button>\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function Page() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [targetBalance, setTargetBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [withdrawRequests, setWithdrawRequests] = useState([]);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const snap = await getDoc(userRef);\n//         const userData = snap.exists() ? snap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n//         setCurrentBalance(balance);\n//         loadWithdrawRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const loadWithdrawRequests = async (uid, userRole) => {\n//     const field = userRole === 'admin' ? 'fromSubAdminId' : 'fromUserSubAdminId';\n//     const q = query(collection(db, 'subwithdrawRequests'), where(field, '==', uid));\n//     const snap = await getDocs(q);\n//     const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//     setWithdrawRequests(results);\n//   };\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setTargetBalance(null);\n//     try {\n//       const q = query(collection(db, 'subwallets'), where('email', '==', targetEmail));\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       const uid = wallet.uid;\n//       if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n//         setMessage(' Not your user.');\n//         return;\n//       }\n//       setTargetUid(uid);\n//       setTargetBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error searching.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Invalid amount.');\n//       return;\n//     }\n//     if (amount > currentBalance) {\n//       setMessage(' Insufficient balance.');\n//       return;\n//     }\n//     try {\n//       const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toWalletCol = 'subwallets';\n//       const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//       const toRef = doc(db, toWalletCol, targetUid);\n//       await updateDoc(toRef, {\n//         balance: (targetBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(fromRef, {\n//         balance: currentBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setTargetBalance((prev) => (prev ?? 0) + amount);\n//       setCurrentBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to transfer.');\n//     }\n//   };\n//   const handleAcceptWithdraw = async (withdraw) => {\n//     try {\n//       if (!withdraw || typeof withdraw !== 'object') {\n//         console.error(' Invalid withdraw object:', withdraw);\n//         return alert('Invalid request.');\n//       }\n//       const { uid, amount, id, fromSubAdminId } = withdraw;\n//       if (!uid || typeof uid !== 'string') {\n//         console.error(' Missing or invalid UID in withdraw:', withdraw);\n//         return alert('Withdraw UID is missing.');\n//       }\n//       if (!id) {\n//         console.error(' Missing Firestore document ID of withdraw request');\n//         return alert('Withdraw request ID missing.');\n//       }\n//       const userWalletRef = doc(db, 'subwallets', uid);\n//       const subAdminWalletRef = doc(db, 'subwallets', fromSubAdminId);\n//       const withdrawRef = doc(db, 'subwithdrawRequests', id);\n//       const [userSnap, subAdminSnap] = await Promise.all([\n//         getDoc(userWalletRef),\n//         getDoc(subAdminWalletRef),\n//       ]);\n//       const userBalance = userSnap.exists() ? userSnap.data()?.balance ?? 0 : 0;\n//       const subAdminBalance = subAdminSnap.exists() ? subAdminSnap.data()?.balance ?? 0 : 0;\n//       if (subAdminBalance < amount) {\n//         return alert('Subadmin has insufficient balance to approve this withdrawal.');\n//       }\n//       await updateDoc(userWalletRef, {\n//         balance: userBalance + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(subAdminWalletRef, {\n//         balance: subAdminBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(withdrawRef, {\n//         status: 'approved',\n//         updatedAt: serverTimestamp(),\n//       });\n//       setWithdrawRequests((prev) => prev.filter((r) => r.id !== id));\n//       alert(' Withdraw approved and funds added to user wallet.');\n//     } catch (err) {\n//       console.error(' handleAcceptWithdraw error:', err);\n//       alert('Something went wrong while accepting the withdraw.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-xl mx-auto bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             {role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'}\n//           </h1>\n//           <p className=\"mb-4 text-green-400\">Your Balance: {currentBalance.toFixed(2)}</p>\n//           <input\n//             type=\"email\"\n//             placeholder={role === 'admin' ? 'Subadmin Email' : 'User Email'}\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Recipient Balance: {targetBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//         {/*  Withdraw Requests */}\n//         {withdrawRequests.length > 0 && (\n//           <div className=\"max-w-2xl mx-auto mt-10 bg-gray-800 p-6 rounded shadow-lg\">\n//             <h2 className=\"text-xl font-semibold mb-4\">Pending Withdraw Requests</h2>\n//             {withdrawRequests.map((req) => (\n//               <div key={req.id} className=\"bg-gray-700 p-3 mb-3 rounded\">\n//                 <p><strong>User:</strong> {req.email}</p>\n//                 <p><strong>Amount:</strong> {req.amount}</p>\n//                 <p><strong>Method:</strong> {req.method} ({req.paymentId})</p>\n//                 <p><strong>Requested:</strong> {req.createdAt?.seconds ? new Date(req.createdAt.seconds * 1000).toLocaleString() : 'N/A'}</p>\n//                 <button\n//                   className=\"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\"\n//                   onClick={() => handleAcceptWithdraw(req)}\n//                 >\n//                   Accept\n//                 </button>\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function Page() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [targetBalance, setTargetBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [withdrawRequests, setWithdrawRequests] = useState([]);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const snap = await getDoc(userRef);\n//         const userData = snap.exists() ? snap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n//         setCurrentBalance(balance);\n//         loadWithdrawRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const loadWithdrawRequests = async (uid, userRole) => {\n//     const field = userRole === 'admin' ? 'fromSubAdminId' : 'fromUserSubAdminId';\n//     const q = query(collection(db, 'subwithdrawRequests'), where(field, '==', uid));\n//     const snap = await getDocs(q);\n//     const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//     setWithdrawRequests(results);\n//   };\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setTargetBalance(null);\n//     try {\n//       const q = query(collection(db, 'subwallets'), where('email', '==', targetEmail));\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       const uid = wallet.uid;\n//       if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n//         setMessage(' Not your user.');\n//         return;\n//       }\n//       setTargetUid(uid);\n//       setTargetBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error searching.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Invalid amount.');\n//       return;\n//     }\n//     if (amount > currentBalance) {\n//       setMessage(' Insufficient balance.');\n//       return;\n//     }\n//     try {\n//       const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toWalletCol = 'subwallets';\n//       const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//       const toRef = doc(db, toWalletCol, targetUid);\n//       await updateDoc(toRef, {\n//         balance: (targetBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(fromRef, {\n//         balance: currentBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setTargetBalance((prev) => (prev ?? 0) + amount);\n//       setCurrentBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to transfer.');\n//     }\n//   };\n//   const handleAcceptWithdraw = async (withdraw) => {\n//     try {\n//       if (!withdraw || typeof withdraw !== 'object') return alert('Invalid request.');\n//       const { uid, amount, id, fromSubAdminId } = withdraw;\n//       if (!uid || !id || !fromSubAdminId) return alert('Missing data in request.');\n//       const userWalletRef = doc(db, 'subwallets', uid);\n//       const subAdminWalletRef = doc(db, 'subwallets', fromSubAdminId);\n//       const withdrawRef = doc(db, 'subwithdrawRequests', id);\n//       const [userSnap, subAdminSnap] = await Promise.all([\n//         getDoc(userWalletRef),\n//         getDoc(subAdminWalletRef),\n//       ]);\n//       const userBalance = userSnap.exists() ? userSnap.data()?.balance ?? 0 : 0;\n//       const subAdminBalance = subAdminSnap.exists() ? subAdminSnap.data()?.balance ?? 0 : 0;\n//       if (subAdminBalance < amount) return alert('Insufficient subadmin balance.');\n//       await updateDoc(userWalletRef, {\n//         balance: userBalance + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(subAdminWalletRef, {\n//         balance: subAdminBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(withdrawRef, {\n//         status: 'approved',\n//         updatedAt: serverTimestamp(),\n//       });\n//       setWithdrawRequests((prev) => prev.filter((r) => r.id !== id));\n//       alert(' Withdraw approved.');\n//     } catch (err) {\n//       console.error(' Withdraw approval error:', err);\n//       alert('Something went wrong.');\n//     }\n//   };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-xl mx-auto bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             {role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'}\n//           </h1>\n//           <p className=\"mb-4 text-green-400\">Your Balance: {currentBalance.toFixed(2)}</p>\n//           <input\n//             type=\"email\"\n//             placeholder={role === 'admin' ? 'Subadmin Email' : 'User Email'}\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Recipient Balance: {targetBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//         {withdrawRequests.length > 0 && (\n//           <div className=\"max-w-2xl mx-auto mt-10 bg-gray-800 p-6 rounded shadow-lg\">\n//             <h2 className=\"text-xl font-semibold mb-4\">Pending Withdraw Requests</h2>\n//             {withdrawRequests.map((req) => (\n//               <div key={req.id} className=\"bg-gray-700 p-3 mb-3 rounded\">\n//                 <p><strong>User:</strong> {req.email}</p>\n//                 <p><strong>Amount:</strong> {req.amount}</p>\n//                 <p><strong>Method:</strong> {req.method} ({req.paymentId})</p>\n//                 <p><strong>Time:</strong> {req.createdAt?.seconds ? new Date(req.createdAt.seconds * 1000).toLocaleString() : 'N/A'}</p>\n//                 <button\n//                   className=\"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\"\n//                   onClick={() => handleAcceptWithdraw(req)}\n//                 >\n//                   Accept\n//                 </button>\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useState, useEffect } from 'react';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import {\n//   getFirestore,\n//   collection,\n//   query,\n//   where,\n//   getDocs,\n//   doc,\n//   getDoc,\n//   updateDoc,\n//   serverTimestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function Page() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   const [currentBalance, setCurrentBalance] = useState(0);\n//   const [targetEmail, setTargetEmail] = useState('');\n//   const [targetUid, setTargetUid] = useState('');\n//   const [targetBalance, setTargetBalance] = useState(null);\n//   const [amountToAdd, setAmountToAdd] = useState('');\n//   const [message, setMessage] = useState('');\n//   const [loading, setLoading] = useState(false);\n//   const [withdrawRequests, setWithdrawRequests] = useState([]);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const snap = await getDoc(userRef);\n//         const userData = snap.exists() ? snap.data() : {};\n//         const userRole = userData.role || 'user';\n//         setRole(userRole);\n//         const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n//         const walletRef = doc(db, walletCol, user.uid);\n//         const walletSnap = await getDoc(walletRef);\n//         const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n//         setCurrentBalance(balance);\n//         loadWithdrawRequests(user.uid);\n//         // loadWithdrawRequests(user.uid, userRole);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   // const loadWithdrawRequests = async (uid) => {\n//   //   const q = query(collection(db, 'subwithdrawRequests'), where('fromSubAdminId', '==', uid));\n//   //   const snap = await getDocs(q);\n//   //   const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//   //   setWithdrawRequests(results);\n//   // };\n//   const loadWithdrawRequests = async (uid, role) => {\n//   let q;\n//   if (role === 'admin') {\n//     // Admin sees withdraws requested by subadmins\n//     q = query(collection(db, 'subwithdrawRequests'), where('fromSubAdminId', '==', uid));\n//   } else if (role === 'subadmin') {\n//     // Subadmin sees withdraws requested by their users\n//     q = query(collection(db, 'subwithdrawRequests'), where('fromUserSubAdminId', '==', uid));\n//   } else {\n//     return; // Do nothing for normal users\n//   }\n//   const snap = await getDocs(q);\n//   const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//   setWithdrawRequests(results);\n// };\n// // const loadWithdrawRequests = async (uid, userRole) => {\n// //   let q;\n// //   if (userRole === 'admin') {\n// //     // Admin should see withdraws made by subadmins\n// //     q = query(\n// //       collection(db, 'subwithdrawRequests'),\n// //       where('fromSubAdminId', '==', uid),\n// //       where('status', '==', 'pending')\n// //     );\n// //   } else if (userRole === 'subadmin') {\n// //     // Subadmin should see withdraws made by their users\n// //     q = query(\n// //       collection(db, 'subwithdrawRequests'),\n// //       where('fromUserSubAdminId', '==', uid),\n// //       where('status', '==', 'pending')\n// //     );\n// //   } else {\n// //     return; // No access for other roles\n// //   }\n// //   const snap = await getDocs(q);\n// //   const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n// //   setWithdrawRequests(results);\n// // };\n//   const handleSearch = async () => {\n//     setLoading(true);\n//     setMessage('');\n//     setTargetUid('');\n//     setTargetBalance(null);\n//     try {\n//       const q = query(collection(db, 'subwallets'), where('email', '==', targetEmail));\n//       const snap = await getDocs(q);\n//       if (snap.empty) {\n//         setMessage(' Wallet not found.');\n//         return;\n//       }\n//       const wallet = snap.docs[0].data();\n//       const uid = wallet.uid;\n//       if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n//         setMessage(' Not your user.');\n//         return;\n//       }\n//       setTargetUid(uid);\n//       setTargetBalance(wallet.balance ?? 0);\n//       setMessage(' Wallet found.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Error searching.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleAddBalance = async () => {\n//     if (!targetUid || !amountToAdd) return;\n//     const amount = parseFloat(amountToAdd);\n//     if (isNaN(amount) || amount <= 0) {\n//       setMessage(' Invalid amount.');\n//       return;\n//     }\n//     if (amount > currentBalance) {\n//       setMessage(' Insufficient balance.');\n//       return;\n//     }\n//     try {\n//       const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n//       const toWalletCol = 'subwallets';\n//       const fromRef = doc(db, fromWalletCol, currentUser.uid);\n//       const toRef = doc(db, toWalletCol, targetUid);\n//       await updateDoc(toRef, {\n//         balance: (targetBalance ?? 0) + amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       await updateDoc(fromRef, {\n//         balance: currentBalance - amount,\n//         updatedAt: serverTimestamp(),\n//       });\n//       setTargetBalance((prev) => (prev ?? 0) + amount);\n//       setCurrentBalance((prev) => prev - amount);\n//       setAmountToAdd('');\n//       setMessage(' Transfer successful.');\n//     } catch (err) {\n//       console.error(err);\n//       setMessage(' Failed to transfer.');\n//     }\n//   };\n//   // const handleAcceptWithdraw = async (withdraw) => {\n//   //   try {\n//   //     const { uid, amount, id, fromSubAdminId } = withdraw;\n//   //     if (!uid || !id || !fromSubAdminId) {\n//   //       return alert('Invalid withdraw request.');\n//   //     }\n//   //     const userWalletRef = doc(db, 'subwallets', uid);\n//   //     const subAdminWalletRef = doc(db, 'subwallets', fromSubAdminId);\n//   //     const withdrawRef = doc(db, 'subwithdrawRequests', id);\n//   //     const [userSnap, subAdminSnap] = await Promise.all([\n//   //       getDoc(userWalletRef),\n//   //       getDoc(subAdminWalletRef),\n//   //     ]);\n//   //     const userBalance = userSnap.exists() ? userSnap.data().balance ?? 0 : 0;\n//   //     const subAdminBalance = subAdminSnap.exists() ? subAdminSnap.data().balance ?? 0 : 0;\n//   //     if (subAdminBalance < amount) {\n//   //       return alert('Subadmin has insufficient balance to approve this withdrawal.');\n//   //     }\n//   //     await updateDoc(userWalletRef, {\n//   //       balance: userBalance + amount,\n//   //       updatedAt: serverTimestamp(),\n//   //     });\n//   //     await updateDoc(subAdminWalletRef, {\n//   //       balance: subAdminBalance - amount,\n//   //       updatedAt: serverTimestamp(),\n//   //     });\n//   //     await updateDoc(withdrawRef, {\n//   //       status: 'approved',\n//   //       updatedAt: serverTimestamp(),\n//   //     });\n//   //     setWithdrawRequests((prev) => prev.filter((r) => r.id !== id));\n//   //     alert(' Withdraw approved and funds added to user wallet.');\n//   //   } catch (err) {\n//   //     console.error(' handleAcceptWithdraw error:', err);\n//   //     alert('Something went wrong while accepting the withdraw.');\n//   //   }\n//   // };\n//   const handleAcceptWithdraw = async (withdraw) => {\n//   try {\n//     const { id, amount, fromSubAdminId, status } = withdraw;\n//     if (!id || !fromSubAdminId || status !== 'pending') {\n//       return alert('Invalid or already processed request.');\n//     }\n//     // Get subadmin wallet\n//     const subAdminWalletRef = doc(db, 'subwallets', fromSubAdminId);\n//     const subAdminSnap = await getDoc(subAdminWalletRef);\n//     if (!subAdminSnap.exists()) return alert('Subadmin wallet not found.');\n//     const subAdminBalance = subAdminSnap.data().balance ?? 0;\n//     //  Add amount back to subadmin\n//     await updateDoc(subAdminWalletRef, {\n//       balance: subAdminBalance + amount,\n//       updatedAt: serverTimestamp(),\n//     });\n//     //  Mark the request as approved\n//     await updateDoc(doc(db, 'subwithdrawRequests', id), {\n//       status: 'approved',\n//       approvedAt: serverTimestamp(),\n//     });\n//     //  Remove from pending list on screen\n//     setWithdrawRequests((prev) =>\n//       prev.map((r) =>\n//         r.id === id ? { ...r, status: 'approved' } : r\n//       )\n//     );\n//     alert(' Withdraw approved. Amount credited back to subadmin.');\n//   } catch (err) {\n//     console.error(' Error approving withdraw:', err);\n//     alert('Something went wrong.');\n//   }\n// };\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-xl mx-auto bg-gray-800 p-6 rounded shadow-lg\">\n//           <h1 className=\"text-2xl font-bold mb-6 text-center\">\n//             {role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'}\n//           </h1>\n//           <p className=\"mb-4 text-green-400\">Your Balance: {currentBalance.toFixed(2)}</p>\n//           <input\n//             type=\"email\"\n//             placeholder={role === 'admin' ? 'Subadmin Email' : 'User Email'}\n//             className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//             value={targetEmail}\n//             onChange={(e) => setTargetEmail(e.target.value)}\n//           />\n//           <button\n//             onClick={handleSearch}\n//             disabled={loading}\n//             className=\"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\"\n//           >\n//             {loading ? 'Searching...' : 'Find Wallet'}\n//           </button>\n//           {message && <p className=\"text-center text-sm mb-4 text-yellow-400\">{message}</p>}\n//           {targetUid && (\n//             <>\n//               <p className=\"mb-2\">Recipient Balance: {targetBalance?.toFixed(2)}</p>\n//               <input\n//                 type=\"number\"\n//                 placeholder=\"Amount to transfer\"\n//                 className=\"w-full p-3 rounded bg-gray-700 text-white mb-4\"\n//                 value={amountToAdd}\n//                 onChange={(e) => setAmountToAdd(e.target.value)}\n//               />\n//               <button\n//                 onClick={handleAddBalance}\n//                 className=\"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\"\n//               >\n//                 Transfer Funds\n//               </button>\n//             </>\n//           )}\n//         </div>\n//         {/* Withdraw Requests */}\n//         {withdrawRequests.length > 0 && (\n//           <div className=\"max-w-2xl mx-auto mt-10 bg-gray-800 p-6 rounded shadow-lg\">\n//             <h2 className=\"text-xl font-semibold mb-4\">Pending Withdraw Requests</h2>\n//             {withdrawRequests.map((req) => (\n//               <div key={req.id} className=\"bg-gray-700 p-3 mb-3 rounded\">\n//                 <p><strong>User Email:</strong> {req.email}</p>\n//                 <p><strong>Amount:</strong> {req.amount}</p>\n//                 <p><strong>Method:</strong> {req.method} ({req.paymentId})</p>\n//                 {/* <button\n//                   className=\"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\"\n//                   onClick={() => handleAcceptWithdraw(req)}\n//                 >\n//                   Accept\n//                 </button> */}\n//                 {req.status === 'pending' ? (\n//   <button\n//     className=\"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\"\n//     onClick={() => handleAcceptWithdraw(req)}\n//   >\n//     Accept\n//   </button>\n// ) : (\n//   <span className=\"inline-block mt-2 text-green-400 font-semibold\">\n//     Approved\n//   </span>\n// )}\n//               </div>\n//             ))}\n//           </div>\n//         )}\n//       </div>\n//     </Layout>\n//   );\n// }\n// app/yourPath/page.js\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction Page() {\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    const db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getFirestore)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentBalance, setCurrentBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [targetEmail, setTargetEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [targetUid, setTargetUid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [targetBalance, setTargetBalance] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [amountToAdd, setAmountToAdd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [withdrawRequests, setWithdrawRequests] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"Page.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(auth, {\n                \"Page.useEffect.unsubscribe\": async (user)=>{\n                    setCurrentUser(user);\n                    if (user) {\n                        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, 'users', user.uid);\n                        const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(userRef);\n                        const userData = snap.exists() ? snap.data() : {};\n                        const userRole = userData.role || 'user';\n                        setRole(userRole);\n                        const walletCol = userRole === 'admin' ? 'adminwallets' : 'subwallets';\n                        const walletRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, walletCol, user.uid);\n                        const walletSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(walletRef);\n                        const balance = walletSnap.exists() ? walletSnap.data().balance ?? 0 : 0;\n                        setCurrentBalance(balance);\n                        loadWithdrawRequests(user.uid, userRole);\n                    }\n                }\n            }[\"Page.useEffect.unsubscribe\"]);\n            return ({\n                \"Page.useEffect\": ()=>unsubscribe()\n            })[\"Page.useEffect\"];\n        }\n    }[\"Page.useEffect\"], []);\n    // const loadWithdrawRequests = async (uid, userRole) => {\n    //   let q;\n    //   if (userRole === 'admin') {\n    //     q = query(\n    //       collection(db, 'subwithdrawRequests'),\n    //       where('fromSubAdminId', '==', uid),\n    //       where('status', '==', 'pending')\n    //     );\n    //   } else if (userRole === 'subadmin') {\n    //     q = query(\n    //       collection(db, 'subwithdrawRequests'),\n    //       where('fromUserSubAdminId', '==', uid),\n    //       where('status', '==', 'pending')\n    //     );\n    //   } else return;\n    //   const snap = await getDocs(q);\n    //   const results = snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n    //   setWithdrawRequests(results);\n    // };\n    const loadWithdrawRequests = async (uid, userRole)=>{\n        let q;\n        if (userRole === 'admin') {\n            // Show only subadmin  admin withdraws\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(db, 'subwithdrawRequests'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)('fromUserSubAdminId', '==', ''), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)('status', '==', 'pending'));\n        } else if (userRole === 'subadmin') {\n            // Show user  subadmin withdraws\n            q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(db, 'subwithdrawRequests'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)('fromUserSubAdminId', '==', uid), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)('status', '==', 'pending'));\n        } else {\n            return;\n        }\n        const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(q);\n        const results = snap.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        setWithdrawRequests(results);\n    };\n    const handleSearch = async ()=>{\n        setLoading(true);\n        setMessage('');\n        setTargetUid('');\n        setTargetBalance(null);\n        try {\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(db, 'subwallets'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)('email', '==', targetEmail));\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(q);\n            if (snap.empty) return setMessage(' Wallet not found.');\n            const wallet = snap.docs[0].data();\n            const uid = wallet.uid;\n            if (role === 'subadmin' && wallet.subAdminId !== currentUser.uid) {\n                return setMessage(' Not your user.');\n            }\n            setTargetUid(uid);\n            setTargetBalance(wallet.balance ?? 0);\n            setMessage(' Wallet found.');\n        } catch (err) {\n            console.error(err);\n            setMessage(' Error searching.');\n        } finally{\n            setLoading(false);\n        }\n    };\n    // const handleAddBalance = async () => {\n    //   if (!targetUid || !amountToAdd) return;\n    //   const amount = parseFloat(amountToAdd);\n    //   if (isNaN(amount) || amount <= 0) return setMessage(' Invalid amount.');\n    //   if (amount > currentBalance) return setMessage(' Insufficient balance.');\n    //   try {\n    //     const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n    //     const toWalletCol = 'subwallets';\n    //     const fromRef = doc(db, fromWalletCol, currentUser.uid);\n    //     const toRef = doc(db, toWalletCol, targetUid);\n    //     await updateDoc(toRef, {\n    //       balance: (targetBalance ?? 0) + amount,\n    //       updatedAt: serverTimestamp(),\n    //     });\n    //     await updateDoc(fromRef, {\n    //       balance: currentBalance - amount,\n    //       updatedAt: serverTimestamp(),\n    //     });\n    //     setTargetBalance((prev) => (prev ?? 0) + amount);\n    //     setCurrentBalance((prev) => prev - amount);\n    //     setAmountToAdd('');\n    //     setMessage(' Transfer successful.');\n    //   } catch (err) {\n    //     console.error(err);\n    //     setMessage(' Failed to transfer.');\n    //   }\n    // };\n    // const handleAcceptWithdraw = async (withdraw) => {\n    //   try {\n    //     const { id, amount, fromSubAdminId, fromUserSubAdminId, uid, status } = withdraw;\n    //     if (!id || status !== 'pending') return alert('Invalid request.');\n    //     if (role === 'admin') {\n    //       const subAdminRef = doc(db, 'subwallets', fromSubAdminId);\n    //       const snap = await getDoc(subAdminRef);\n    //       const bal = snap.data().balance ?? 0;\n    //       await updateDoc(subAdminRef, {\n    //         balance: bal + amount,\n    //         updatedAt: serverTimestamp(),\n    //       });\n    //     }\n    //     if (role === 'subadmin') {\n    //       const userRef = doc(db, 'subwallets', uid);\n    //       const subRef = doc(db, 'subwallets', fromUserSubAdminId);\n    //       const [userSnap, subSnap] = await Promise.all([getDoc(userRef), getDoc(subRef)]);\n    //       const userBal = userSnap.data().balance ?? 0;\n    //       const subBal = subSnap.data().balance ?? 0;\n    //       if (subBal < amount) return alert(' Insufficient balance.');\n    //       await updateDoc(userRef, {\n    //         balance: userBal + amount,\n    //         updatedAt: serverTimestamp(),\n    //       });\n    //       await updateDoc(subRef, {\n    //         balance: subBal - amount,\n    //         updatedAt: serverTimestamp(),\n    //       });\n    //     }\n    //     await updateDoc(doc(db, 'subwithdrawRequests', id), {\n    //       status: 'approved',\n    //       approvedAt: serverTimestamp(),\n    //     });\n    //     setWithdrawRequests((prev) => prev.map((r) => r.id === id ? { ...r, status: 'approved' } : r));\n    //     alert(' Withdraw approved.');\n    //   } catch (err) {\n    //     console.error(' Error approving withdraw:', err);\n    //     alert('Something went wrong.');\n    //   }\n    // };\n    // const handleAcceptWithdraw = async (withdraw) => {\n    //   try {\n    //     const { id, amount, fromSubAdminId, fromUserSubAdminId, status } = withdraw;\n    //     if (!id || status !== 'pending') {\n    //       return alert('Invalid or already processed request.');\n    //     }\n    //     // Determine if admin is accepting a subadmin's request\n    //     const isAdmin = role === 'admin' && fromSubAdminId && !fromUserSubAdminId;\n    //     const payerWalletRef = doc(db, isAdmin ? 'adminwallets' : 'subwallets', currentUser.uid);\n    //     const receiverWalletRef = doc(db, 'subwallets', withdraw.uid); // Always add to requester wallet\n    //     const [payerSnap, receiverSnap] = await Promise.all([\n    //       getDoc(payerWalletRef),\n    //       getDoc(receiverWalletRef),\n    //     ]);\n    //     const payerBalance = payerSnap.exists() ? payerSnap.data().balance ?? 0 : 0;\n    //     const receiverBalance = receiverSnap.exists() ? receiverSnap.data().balance ?? 0 : 0;\n    //     if (payerBalance < amount) {\n    //       return alert(' Insufficient balance to approve.');\n    //     }\n    //     // Transfer amount\n    //     await updateDoc(receiverWalletRef, {\n    //       balance: receiverBalance + amount,\n    //       updatedAt: serverTimestamp(),\n    //     });\n    //     await updateDoc(payerWalletRef, {\n    //       balance: payerBalance - amount,\n    //       updatedAt: serverTimestamp(),\n    //     });\n    //     // Mark as approved\n    //     await updateDoc(doc(db, 'subwithdrawRequests', id), {\n    //       status: 'approved',\n    //       approvedAt: serverTimestamp(),\n    //     });\n    //     // Update local state\n    //     setWithdrawRequests((prev) =>\n    //       prev.map((r) =>\n    //         r.id === id ? { ...r, status: 'approved' } : r\n    //       )\n    //     );\n    //     alert(' Withdraw approved and funds transferred.');\n    //   } catch (err) {\n    //     console.error(' Error approving withdraw:', err);\n    //     alert('Something went wrong.');\n    //   }\n    // };\n    const handleAddBalance = async ()=>{\n        if (!targetUid || !amountToAdd) return;\n        const amount = parseFloat(amountToAdd);\n        if (isNaN(amount) || amount <= 0) return setMessage(' Invalid amount.');\n        if (amount > currentBalance) return setMessage(' Insufficient balance.');\n        try {\n            const fromWalletCol = role === 'admin' ? 'adminwallets' : 'subwallets';\n            const toWalletCol = 'subwallets';\n            const fromRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, fromWalletCol, currentUser.uid);\n            const toRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, toWalletCol, targetUid);\n            //  1. Update recipient balance\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(toRef, {\n                balance: (targetBalance ?? 0) + amount,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            //  2. Update sender balance\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(fromRef, {\n                balance: currentBalance - amount,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            //  3. Log transaction in subdepositRequests\n            const depositRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(db, 'subdepositRequests')); // auto-id\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)(depositRef, {\n                uid: targetUid,\n                email: targetEmail,\n                amount,\n                status: 'approved',\n                method: 'internal transfer',\n                paymentId: '',\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                approvedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                fromUserSubAdminId: role === 'subadmin' ? currentUser.uid : '',\n                fromAdminId: role === 'admin' ? currentUser.uid : '',\n                type: role === 'admin' ? 'admin-to-subadmin' : 'subadmin-to-user'\n            });\n            //  4. Update UI\n            setTargetBalance((prev)=>(prev ?? 0) + amount);\n            setCurrentBalance((prev)=>prev - amount);\n            setAmountToAdd('');\n            setMessage(' Transfer successful and logged.');\n        } catch (err) {\n            console.error(err);\n            setMessage(' Failed to transfer.');\n        }\n    };\n    const handleAcceptWithdraw = async (withdraw)=>{\n        try {\n            const { id, amount, fromSubAdminId, fromUserSubAdminId, uid, status } = withdraw;\n            if (!id || status !== 'pending') {\n                return alert('Invalid or already processed request.');\n            }\n            // Determine the receiver (who gets the money back)\n            let receiverUid;\n            if (role === 'admin') {\n                // Admin is approving subadmin  admin request\n                receiverUid = fromSubAdminId;\n            } else if (role === 'subadmin') {\n                // Subadmin is approving user  subadmin request\n                receiverUid = currentUser.uid;\n            } else {\n                return alert('Unauthorized');\n            }\n            // Approver's wallet (who gets money added back)\n            const receiverWalletRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, role === 'admin' ? 'adminwallets' : 'subwallets', receiverUid);\n            const receiverSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(receiverWalletRef);\n            const receiverBalance = receiverSnap.exists() ? receiverSnap.data().balance ?? 0 : 0;\n            // Add amount back to approver (admin or subadmin)\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(receiverWalletRef, {\n                balance: receiverBalance + amount,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            // await setDoc(receiverWalletRef, {\n            //   balance: receiverBalance + amount,\n            //   updatedAt: serverTimestamp(),\n            // }, { merge: true });\n            // Mark the request as approved\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, 'subwithdrawRequests', id), {\n                status: 'approved',\n                approvedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            // Update UI\n            setWithdrawRequests((prev)=>prev.map((r)=>r.id === id ? {\n                        ...r,\n                        status: 'approved'\n                    } : r));\n            alert(' Withdraw approved and funds added to your wallet.');\n        } catch (err) {\n            console.error(' Error approving withdraw:', err);\n            alert('Something went wrong.');\n        }\n    };\n    // const handleAcceptWithdraw = async (withdraw) => {\n    //   try {\n    //     const { id, amount, fromSubAdminId, fromUserSubAdminId, uid, status } = withdraw;\n    //     if (!id || status !== 'pending') {\n    //       return alert('Invalid or already processed request.');\n    //     }\n    //     let receiverWalletRef;\n    //     if (role === 'admin' && fromSubAdminId && !fromUserSubAdminId) {\n    //       // Admin is approving subadmin's withdraw request\n    //       receiverWalletRef = doc(db, 'adminwallets', uid); // subadmins uid is the requester\n    //     } else if (role === 'subadmin' && fromUserSubAdminId) {\n    //       // Subadmin is approving user's withdraw request\n    //       receiverWalletRef = doc(db, 'subwallets', uid); // users uid is the requester\n    //     } else {\n    //       return alert('Unauthorized or malformed withdraw request.');\n    //     }\n    //     const receiverSnap = await getDoc(receiverWalletRef);\n    //     const receiverBalance = receiverSnap.exists() ? receiverSnap.data().balance ?? 0 : 0;\n    //     //  Credit receiver wallet\n    //     await setDoc(receiverWalletRef, {\n    //       balance: receiverBalance + amount,\n    //       updatedAt: serverTimestamp(),\n    //     }, { merge: true });\n    //     //  Mark request as approved\n    //     await updateDoc(doc(db, 'subwithdrawRequests', id), {\n    //       status: 'approved',\n    //       approvedAt: serverTimestamp(),\n    //     });\n    //     //  Update state\n    //     setWithdrawRequests((prev) =>\n    //       prev.map((r) =>\n    //         r.id === id ? { ...r, status: 'approved' } : r\n    //       )\n    //     );\n    //     alert(' Withdraw approved and amount credited.');\n    //   } catch (err) {\n    //     console.error(' Error approving withdraw:', err);\n    //     alert('Something went wrong while approving.');\n    //   }\n    // };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_Components_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-900 text-white p-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-xl mx-auto bg-gray-800 p-6 rounded shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-2xl font-bold mb-6 text-center\",\n                            children: role === 'admin' ? 'Admin: Fund Subadmin' : 'Subadmin: Fund User'\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3208,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mb-4 text-green-400\",\n                            children: [\n                                \"Your Balance: \",\n                                currentBalance.toFixed(2)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3212,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"email\",\n                            placeholder: role === 'admin' ? 'Subadmin Email' : 'User Email',\n                            className: \"w-full p-3 rounded bg-gray-700 text-white mb-4\",\n                            value: targetEmail,\n                            onChange: (e)=>setTargetEmail(e.target.value)\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3214,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSearch,\n                            disabled: loading,\n                            className: \"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-2 rounded mb-4\",\n                            children: loading ? 'Searching...' : 'Find Wallet'\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3222,\n                            columnNumber: 11\n                        }, this),\n                        message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-center text-sm mb-4 text-yellow-400\",\n                            children: message\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3230,\n                            columnNumber: 23\n                        }, this),\n                        targetUid && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mb-2\",\n                                    children: [\n                                        \"Recipient Balance: \",\n                                        targetBalance?.toFixed(2)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                    lineNumber: 3234,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"number\",\n                                    placeholder: \"Amount to transfer\",\n                                    className: \"w-full p-3 rounded bg-gray-700 text-white mb-4\",\n                                    value: amountToAdd,\n                                    onChange: (e)=>setAmountToAdd(e.target.value)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                    lineNumber: 3235,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleAddBalance,\n                                    className: \"w-full bg-green-500 hover:bg-green-600 text-black font-semibold py-2 rounded\",\n                                    children: \"Transfer Funds\"\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                    lineNumber: 3242,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                    lineNumber: 3207,\n                    columnNumber: 9\n                }, this),\n                withdrawRequests.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-2xl mx-auto mt-10 bg-gray-800 p-6 rounded shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-4\",\n                            children: \"Pending Withdraw Requests\"\n                        }, void 0, false, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                            lineNumber: 3254,\n                            columnNumber: 13\n                        }, this),\n                        withdrawRequests.map((req)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-700 p-3 mb-3 rounded\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"User Email:\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                                lineNumber: 3257,\n                                                columnNumber: 20\n                                            }, this),\n                                            \" \",\n                                            req.email\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                        lineNumber: 3257,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Amount:\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                                lineNumber: 3258,\n                                                columnNumber: 20\n                                            }, this),\n                                            \" \",\n                                            req.amount\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                        lineNumber: 3258,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"Method:\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                                lineNumber: 3259,\n                                                columnNumber: 20\n                                            }, this),\n                                            \" \",\n                                            req.method,\n                                            \" (\",\n                                            req.paymentId,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                        lineNumber: 3259,\n                                        columnNumber: 17\n                                    }, this),\n                                    req.status === 'pending' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"mt-2 bg-blue-500 hover:bg-blue-600 text-white py-1 px-4 rounded\",\n                                        onClick: ()=>handleAcceptWithdraw(req),\n                                        children: \"Accept\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                        lineNumber: 3261,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"inline-block mt-2 text-green-400 font-semibold\",\n                                        children: \"Approved\"\n                                    }, void 0, false, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                        lineNumber: 3268,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, req.id, true, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                                lineNumber: 3256,\n                                columnNumber: 15\n                            }, this))\n                    ]\n                }, void 0, true, {\n                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n                    lineNumber: 3253,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n            lineNumber: 3206,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\admin\\\\wallet\\\\page.js\",\n        lineNumber: 3205,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2M7NEJBQUdkLFdBQVU7c0NBQTZCOzs7Ozs7d0JBQzFDMUQsaUJBQWlCbUIsR0FBRyxDQUFDLENBQUNzRCxvQkFDckIsOERBQUNoQjtnQ0FBaUJDLFdBQVU7O2tEQUMxQiw4REFBQ0U7OzBEQUFFLDhEQUFDYzswREFBTzs7Ozs7OzRDQUFvQjs0Q0FBRUQsSUFBSW5DLEtBQUs7Ozs7Ozs7a0RBQzFDLDhEQUFDc0I7OzBEQUFFLDhEQUFDYzswREFBTzs7Ozs7OzRDQUFnQjs0Q0FBR0QsSUFBSTVDLE1BQU07Ozs7Ozs7a0RBQ3hDLDhEQUFDK0I7OzBEQUFFLDhEQUFDYzswREFBTzs7Ozs7OzRDQUFnQjs0Q0FBRUQsSUFBSWpDLE1BQU07NENBQUM7NENBQUdpQyxJQUFJaEMsU0FBUzs0Q0FBQzs7Ozs7OztvQ0FDeERnQyxJQUFJbEMsTUFBTSxLQUFLLDBCQUNkLDhEQUFDNkI7d0NBQ0NWLFdBQVU7d0NBQ1ZXLFNBQVMsSUFBTXJCLHFCQUFxQnlCO2tEQUNyQzs7Ozs7NkRBSUQsOERBQUNFO3dDQUFLakIsV0FBVTtrREFBaUQ7Ozs7Ozs7K0JBWjNEZSxJQUFJckQsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCOUIiLCJzb3VyY2VzIjpbIkU6XFxOYWdhbGFuZFxcZ2FtbGluZ1xcbWVnYWVuZC1uZXdcXHNyY1xcYXBwXFxhcHBcXGFkbWluXFx3YWxsZXRcXHBhZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vICAgb3JkZXJCeSxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2FsbGV0QWRtaW5QYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFthZG1pbiwgc2V0QWRtaW5dID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4vLyAgIGNvbnN0IFt0YXJnZXRFbWFpbCwgc2V0VGFyZ2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRVaWQsIHNldFRhcmdldFVpZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvRGVkdWN0LCBzZXRBbW91bnRUb0RlZHVjdF0gPSB1c2VTdGF0ZSgnJyk7XHJcblxyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuLy8gICBjb25zdCBbc3VibWl0dGluZywgc2V0U3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIGNvbnN0IFtkZXBvc2l0UmVxdWVzdHMsIHNldERlcG9zaXRSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcbi8vICAgY29uc3QgW3dpdGhkcmF3UmVxdWVzdHMsIHNldFdpdGhkcmF3UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuLy8gICBjb25zdCBbcmVmcmVzaEtleSwgc2V0UmVmcmVzaEtleV0gPSB1c2VTdGF0ZSgwKTsgLy8gVG8gcmUtZmV0Y2ggYWZ0ZXIgYXBwcm92ZS9yZWplY3RcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbYXV0aF0pO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgaWYgKCFhZG1pbikgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGZldGNoUmVxdWVzdHMgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICAgIC8vIERlcG9zaXRcclxuLy8gICAgICAgY29uc3QgZGVwUSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdkZXBvc2l0UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ3BlbmRpbmcnKSxcclxuLy8gICAgICAgICBvcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IGRlcFNuYXAgPSBhd2FpdCBnZXREb2NzKGRlcFEpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoZGVwU25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKSk7XHJcblxyXG4vLyAgICAgICAvLyBXaXRoZHJhd1xyXG4vLyAgICAgICBjb25zdCB3aXRoUSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICd3aXRoZHJhd1JlcXVlc3RzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdwZW5kaW5nJyksXHJcbi8vICAgICAgICAgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCB3aXRoU25hcCA9IGF3YWl0IGdldERvY3Mod2l0aFEpO1xyXG4vLyAgICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKHdpdGhTbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpKTtcclxuLy8gICAgIH07XHJcblxyXG4vLyAgICAgZmV0Y2hSZXF1ZXN0cygpO1xyXG4vLyAgIH0sIFthZG1pbiwgZGIsIHJlZnJlc2hLZXldKTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRFbWFpbCkge1xyXG4vLyAgICAgICBhbGVydCgnRW50ZXIgYSB2YWxpZCBlbWFpbC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG4vLyAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCB3YWxsZXRRdWVyeSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICd3YWxsZXRzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2NzKHdhbGxldFF1ZXJ5KTtcclxuXHJcbi8vICAgICAgIGlmICghd2FsbGV0U25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldERvYyA9IHdhbGxldFNuYXAuZG9jc1swXTtcclxuLy8gICAgICAgICBzZXRUYXJnZXRVaWQod2FsbGV0RG9jLmRhdGEoKS51aWQpO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKHdhbGxldERvYy5kYXRhKCkuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICBhbGVydChcclxuLy8gICAgICAgICAgICdXYWxsZXQgbm90IGZvdW5kLiBBc2sgdGhlIHVzZXIgdG8gbG9naW4gb25jZSBzbyB0aGVpciB3YWxsZXQgaXMgYXV0by1jcmVhdGVkLidcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBzZWFyY2g6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3Igc2VhcmNoaW5nIGZvciB3YWxsZXQuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkKSB7XHJcbi8vICAgICAgIGFsZXJ0KCdTZWFyY2ggYW5kIHNlbGVjdCBhIHVzZXIgZmlyc3QuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgYWxlcnQoJ0VudGVyIGEgdmFsaWQgcG9zaXRpdmUgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgc2V0U3VibWl0dGluZyh0cnVlKTtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgJ3dhbGxldHMnLCB0YXJnZXRVaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2Mod2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKGN1cnJlbnRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIGFsZXJ0KCdXYWxsZXQgYmFsYW5jZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHdhbGxldDonLCBlcnJvcik7XHJcbi8vICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gdXBkYXRlIHdhbGxldC4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZURlZHVjdEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCkge1xyXG4vLyAgICAgICBhbGVydCgnU2VhcmNoIGFuZCBzZWxlY3QgYSB1c2VyIGZpcnN0LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvRGVkdWN0KTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIGFsZXJ0KCdFbnRlciBhIHZhbGlkIHBvc2l0aXZlIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiAoY3VycmVudEJhbGFuY2UgPz8gMCkpIHtcclxuLy8gICAgICAgYWxlcnQoJ0Nhbm5vdCBkZWR1Y3QgbW9yZSB0aGFuIHRoZSBjdXJyZW50IGJhbGFuY2UuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCAnd2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh3YWxsZXRSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoY3VycmVudEJhbGFuY2UgPz8gMCkgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvRGVkdWN0KCcnKTtcclxuLy8gICAgICAgYWxlcnQoJ1dhbGxldCBiYWxhbmNlIGRlZHVjdGVkIHN1Y2Nlc3NmdWxseSEnKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlZHVjdGluZyB3YWxsZXQ6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRmFpbGVkIHRvIGRlZHVjdCB3YWxsZXQgYmFsYW5jZS4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVN0YXR1c0NoYW5nZSA9IGFzeW5jIChjb2xsZWN0aW9uTmFtZSwgaWQsIG5ld1N0YXR1cykgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcmVmID0gZG9jKGRiLCBjb2xsZWN0aW9uTmFtZSwgaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MocmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiBuZXdTdGF0dXMsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcbi8vICAgICAgIGFsZXJ0KGBSZXF1ZXN0IG1hcmtlZCBhcyAke25ld1N0YXR1c31gKTtcclxuLy8gICAgICAgc2V0UmVmcmVzaEtleSgocHJldikgPT4gcHJldiArIDEpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc3RhdHVzOicsIGVycm9yKTtcclxuLy8gICAgICAgYWxlcnQoJ0ZhaWxlZCB0byB1cGRhdGUgc3RhdHVzLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGlmICghYWRtaW4pIHtcclxuLy8gICAgIHJldHVybiAoXHJcbi8vICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktOTAwIHRleHQtd2hpdGVcIj5cclxuLy8gICAgICAgICA8cD5QbGVhc2UgbG9naW4gYXMgYWRtaW4gdG8gbWFuYWdlIHdhbGxldHMuPC9wPlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgICk7XHJcbi8vICAgfVxyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LXN0YXJ0IHAtOCBzcGFjZS15LThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBwLTYgbWF4LXctbWQgdy1mdWxsXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAgQWRtaW46IE1hbmFnZSBXYWxsZXRcclxuLy8gICAgICAgICAgIDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbi8vICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayBtYi0yXCI+VXNlciBFbWFpbDwvbGFiZWw+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgdXNlciBlbWFpbFwiXHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmcteWVsbG93LTQwMFwiXHJcbi8vICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXQtMiB3LWZ1bGwgcHktMyByb3VuZGVkLW1kIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFjayAke1xyXG4vLyAgICAgICAgICAgICAgICAgbG9hZGluZ1xyXG4vLyAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcclxuLy8gICAgICAgICAgICAgICAgICAgOiAnYmcteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctNTAwJ1xyXG4vLyAgICAgICAgICAgICAgIH1gfVxyXG4vLyAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFdhbGxldCd9XHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbWItMSB0ZXh0LWdyYXktNDAwIGJyZWFrLWFsbFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgVUlEOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0YXJnZXRVaWR9PC9zcGFuPlxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAgICAgIEN1cnJlbnQgQmFsYW5jZTp7JyAnfVxyXG4vLyAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwIGZvbnQtc2VtaWJvbGRcIj5cclxuLy8gICAgICAgICAgICAgICAgICAg4oK5e2N1cnJlbnRCYWxhbmNlPy50b0ZpeGVkKDIpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIG1iLTJcIj5BZGQgQmFsYW5jZTwvbGFiZWw+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4vLyAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGFtb3VudCB0byBhZGRcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyBtYi0yIHJvdW5kZWQgYmctZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCB0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy15ZWxsb3ctNDAwXCJcclxuLy8gICAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZEJhbGFuY2V9XHJcbi8vICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBweS0zIHJvdW5kZWQtbWQgZm9udC1zZW1pYm9sZCB0ZXh0LWJsYWNrICR7XHJcbi8vICAgICAgICAgICAgICAgICAgIHN1Ym1pdHRpbmdcclxuLy8gICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctMTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcclxuLy8gICAgICAgICAgICAgICAgICAgICA6ICdiZy15ZWxsb3ctNDAwIGhvdmVyOmJnLXllbGxvdy01MDAnXHJcbi8vICAgICAgICAgICAgICAgICB9YH1cclxuLy8gICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICB7c3VibWl0dGluZyA/ICdVcGRhdGluZy4uLicgOiAnQWRkIEJhbGFuY2UnfVxyXG4vLyAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgbWItMiBtdC02XCI+RGVkdWN0IEJhbGFuY2U8L2xhYmVsPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBtaW49XCIwXCJcclxuLy8gICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAxXCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0RlZHVjdH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9EZWR1Y3QoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBhbW91bnQgdG8gZGVkdWN0XCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTMgbWItMiByb3VuZGVkIGJnLWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgdGV4dC13aGl0ZSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmVkLTQwMFwiXHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWR1Y3RCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N1Ym1pdHRpbmd9XHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcHktMyByb3VuZGVkLW1kIGZvbnQtc2VtaWJvbGQgdGV4dC1ibGFjayAke1xyXG4vLyAgICAgICAgICAgICAgICAgICBzdWJtaXR0aW5nXHJcbi8vICAgICAgICAgICAgICAgICAgICAgPyAnYmctcmVkLTEwMCBjdXJzb3Itbm90LWFsbG93ZWQnXHJcbi8vICAgICAgICAgICAgICAgICAgICAgOiAnYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwJ1xyXG4vLyAgICAgICAgICAgICAgICAgfWB9XHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAge3N1Ym1pdHRpbmcgPyAnVXBkYXRpbmcuLi4nIDogJ0RlZHVjdCBCYWxhbmNlJ31cclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogRGVwb3NpdCBSZXF1ZXN0cyAqL31cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBwLTYgbWF4LXctMnhsIHctZnVsbFwiPlxyXG4vLyAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTRcIj5EZXBvc2l0IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubGVuZ3RoID09PSAwICYmIChcclxuLy8gICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPk5vIGRlcG9zaXQgcmVxdWVzdHMgZm91bmQuPC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgPGRpdlxyXG4vLyAgICAgICAgICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNjAwIHBiLTIgdGV4dC1zbVwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICA8cD5FbWFpbDoge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+QW1vdW50OiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+VHhuIElEOiB7cmVxLnRyYW5zYWN0aW9uSWR9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxwPlN0YXR1czogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e3JlcS5zdGF0dXN9PC9zcGFuPjwvcD5cclxuLy8gICAgICAgICAgICAgICA8cD5cclxuLy8gICAgICAgICAgICAgICAgIERhdGU6eycgJ31cclxuLy8gICAgICAgICAgICAgICAgIHtyZXEuY3JlYXRlZEF0Py50b0RhdGVcclxuLy8gICAgICAgICAgICAgICAgICAgPyByZXEuY3JlYXRlZEF0LnRvRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKClcclxuLy8gICAgICAgICAgICAgICAgICAgOiAnTi9BJ31cclxuLy8gICAgICAgICAgICAgICA8L3A+XHJcbi8vICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGZsZXggZ2FwLTJcIj5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCdkZXBvc2l0UmVxdWVzdHMnLCByZXEuaWQsICdhcHByb3ZlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0xIHB4LTMgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ2RlcG9zaXRSZXF1ZXN0cycsIHJlcS5pZCwgJ3JlamVjdGVkJyl9XHJcbi8vICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICBSZWplY3RcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctMnhsIHAtNiBtYXgtdy0yeGwgdy1mdWxsXCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNFwiPldpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgIHt3aXRoZHJhd1JlcXVlc3RzLmxlbmd0aCA9PT0gMCAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB3aXRoZHJhdyByZXF1ZXN0cyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgPGRpdlxyXG4vLyAgICAgICAgICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktNjAwIHBiLTIgdGV4dC1zbVwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICA8cD5FbWFpbDoge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+QW1vdW50OiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgPHA+U3RhdHVzOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGRcIj57cmVxLnN0YXR1c308L3NwYW4+PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxwPlxyXG4vLyAgICAgICAgICAgICAgICAgRGF0ZTp7JyAnfVxyXG4vLyAgICAgICAgICAgICAgICAge3JlcS5jcmVhdGVkQXQ/LnRvRGF0ZVxyXG4vLyAgICAgICAgICAgICAgICAgICA/IHJlcS5jcmVhdGVkQXQudG9EYXRlKCkudG9Mb2NhbGVTdHJpbmcoKVxyXG4vLyAgICAgICAgICAgICAgICAgICA6ICdOL0EnfVxyXG4vLyAgICAgICAgICAgICAgIDwvcD5cclxuLy8gICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBnYXAtMlwiPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ3dpdGhkcmF3UmVxdWVzdHMnLCByZXEuaWQsICdhcHByb3ZlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0xIHB4LTMgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTdGF0dXNDaGFuZ2UoJ3dpdGhkcmF3UmVxdWVzdHMnLCByZXEuaWQsICdyZWplY3RlZCcpfVxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTEgcHgtMyByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgUmVqZWN0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICApKX1cclxuLy8gICAgICAgICA8L2Rpdj4gKi99XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy0yeGwgcC02IG1heC13LTJ4bCB3LWZ1bGxcIj5cclxuLy8gICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNFwiPldpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICB7d2l0aGRyYXdSZXF1ZXN0cy5sZW5ndGggPT09IDAgJiYgKFxyXG4vLyAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPk5vIHdpdGhkcmF3IHJlcXVlc3RzIGZvdW5kLjwvcD5cclxuLy8gICApfVxyXG4vLyAgIHt3aXRoZHJhd1JlcXVlc3RzLm1hcCgocmVxKSA9PiAoXHJcbi8vICAgICA8ZGl2XHJcbi8vICAgICAgIGtleT17cmVxLmlkfVxyXG4vLyAgICAgICBjbGFzc05hbWU9XCJtYi00IGJvcmRlci1iIGJvcmRlci1ncmF5LTYwMCBwYi0zIHRleHQtc21cIlxyXG4vLyAgICAgPlxyXG4vLyAgICAgICA8cD48c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RW1haWw6PC9zcGFuPiB7cmVxLmVtYWlsfTwvcD5cclxuLy8gICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkFtb3VudDo8L3NwYW4+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgPHA+PHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlN0YXR1czo8L3NwYW4+IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZFwiPntyZXEuc3RhdHVzfTwvc3Bhbj48L3A+XHJcbi8vICAgICAgIDxwPlxyXG4vLyAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5EYXRlOjwvc3Bhbj57JyAnfVxyXG4vLyAgICAgICAgIHtyZXEuY3JlYXRlZEF0Py50b0RhdGVcclxuLy8gICAgICAgICAgID8gcmVxLmNyZWF0ZWRBdC50b0RhdGUoKS50b0xvY2FsZVN0cmluZygpXHJcbi8vICAgICAgICAgICA6ICdOL0EnfVxyXG4vLyAgICAgICA8L3A+XHJcbi8vICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5NZXRob2Q6PC9zcGFuPiB7cmVxLm1ldGhvZCB8fCAnTi9BJ308L3A+XHJcbi8vICAgICAgIDxwPjxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5BZGRyZXNzOjwvc3Bhbj4ge3JlcS5hZGRyZXNzIHx8ICdOL0EnfTwvcD5cclxuXHJcbi8vICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBmbGV4IGdhcC0yXCI+XHJcbi8vICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCd3aXRoZHJhd1JlcXVlc3RzJywgcmVxLmlkLCAnYXBwcm92ZWQnKX1cclxuLy8gICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTEgcHgtMyByb3VuZGVkXCJcclxuLy8gICAgICAgICA+XHJcbi8vICAgICAgICAgICBBcHByb3ZlXHJcbi8vICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3RhdHVzQ2hhbmdlKCd3aXRoZHJhd1JlcXVlc3RzJywgcmVxLmlkLCAncmVqZWN0ZWQnKX1cclxuLy8gICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMSBweC0zIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgID5cclxuLy8gICAgICAgICAgIFJlamVjdFxyXG4vLyAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvZGl2PlxyXG4vLyAgICkpfVxyXG4vLyA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbc3ViYWRtaW4sIHNldFN1YmFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldFN1YmFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbYXV0aF0pO1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UXVlcnkgPSBxdWVyeShcclxuLy8gICAgICAgICBjb2xsZWN0aW9uKGRiLCAnd2FsbGV0cycpLFxyXG4vLyAgICAgICAgIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3Mod2FsbGV0UXVlcnkpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuIEFzayB1c2VyIHRvIGxvZyBpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcHNob3QuZG9jc1swXS5kYXRhKCk7XHJcblxyXG4vLyAgICAgICAvLyDinIUgQWxsb3cgb25seSBpZiB3YWxsZXQuc3ViQWRtaW5JZCBtYXRjaGVzIGN1cnJlbnQgc3ViYWRtaW4udWlkXHJcbi8vICAgICAgIGlmICh3YWxsZXQuc3ViQWRtaW5JZCAhPT0gc3ViYWRtaW4/LnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBBY2Nlc3MgZGVuaWVkLiBUaGlzIHVzZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHlvdS4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh3YWxsZXQudWlkKTtcclxuLy8gICAgICAgc2V0Q3VycmVudEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQgYW5kIHZlcmlmaWVkLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignU2VhcmNoIGVycm9yOicsIGVycm9yKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byBzZWFyY2ggd2FsbGV0LicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVudGVyIHZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgJ3dhbGxldHMnLCB0YXJnZXRVaWQpO1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2Mod2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKGN1cnJlbnRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBCYWxhbmNlIGFkZGVkLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FkZCBlcnJvcjonLCBlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIGFkZCBiYWxhbmNlLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5TdWJhZG1pbjogQWRkIEJhbGFuY2U8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlVzZXIgZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIG1iLTQgdGV4dC15ZWxsb3ctNDAwXCI+e21lc3NhZ2V9PC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+Q3VycmVudCBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gYWRkXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIEFkZCBCYWxhbmNlXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbYWRtaW4sIHNldEFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRDdXJyZW50QmFsYW5jZShudWxsKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBxID0gcXVlcnkoXHJcbi8vICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3dhbGxldHMnKSxcclxuLy8gICAgICAgICB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbClcclxuLy8gICAgICAgKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLiBBc2sgdXNlciB0byBsb2dpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHdhbGxldC51aWQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFN1Yi1hZG1pbiB3YWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3IgZmV0Y2hpbmcgd2FsbGV0LicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVudGVyIGEgdmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCAnd2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh3YWxsZXRSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoY3VycmVudEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBCYWxhbmNlIHN1Y2Nlc3NmdWxseSBhZGRlZCB0byBzdWJhZG1pbi4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdXBkYXRlIHdhbGxldC4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLTggZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhsIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02IHRleHQtY2VudGVyXCI+QWRtaW46IEZ1bmQgU3ViLWFkbWluPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWItYWRtaW4gZW1haWxcIlxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIG1iLTQgdGV4dC15ZWxsb3ctNDAwXCI+e21lc3NhZ2V9PC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+Q3VycmVudCBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gYWRkXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIEFkZCBCYWxhbmNlXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuXHJcbi8vICd1c2UgY2xpZW50JztcclxuXHJcbi8vIGltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG4vLyBpbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIGRvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2FkbWluLCBzZXRBZG1pbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRBZG1pbih1c2VyKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0Q3VycmVudEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIC8vIOKchSBVc2UgJ3N1YndhbGxldHMnIGhlcmVcclxuLy8gICAgICAgICB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbClcclxuLy8gICAgICAgKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBTdWJhZG1pbiB3YWxsZXQgbm90IGZvdW5kLiBBc2sgdGhlbSB0byBsb2dpbiBvbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHdhbGxldC51aWQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFN1YmFkbWluIHdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBmZXRjaGluZyBzdWJhZG1pbiB3YWxsZXQuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRW50ZXIgYSB2YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdGFyZ2V0VWlkKTsgLy8g4pyFIFVzZSAnc3Vid2FsbGV0cydcclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IChjdXJyZW50QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIEJhbGFuY2Ugc3VjY2Vzc2Z1bGx5IGFkZGVkIHRvIHN1YmFkbWluLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB1cGRhdGUgc3ViYWRtaW4gd2FsbGV0LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5BZG1pbjogRnVuZCBTdWItYWRtaW4gV2FsbGV0PC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJhZG1pbiBFbWFpbFwiXHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFN1YmFkbWluIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+XHJcbi8vICAgICAgICAgICApfVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5DdXJyZW50IEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byBhZGRcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgICAgICB2YWx1ZT17YW1vdW50VG9BZGR9XHJcbi8vICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFtb3VudFRvQWRkKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgQWRkIEJhbGFuY2VcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbYWRtaW4sIHNldEFkbWluXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthZG1pbkJhbGFuY2UsIHNldEFkbWluQmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbc3ViYWRtaW5CYWxhbmNlLCBzZXRTdWJhZG1pbkJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgLy8g4pyFIEdldCBjdXJyZW50IGFkbWluXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEFkbWluKHVzZXIpO1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IGFkbWluV2FsbGV0UmVmID0gZG9jKGRiLCAnYWRtaW53YWxsZXRzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IGFkbWluV2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyhhZG1pbldhbGxldFJlZik7XHJcbi8vICAgICAgICAgaWYgKGFkbWluV2FsbGV0U25hcC5leGlzdHMoKSkge1xyXG4vLyAgICAgICAgICAgY29uc3QgZGF0YSA9IGFkbWluV2FsbGV0U25hcC5kYXRhKCk7XHJcbi8vICAgICAgICAgICBzZXRBZG1pbkJhbGFuY2UoZGF0YS5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRTdWJhZG1pbkJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxyXG4vLyAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksXHJcbi8vICAgICAgICAgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgU3ViYWRtaW4gd2FsbGV0IG5vdCBmb3VuZC4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHdhbGxldCA9IHNuYXAuZG9jc1swXS5kYXRhKCk7XHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh3YWxsZXQudWlkKTtcclxuLy8gICAgICAgc2V0U3ViYWRtaW5CYWxhbmNlKHdhbGxldC5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgU3ViYWRtaW4gd2FsbGV0IGZvdW5kLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVycm9yIGZldGNoaW5nIHN1YmFkbWluIHdhbGxldC4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFkZEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCB8fCAhYW1vdW50VG9BZGQpIHJldHVybjtcclxuXHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFbnRlciBhIHZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiBhZG1pbkJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBhZG1pbiBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgc3ViUmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHRhcmdldFVpZCk7XHJcbi8vICAgICAgIGNvbnN0IGFkbWluUmVmID0gZG9jKGRiLCAnYWRtaW53YWxsZXRzJywgYWRtaW4udWlkKTtcclxuXHJcbi8vICAgICAgIC8vIOKchSBVcGRhdGUgYm90aCB3YWxsZXRzXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhzdWJSZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAoc3ViYWRtaW5CYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKGFkbWluUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogYWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0U3ViYWRtaW5CYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFkbWluQmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHVwZGF0ZSBiYWxhbmNlcy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLTggZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LXhsIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02IHRleHQtY2VudGVyXCI+QWRtaW46IEZ1bmQgU3ViLWFkbWluIFdhbGxldDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItNCB0ZXh0LWdyZWVuLTQwMFwiPllvdXIgQmFsYW5jZTog4oK5e2FkbWluQmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTdWJhZG1pbiBFbWFpbFwiXHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFN1YmFkbWluIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+XHJcbi8vICAgICAgICAgICApfVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5TdWJhZG1pbiBCYWxhbmNlOiDigrl7c3ViYWRtaW5CYWxhbmNlPy50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIC8vIOKchSBHZXQgY3VycmVudCB1c2VyLCByb2xlLCBhbmQgd2FsbGV0IGJhbGFuY2VcclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgc2V0Q3VycmVudFVzZXIodXNlcik7XHJcbi8vICAgICAgIGlmICh1c2VyKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbi8vICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzbmFwLmV4aXN0cygpID8gc25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRDb2wgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgd2FsbGV0Q29sLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSB3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZShiYWxhbmNlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHRhcmdldFdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnc3Vid2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7IC8vIHN1YmFkbWlucyAmIHVzZXJzXHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShcclxuLy8gICAgICAgICBjb2xsZWN0aW9uKGRiLCB0YXJnZXRXYWxsZXRDb2wpLFxyXG4vLyAgICAgICAgIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgLy8g4pyFIElmIHN1YmFkbWluOiBvbmx5IGFsbG93IGRlcG9zaXRpbmcgdG8gdGhlaXIgb3duIHVzZXJzXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nICYmIHdhbGxldC5zdWJBZG1pbklkICE9PSBjdXJyZW50VXNlci51aWQpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgWW91IGNhbiBvbmx5IGZ1bmQgdXNlcnMgY3JlYXRlZCBieSB5b3UuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRVaWQodWlkKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBmZXRjaGluZyB3YWxsZXQuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRW50ZXIgYSB2YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7IC8vIEFsbCByZWNlaXZlcnMgYXJlIGluIHN1YndhbGxldHNcclxuXHJcbi8vICAgICAgIGNvbnN0IGZyb21SZWYgPSBkb2MoZGIsIGZyb21XYWxsZXRDb2wsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbi8vICAgICAgIC8vIOKchSBUcmFuc2ZlciBmdW5kc1xyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuLy8gICAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdXBkYXRlIGJhbGFuY2VzLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbi8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXcteGwgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+XHJcbi8vICAgICAgICAgICAgIFlvdXIgQmFsYW5jZTog4oK5e2N1cnJlbnRCYWxhbmNlLnRvRml4ZWQoMil9XHJcbi8vICAgICAgICAgICA8L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtcclxuLy8gICAgICAgICAgICAgICByb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICB2YWx1ZT17dGFyZ2V0RW1haWx9XHJcbi8vICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGFyZ2V0RW1haWwoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgLz5cclxuXHJcbi8vICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlYXJjaH1cclxuLy8gICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbi8vICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZCBtYi00XCJcclxuLy8gICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAge2xvYWRpbmcgPyAnU2VhcmNoaW5nLi4uJyA6ICdGaW5kIFdhbGxldCd9XHJcbi8vICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICB7bWVzc2FnZSAmJiAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj5cclxuLy8gICAgICAgICAgICAgICB7bWVzc2FnZX1cclxuLy8gICAgICAgICAgICAgPC9wPlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7dGFyZ2V0VWlkICYmIChcclxuLy8gICAgICAgICAgICAgPD5cclxuLy8gICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0yXCI+XHJcbi8vICAgICAgICAgICAgICAgICBSZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9XHJcbi8vICAgICAgICAgICAgICAgPC9wPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBbW91bnQgdG8gdHJhbnNmZXJcIlxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgICAgICB2YWx1ZT17YW1vdW50VG9BZGR9XHJcbi8vICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEFtb3VudFRvQWRkKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhbGxldEFkbWluUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbY3VycmVudFVzZXIsIHNldEN1cnJlbnRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyZXF1ZXN0cywgc2V0UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuXHJcbi8vICAgICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCkpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlclNuYXAuZXhpc3RzKCkgPyB1c2VyU25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBmZXRjaFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBmZXRjaFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgY29sUmVmID0gY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKTtcclxuXHJcbi8vICAgICAgIGxldCBxID0gbnVsbDtcclxuLy8gICAgICAgaWYgKHVzZXJSb2xlID09PSAnYWRtaW4nKSB7XHJcbi8vICAgICAgICAgLy8gQWRtaW4gc2VlcyByZXF1ZXN0cyBmcm9tIHN1YmFkbWluc1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YmFkbWluU25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgICBxdWVyeShjb2xsZWN0aW9uKGRiLCAndXNlcnMnKSwgd2hlcmUoJ3JvbGUnLCAnPT0nLCAnc3ViYWRtaW4nKSlcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YmFkbWluSWRzID0gc3ViYWRtaW5TbmFwLmRvY3MubWFwKChkb2MpID0+IGRvYy5pZCk7XHJcblxyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCd1aWQnLCAnaW4nLCBzdWJhZG1pbklkcykpO1xyXG4vLyAgICAgICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgLy8gU3ViYWRtaW4gc2VlcyByZXF1ZXN0cyBmcm9tIHVzZXJzIHRoZXkgY3JlYXRlZFxyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jcyhcclxuLy8gICAgICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdzdWJBZG1pbklkJywgJz09JywgdWlkKSlcclxuLy8gICAgICAgICApO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJJZHMgPSB1c2VyU25hcC5kb2NzLm1hcCgoZG9jKSA9PiBkb2MuaWQpO1xyXG5cclxuLy8gICAgICAgICBpZiAodXNlcklkcy5sZW5ndGggPT09IDApIHtcclxuLy8gICAgICAgICAgIHNldFJlcXVlc3RzKFtdKTtcclxuLy8gICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgcSA9IHF1ZXJ5KGNvbFJlZiwgd2hlcmUoJ3VpZCcsICdpbicsIHVzZXJJZHMpKTtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3QgcmVxU25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IHJlcVNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuLy8gICAgICAgICBpZDogZG9jLmlkLFxyXG4vLyAgICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIHNldFJlcXVlc3RzKGZvcm1hdHRlZCk7XHJcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB3aXRoZHJhd2FsIHJlcXVlc3RzOicsIGVycm9yKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFwcHJvdmUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xyXG4vLyAgICAgY29uc3QgY29uZmlybSA9IHdpbmRvdy5jb25maXJtKGBBcHByb3ZlIHdpdGhkcmF3YWwgb2Yg4oK5JHtyZXF1ZXN0LmFtb3VudH0/YCk7XHJcbi8vICAgICBpZiAoIWNvbmZpcm0pIHJldHVybjtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCByZXF1ZXN0UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIHJlcXVlc3QuaWQpO1xyXG5cclxuLy8gICAgICAgLy8gRGVkdWN0IGZyb20gdXNlcidzIHdhbGxldFxyXG4vLyAgICAgICBjb25zdCB1c2VyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHJlcXVlc3QudWlkKTtcclxuLy8gICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlcldhbGxldFJlZik7XHJcbi8vICAgICAgIGNvbnN0IHVzZXJCYWwgPSB1c2VyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwO1xyXG5cclxuLy8gICAgICAgaWYgKHVzZXJCYWwgPCByZXF1ZXN0LmFtb3VudCkge1xyXG4vLyAgICAgICAgIGFsZXJ0KCdJbnN1ZmZpY2llbnQgdXNlciBiYWxhbmNlLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgLy8gQ3JlZGl0IHRvIHN1YmFkbWluIHdhbGxldCAoaWYgc3ViYWRtaW4pXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgY29uc3Qgc3ViV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc3ViU25hcCA9IGF3YWl0IGdldERvYyhzdWJXYWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IHN1YkJhbCA9IHN1YlNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuXHJcbi8vICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgICAgYmFsYW5jZTogc3ViQmFsICsgcmVxdWVzdC5hbW91bnQsXHJcbi8vICAgICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICAvLyBVcGRhdGUgdXNlciB3YWxsZXQgYW5kIG1hcmsgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWwgLSByZXF1ZXN0LmFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhyZXF1ZXN0UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYWxlcnQoJ1dpdGhkcmF3YWwgYXBwcm92ZWQhJyk7XHJcbi8vICAgICAgIHNldFJlcXVlc3RzKChwcmV2KSA9PlxyXG4vLyAgICAgICAgIHByZXYubWFwKChyKSA9PlxyXG4vLyAgICAgICAgICAgci5pZCA9PT0gcmVxdWVzdC5pZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByXHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICApO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgYWxlcnQoJ0Vycm9yIGFwcHJvdmluZyByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtNlwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gYmctZ3JheS04MDAgcm91bmRlZC1sZyBwLTYgc2hhZG93XCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gV2l0aGRyYXcgUmVxdWVzdHMnIDogJ1VzZXIgV2l0aGRyYXcgUmVxdWVzdHMnfVxyXG4vLyAgICAgICAgICAgPC9oMj5cclxuXHJcbi8vICAgICAgICAgICB7bG9hZGluZyA/IChcclxuLy8gICAgICAgICAgICAgPHA+TG9hZGluZyByZXF1ZXN0cy4uLjwvcD5cclxuLy8gICAgICAgICAgICkgOiByZXF1ZXN0cy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwPk5vIHdpdGhkcmF3YWwgcmVxdWVzdHMgZm91bmQuPC9wPlxyXG4vLyAgICAgICAgICAgKSA6IChcclxuLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBib3JkZXItY29sbGFwc2VcIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkVtYWlsPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+QW1vdW50PC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+TWV0aG9kPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+RGV0YWlsczwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPlN0YXR1czwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkFjdGlvbjwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4vLyAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4vLyAgICAgICAgICAgICAgICAgICB7cmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtyZXEuaWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTYwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEuZW1haWx9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTJcIj7igrl7cmVxLmFtb3VudH08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEubWV0aG9kfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2REZXRhaWxzfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yIGNhcGl0YWxpemVcIj57cmVxLnN0YXR1c308L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFwcHJvdmUocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHByb3ZlXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDBcIj7inJTvuI88L3NwYW4+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuLy8gICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICl9XHJcbi8vICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIGRvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXYWxsZXRBZG1pblBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbZGVwb3NpdFJlcXVlc3RzLCBzZXREZXBvc2l0UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YiA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJTbmFwID0gYXdhaXQgZ2V0RG9jKGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpIDoge307XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuLy8gICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZSh3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMCk7XHJcblxyXG4vLyAgICAgICAgIGZldGNoRGVwb3NpdFJlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIHJldHVybiAoKSA9PiB1bnN1YigpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgZmV0Y2hEZXBvc2l0UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgY29sUmVmID0gY29sbGVjdGlvbihkYiwgJ3N1YmRlcG9zaXRSZXF1ZXN0cycpO1xyXG5cclxuLy8gICAgICAgbGV0IHE7XHJcbi8vICAgICAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJykge1xyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCdyb2xlJywgJz09JywgJ3N1YmFkbWluJykpO1xyXG4vLyAgICAgICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlcldhbGxldHMgPSBhd2FpdCBnZXREb2NzKFxyXG4vLyAgICAgICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndhbGxldHMnKSwgd2hlcmUoJ3N1YkFkbWluSWQnLCAnPT0nLCB1aWQpKVxyXG4vLyAgICAgICAgICk7XHJcbi8vICAgICAgICAgY29uc3QgdXNlcklkcyA9IHVzZXJXYWxsZXRzLmRvY3MubWFwKChkb2MpID0+IGRvYy5pZCk7XHJcbi8vICAgICAgICAgaWYgKHVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4vLyAgICAgICAgIHEgPSBxdWVyeShjb2xSZWYsIHdoZXJlKCd1aWQnLCAnaW4nLCB1c2VySWRzKSk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgICAgICBjb25zdCBmb3JtYXR0ZWQgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoZm9ybWF0dGVkKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdGZXRjaCBmYWlsZWQnLCBlcnIpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFwcHJvdmUgPSBhc3luYyAocmVxKSA9PiB7XHJcbi8vICAgICBjb25zdCBjb25maXJtID0gd2luZG93LmNvbmZpcm0oYEFwcHJvdmUg4oK5JHtyZXEuYW1vdW50fSBkZXBvc2l0IGZyb20gJHtyZXEuZW1haWx9P2ApO1xyXG4vLyAgICAgaWYgKCFjb25maXJtKSByZXR1cm47XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVJvbGUgPSByZXEucm9sZTtcclxuLy8gICAgICAgY29uc3QgdG9VaWQgPSBjdXJyZW50VXNlci51aWQ7XHJcblxyXG4vLyAgICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHJlcS51aWQpO1xyXG4vLyAgICAgICBjb25zdCB0b0NvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvQ29sLCB0b1VpZCk7XHJcblxyXG4vLyAgICAgICBjb25zdCB0b1NuYXAgPSBhd2FpdCBnZXREb2ModG9SZWYpO1xyXG4vLyAgICAgICBjb25zdCB0b0JhbGFuY2UgPSB0b1NuYXAuZXhpc3RzKCkgPyB0b1NuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgICAgICAvLyDinIUgVXBkYXRlIHJlY2lwaWVudCB3YWxsZXQgKGFkbWluIG9yIHN1YmFkbWluKVxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiB0b0JhbGFuY2UgKyByZXEuYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgLy8g4pyFIE1hcmsgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3ViZGVwb3NpdFJlcXVlc3RzJywgcmVxLmlkKSwge1xyXG4vLyAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGFsZXJ0KCdEZXBvc2l0IGFwcHJvdmVkIScpO1xyXG4vLyAgICAgICBzZXREZXBvc2l0UmVxdWVzdHMoKHByZXYpID0+XHJcbi8vICAgICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSByZXEuaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogcikpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignQXBwcm92YWwgZmFpbGVkJywgZXJyKTtcclxuLy8gICAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtNlwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRGVwb3NpdCBSZXF1ZXN0cycgOiAnVXNlciBEZXBvc2l0IFJlcXVlc3RzJ31cclxuLy8gICAgICAgICAgIDwvaDI+XHJcblxyXG4vLyAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDAgbWItNFwiPllvdXIgQmFsYW5jZTog4oK5e2N1cnJlbnRCYWxhbmNlLnRvRml4ZWQoMil9PC9wPlxyXG5cclxuLy8gICAgICAgICAgIHtkZXBvc2l0UmVxdWVzdHMubGVuZ3RoID09PSAwID8gKFxyXG4vLyAgICAgICAgICAgICA8cD5ObyBkZXBvc2l0IHJlcXVlc3RzIGZvdW5kLjwvcD5cclxuLy8gICAgICAgICAgICkgOiAoXHJcbi8vICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIHRleHQtc21cIj5cclxuLy8gICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS03MDBcIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkVtYWlsPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtMlwiPkFtb3VudDwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTJcIj5NZXRob2Q8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+RGV0YWlsczwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTJcIj5TdGF0dXM8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0yXCI+QWN0aW9uPC90aD5cclxuLy8gICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgPC90aGVhZD5cclxuLy8gICAgICAgICAgICAgICA8dGJvZHk+XHJcbi8vICAgICAgICAgICAgICAgICB7ZGVwb3NpdFJlcXVlc3RzLm1hcCgocmVxKSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3JlcS5pZH0gY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNjAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMlwiPntyZXEuZW1haWx9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+4oK5e3JlcS5hbW91bnR9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2R9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+e3JlcS5tZXRob2REZXRhaWxzfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtMiBjYXBpdGFsaXplXCI+e3JlcS5zdGF0dXN9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0yXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXBwcm92ZShyZXEpfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcHJvdmVcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTQwMFwiPuKclO+4jzwvc3Bhbj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgPC90cj5cclxuLy8gICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbi8vICAgICAgICAgICAgIDwvdGFibGU+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0QmFsYW5jZSwgc2V0VGFyZ2V0QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbYW1vdW50VG9BZGQsIHNldEFtb3VudFRvQWRkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuLy8gICBjb25zdCBbd2l0aGRyYXdSZXF1ZXN0cywgc2V0V2l0aGRyYXdSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNuYXAuZXhpc3RzKCkgPyBzbmFwLmRhdGEoKSA6IHt9O1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlckRhdGEucm9sZSB8fCAndXNlcic7XHJcbi8vICAgICAgICAgc2V0Um9sZSh1c2VyUm9sZSk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldENvbCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCB3YWxsZXRDb2wsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRTbmFwID0gYXdhaXQgZ2V0RG9jKHdhbGxldFJlZik7XHJcbi8vICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHdhbGxldFNuYXAuZXhpc3RzKCkgPyB3YWxsZXRTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKGJhbGFuY2UpO1xyXG5cclxuLy8gICAgICAgICBsb2FkV2l0aGRyYXdSZXF1ZXN0cyh1c2VyLnVpZCwgdXNlclJvbGUpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9KTtcclxuLy8gICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgbG9hZFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAgICAgY29uc3QgZmllbGQgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdmcm9tU3ViQWRtaW5JZCcgOiAnZnJvbVVzZXJTdWJBZG1pbklkJztcclxuLy8gICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLCB3aGVyZShmaWVsZCwgJz09JywgdWlkKSk7XHJcbi8vICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuLy8gICAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cyhyZXN1bHRzKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4vLyAgICAgc2V0TWVzc2FnZSgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRVaWQoJycpO1xyXG4vLyAgICAgc2V0VGFyZ2V0QmFsYW5jZShudWxsKTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndhbGxldHMnKSwgd2hlcmUoJ2VtYWlsJywgJz09JywgdGFyZ2V0RW1haWwpKTtcclxuLy8gICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4vLyAgICAgICBpZiAoc25hcC5lbXB0eSkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuLy8gICAgICAgY29uc3QgdWlkID0gd2FsbGV0LnVpZDtcclxuXHJcbi8vICAgICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nICYmIHdhbGxldC5zdWJBZG1pbklkICE9PSBjdXJyZW50VXNlci51aWQpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgTm90IHlvdXIgdXNlci4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIHNldFRhcmdldFVpZCh1aWQpO1xyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKHdhbGxldC5iYWxhbmNlID8/IDApO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgV2FsbGV0IGZvdW5kLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEVycm9yIHNlYXJjaGluZy4nKTtcclxuLy8gICAgIH0gZmluYWxseSB7XHJcbi8vICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFkZEJhbGFuY2UgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBpZiAoIXRhcmdldFVpZCB8fCAhYW1vdW50VG9BZGQpIHJldHVybjtcclxuXHJcbi8vICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuLy8gICAgIGlmIChpc05hTihhbW91bnQpIHx8IGFtb3VudCA8PSAwKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnZhbGlkIGFtb3VudC4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGlmIChhbW91bnQgPiBjdXJyZW50QmFsYW5jZSkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICBjb25zdCB0b1dhbGxldENvbCA9ICdzdWJ3YWxsZXRzJztcclxuXHJcbi8vICAgICAgIGNvbnN0IGZyb21SZWYgPSBkb2MoZGIsIGZyb21XYWxsZXRDb2wsIGN1cnJlbnRVc2VyLnVpZCk7XHJcbi8vICAgICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyh0b1JlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6ICh0YXJnZXRCYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKGZyb21SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiBjdXJyZW50QmFsYW5jZSAtIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2UoKHByZXYpID0+IChwcmV2ID8/IDApICsgYW1vdW50KTtcclxuLy8gICAgICAgc2V0Q3VycmVudEJhbGFuY2UoKHByZXYpID0+IHByZXYgLSBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBUcmFuc2ZlciBzdWNjZXNzZnVsLicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB0cmFuc2Zlci4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICAvLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jIChyZXEpID0+IHtcclxuLy8gICAvLyAgIGNvbnN0IGFtb3VudCA9IHJlcS5hbW91bnQ7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgIC8vICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4vLyAgIC8vICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCByZXEuZnJvbVVpZCk7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG5cclxuLy8gICAvLyAgIGNvbnN0IHRvU25hcCA9IGF3YWl0IGdldERvYyh0b1JlZik7XHJcbi8vICAgLy8gICBjb25zdCBmcm9tU25hcCA9IGF3YWl0IGdldERvYyhmcm9tUmVmKTtcclxuXHJcbi8vICAgLy8gICBpZiAoIXRvU25hcC5leGlzdHMoKSB8fCAhZnJvbVNuYXAuZXhpc3RzKCkpIHtcclxuLy8gICAvLyAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgLy8gICAgIHJldHVybjtcclxuLy8gICAvLyAgIH1cclxuXHJcbi8vICAgLy8gICBjb25zdCBmcm9tQmFsYW5jZSA9IGZyb21TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDA7XHJcbi8vICAgLy8gICBpZiAoZnJvbUJhbGFuY2UgPCBhbW91bnQpIHtcclxuLy8gICAvLyAgICAgc2V0TWVzc2FnZSgn4p2MIE5vdCBlbm91Z2ggYmFsYW5jZS4nKTtcclxuLy8gICAvLyAgICAgcmV0dXJuO1xyXG4vLyAgIC8vICAgfVxyXG5cclxuLy8gICAvLyAgIGF3YWl0IHVwZGF0ZURvYyh0b1JlZiwge1xyXG4vLyAgIC8vICAgICBiYWxhbmNlOiAodG9TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDApICsgYW1vdW50LFxyXG4vLyAgIC8vICAgfSk7XHJcblxyXG4vLyAgIC8vICAgYXdhaXQgdXBkYXRlRG9jKGZyb21SZWYsIHtcclxuLy8gICAvLyAgICAgYmFsYW5jZTogZnJvbUJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgLy8gICB9KTtcclxuXHJcbi8vICAgLy8gICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIHJlcS5pZCksIHtcclxuLy8gICAvLyAgICAgc3RhdHVzOiAnYWNjZXB0ZWQnLFxyXG4vLyAgIC8vICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgIH0pO1xyXG5cclxuLy8gICAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMoKHByZXYpID0+IHByZXYuZmlsdGVyKChyKSA9PiByLmlkICE9PSByZXEuaWQpKTtcclxuLy8gICAvLyAgIHNldE1lc3NhZ2UoJ+KchSBXaXRoZHJhdyBhY2NlcHRlZC4nKTtcclxuLy8gICAvLyB9O1xyXG4vLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBpZiAoIXdpdGhkcmF3IHx8IHR5cGVvZiB3aXRoZHJhdyAhPT0gJ29iamVjdCcpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcign4p2MIEludmFsaWQgd2l0aGRyYXcgb2JqZWN0OicsIHdpdGhkcmF3KTtcclxuLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHJlcXVlc3QuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgY29uc3QgeyB1aWQsIGFtb3VudCwgaWQsIGZyb21TdWJBZG1pbklkIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIXVpZCB8fCB0eXBlb2YgdWlkICE9PSAnc3RyaW5nJykge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTWlzc2luZyBvciBpbnZhbGlkIFVJRCBpbiB3aXRoZHJhdzonLCB3aXRoZHJhdyk7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnV2l0aGRyYXcgVUlEIGlzIG1pc3NpbmcuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKCFpZCkge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTWlzc2luZyBGaXJlc3RvcmUgZG9jdW1lbnQgSUQgb2Ygd2l0aGRyYXcgcmVxdWVzdCcpO1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IHJlcXVlc3QgSUQgbWlzc2luZy4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBEZWZpbmUgcmVmZXJlbmNlc1xyXG4vLyAgICAgY29uc3QgdXNlcldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpOyAvLyB1c2VyIHdhbGxldFxyXG4vLyAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpOyAvLyBzdWJhZG1pbiB3YWxsZXRcclxuLy8gICAgIGNvbnN0IHdpdGhkcmF3UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKTtcclxuXHJcbi8vICAgICAvLyBGZXRjaCBjdXJyZW50IGJhbGFuY2VzXHJcbi8vICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgIGdldERvYyh1c2VyV2FsbGV0UmVmKSxcclxuLy8gICAgICAgZ2V0RG9jKHN1YkFkbWluV2FsbGV0UmVmKSxcclxuLy8gICAgIF0pO1xyXG5cclxuLy8gICAgIGNvbnN0IHVzZXJCYWxhbmNlID0gdXNlclNuYXAuZXhpc3RzKCkgPyB1c2VyU25hcC5kYXRhKCk/LmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgIGlmIChzdWJBZG1pbkJhbGFuY2UgPCBhbW91bnQpIHtcclxuLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdTdWJhZG1pbiBoYXMgaW5zdWZmaWNpZW50IGJhbGFuY2UgdG8gYXBwcm92ZSB0aGlzIHdpdGhkcmF3YWwuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSB1c2VyIHdhbGxldCAoYWRkIGZ1bmRzKVxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJXYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogdXNlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICAvLyDinIUgRGVkdWN0IGZyb20gc3ViYWRtaW4gd2FsbGV0XHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5XYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSB3aXRoZHJhdyByZXF1ZXN0IHN0YXR1c1xyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGZ1bmRzIGFkZGVkIHRvIHVzZXIgd2FsbGV0LicpO1xyXG4vLyAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgY29uc29sZS5lcnJvcign4p2MIGhhbmRsZUFjY2VwdFdpdGhkcmF3IGVycm9yOicsIGVycik7XHJcbi8vICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWNjZXB0aW5nIHRoZSB3aXRoZHJhdy4nKTtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXcteGwgbXgtYXV0byBiZy1ncmF5LTgwMCBwLTYgcm91bmRlZCBzaGFkb3ctbGdcIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNiB0ZXh0LWNlbnRlclwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJyA/ICdBZG1pbjogRnVuZCBTdWJhZG1pbicgOiAnU3ViYWRtaW46IEZ1bmQgVXNlcid9XHJcbi8vICAgICAgICAgICA8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1ncmVlbi00MDBcIj5Zb3VyIEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRW1haWwnIDogJ1VzZXIgRW1haWwnfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbSBtYi00IHRleHQteWVsbG93LTQwMFwiPnttZXNzYWdlfTwvcD59XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDw+XHJcbi8vICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMlwiPlJlY2lwaWVudCBCYWxhbmNlOiDigrl7dGFyZ2V0QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkZyb206PC9zdHJvbmc+IHtyZXEuZnJvbUVtYWlsfTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+QW1vdW50Ojwvc3Ryb25nPiDigrl7cmVxLmFtb3VudH08L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPk1ldGhvZDo8L3N0cm9uZz4ge3JlcS5tZXRob2R9ICh7cmVxLmRldGFpbHN9KTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWNjZXB0V2l0aGRyYXcocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICApfVxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcbi8vICd1c2UgY2xpZW50JztcclxuXHJcbi8vIGltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG4vLyBpbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIGRvYyxcclxuLy8gICBnZXREb2MsXHJcbi8vICAgdXBkYXRlRG9jLFxyXG4vLyAgIHNlcnZlclRpbWVzdGFtcCxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbY3VycmVudFVzZXIsIHNldEN1cnJlbnRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50QmFsYW5jZSwgc2V0Q3VycmVudEJhbGFuY2VdID0gdXNlU3RhdGUoMCk7XHJcblxyXG4vLyAgIGNvbnN0IFt0YXJnZXRFbWFpbCwgc2V0VGFyZ2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRVaWQsIHNldFRhcmdldFVpZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldEJhbGFuY2UsIHNldFRhcmdldEJhbGFuY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2Ftb3VudFRvQWRkLCBzZXRBbW91bnRUb0FkZF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW21lc3NhZ2UsIHNldE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbi8vICAgY29uc3QgW3dpdGhkcmF3UmVxdWVzdHMsIHNldFdpdGhkcmF3UmVxdWVzdHNdID0gdXNlU3RhdGUoW10pO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgYXN5bmMgKHVzZXIpID0+IHtcclxuLy8gICAgICAgc2V0Q3VycmVudFVzZXIodXNlcik7XHJcbi8vICAgICAgIGlmICh1c2VyKSB7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbi8vICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzbmFwLmV4aXN0cygpID8gc25hcC5kYXRhKCkgOiB7fTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHVzZXJEYXRhLnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRDb2wgPSB1c2VyUm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFJlZiA9IGRvYyhkYiwgd2FsbGV0Q29sLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0U25hcCA9IGF3YWl0IGdldERvYyh3YWxsZXRSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IGJhbGFuY2UgPSB3YWxsZXRTbmFwLmV4aXN0cygpID8gd2FsbGV0U25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgICBzZXRDdXJyZW50QmFsYW5jZShiYWxhbmNlKTtcclxuXHJcbi8vICAgICAgICAgbG9hZFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCwgdXNlclJvbGUpID0+IHtcclxuLy8gICAgIGNvbnN0IGZpZWxkID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnZnJvbVN1YkFkbWluSWQnIDogJ2Zyb21Vc2VyU3ViQWRtaW5JZCc7XHJcbi8vICAgICBjb25zdCBxID0gcXVlcnkoY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSwgd2hlcmUoZmllbGQsICc9PScsIHVpZCkpO1xyXG4vLyAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgICBjb25zdCByZXN1bHRzID0gc25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuLy8gICAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuLy8gICAgIHNldE1lc3NhZ2UoJycpO1xyXG4vLyAgICAgc2V0VGFyZ2V0VWlkKCcnKTtcclxuLy8gICAgIHNldFRhcmdldEJhbGFuY2UobnVsbCk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKSk7XHJcbi8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuLy8gICAgICAgaWYgKHNuYXAuZW1wdHkpIHtcclxuLy8gICAgICAgICBzZXRNZXNzYWdlKCfinYwgV2FsbGV0IG5vdCBmb3VuZC4nKTtcclxuLy8gICAgICAgICByZXR1cm47XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHdhbGxldCA9IHNuYXAuZG9jc1swXS5kYXRhKCk7XHJcbi8vICAgICAgIGNvbnN0IHVpZCA9IHdhbGxldC51aWQ7XHJcblxyXG4vLyAgICAgICBpZiAocm9sZSA9PT0gJ3N1YmFkbWluJyAmJiB3YWxsZXQuc3ViQWRtaW5JZCAhPT0gY3VycmVudFVzZXIudWlkKSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIE5vdCB5b3VyIHVzZXIuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRVaWQodWlkKTtcclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSh3YWxsZXQuYmFsYW5jZSA/PyAwKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFdhbGxldCBmb3VuZC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBFcnJvciBzZWFyY2hpbmcuJyk7XHJcbi8vICAgICB9IGZpbmFsbHkge1xyXG4vLyAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgaWYgKCF0YXJnZXRVaWQgfHwgIWFtb3VudFRvQWRkKSByZXR1cm47XHJcblxyXG4vLyAgICAgY29uc3QgYW1vdW50ID0gcGFyc2VGbG9hdChhbW91bnRUb0FkZCk7XHJcbi8vICAgICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkge1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgSW52YWxpZCBhbW91bnQuJyk7XHJcbi8vICAgICAgIHJldHVybjtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEluc3VmZmljaWVudCBiYWxhbmNlLicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4vLyAgICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG4vLyAgICAgICBjb25zdCB0b1JlZiA9IGRvYyhkYiwgdG9XYWxsZXRDb2wsIHRhcmdldFVpZCk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuLy8gICAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuLy8gICAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdHJhbnNmZXIuJyk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGlmICghd2l0aGRyYXcgfHwgdHlwZW9mIHdpdGhkcmF3ICE9PSAnb2JqZWN0Jykge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbnZhbGlkIHdpdGhkcmF3IG9iamVjdDonLCB3aXRoZHJhdyk7XHJcbi8vICAgICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHJlcXVlc3QuJyk7XHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHsgdWlkLCBhbW91bnQsIGlkLCBmcm9tU3ViQWRtaW5JZCB9ID0gd2l0aGRyYXc7XHJcblxyXG4vLyAgICAgICBpZiAoIXVpZCB8fCB0eXBlb2YgdWlkICE9PSAnc3RyaW5nJykge1xyXG4vLyAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNaXNzaW5nIG9yIGludmFsaWQgVUlEIGluIHdpdGhkcmF3OicsIHdpdGhkcmF3KTtcclxuLy8gICAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IFVJRCBpcyBtaXNzaW5nLicpO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBpZiAoIWlkKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE1pc3NpbmcgRmlyZXN0b3JlIGRvY3VtZW50IElEIG9mIHdpdGhkcmF3IHJlcXVlc3QnKTtcclxuLy8gICAgICAgICByZXR1cm4gYWxlcnQoJ1dpdGhkcmF3IHJlcXVlc3QgSUQgbWlzc2luZy4nKTtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgY29uc3QgdXNlcldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpO1xyXG4vLyAgICAgICBjb25zdCBzdWJBZG1pbldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tU3ViQWRtaW5JZCk7XHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3UmVmID0gZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IFt1c2VyU25hcCwgc3ViQWRtaW5TbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuLy8gICAgICAgICBnZXREb2ModXNlcldhbGxldFJlZiksXHJcbi8vICAgICAgICAgZ2V0RG9jKHN1YkFkbWluV2FsbGV0UmVmKSxcclxuLy8gICAgICAgXSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB1c2VyQmFsYW5jZSA9IHVzZXJTbmFwLmV4aXN0cygpID8gdXNlclNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpPy5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgICAgaWYgKHN1YkFkbWluQmFsYW5jZSA8IGFtb3VudCkge1xyXG4vLyAgICAgICAgIHJldHVybiBhbGVydCgnU3ViYWRtaW4gaGFzIGluc3VmZmljaWVudCBiYWxhbmNlIHRvIGFwcHJvdmUgdGhpcyB3aXRoZHJhd2FsLicpO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IGlkKSk7XHJcbi8vICAgICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGZ1bmRzIGFkZGVkIHRvIHVzZXIgd2FsbGV0LicpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBoYW5kbGVBY2NlcHRXaXRoZHJhdyBlcnJvcjonLCBlcnIpO1xyXG4vLyAgICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWNjZXB0aW5nIHRoZSB3aXRoZHJhdy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuLy8gICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4vLyAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4vLyAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuLy8gICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuXHJcbi8vICAgICAgICAgey8qIOKchSBXaXRoZHJhdyBSZXF1ZXN0cyAqL31cclxuLy8gICAgICAgICB7d2l0aGRyYXdSZXF1ZXN0cy5sZW5ndGggPiAwICYmIChcclxuLy8gICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gbXQtMTAgYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNFwiPlBlbmRpbmcgV2l0aGRyYXcgUmVxdWVzdHM8L2gyPlxyXG4vLyAgICAgICAgICAgICB7d2l0aGRyYXdSZXF1ZXN0cy5tYXAoKHJlcSkgPT4gKFxyXG4vLyAgICAgICAgICAgICAgIDxkaXYga2V5PXtyZXEuaWR9IGNsYXNzTmFtZT1cImJnLWdyYXktNzAwIHAtMyBtYi0zIHJvdW5kZWRcIj5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+VXNlcjo8L3N0cm9uZz4ge3JlcS5lbWFpbH08L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkFtb3VudDo8L3N0cm9uZz4g4oK5e3JlcS5hbW91bnR9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5NZXRob2Q6PC9zdHJvbmc+IHtyZXEubWV0aG9kfSAoe3JlcS5wYXltZW50SWR9KTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+UmVxdWVzdGVkOjwvc3Ryb25nPiB7cmVxLmNyZWF0ZWRBdD8uc2Vjb25kcyA/IG5ldyBEYXRlKHJlcS5jcmVhdGVkQXQuc2Vjb25kcyAqIDEwMDApLnRvTG9jYWxlU3RyaW5nKCkgOiAnTi9BJ308L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweS0xIHB4LTQgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY2VwdFdpdGhkcmF3KHJlcSl9XHJcbi8vICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgIEFjY2VwdFxyXG4vLyAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgKX1cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyAgIHVwZGF0ZURvYyxcclxuLy8gICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbi8vICAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuLy8gICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4vLyAgIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIGNvbnN0IFt3aXRoZHJhd1JlcXVlc3RzLCBzZXRXaXRoZHJhd1JlcXVlc3RzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gc25hcC5leGlzdHMoKSA/IHNuYXAuZGF0YSgpIDoge307XHJcbi8vICAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuLy8gICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuLy8gICAgICAgICBjb25zdCBiYWxhbmNlID0gd2FsbGV0U25hcC5leGlzdHMoKSA/IHdhbGxldFNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UoYmFsYW5jZSk7XHJcblxyXG4vLyAgICAgICAgIGxvYWRXaXRoZHJhd1JlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbi8vICAgfSwgW10pO1xyXG5cclxuLy8gICBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHVzZXJSb2xlKSA9PiB7XHJcbi8vICAgICBjb25zdCBmaWVsZCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2Zyb21TdWJBZG1pbklkJyA6ICdmcm9tVXNlclN1YkFkbWluSWQnO1xyXG4vLyAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKGZpZWxkLCAnPT0nLCB1aWQpKTtcclxuLy8gICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgICAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbi8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKHJlc3VsdHMpO1xyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2FsbGV0cycpLCB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbCkpO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBOb3QgeW91ciB1c2VyLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEludmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKGFtb3VudCA+IGN1cnJlbnRCYWxhbmNlKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IGZyb21XYWxsZXRDb2wgPSByb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgIGNvbnN0IHRvV2FsbGV0Q29sID0gJ3N1YndhbGxldHMnO1xyXG5cclxuLy8gICAgICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCB0YXJnZXRVaWQpO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHRvUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IGN1cnJlbnRCYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHRyYW5zZmVyLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBpZiAoIXdpdGhkcmF3IHx8IHR5cGVvZiB3aXRoZHJhdyAhPT0gJ29iamVjdCcpIHJldHVybiBhbGVydCgnSW52YWxpZCByZXF1ZXN0LicpO1xyXG5cclxuLy8gICAgICAgY29uc3QgeyB1aWQsIGFtb3VudCwgaWQsIGZyb21TdWJBZG1pbklkIH0gPSB3aXRoZHJhdztcclxuLy8gICAgICAgaWYgKCF1aWQgfHwgIWlkIHx8ICFmcm9tU3ViQWRtaW5JZCkgcmV0dXJuIGFsZXJ0KCdNaXNzaW5nIGRhdGEgaW4gcmVxdWVzdC4nKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHVzZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdWlkKTtcclxuLy8gICAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd1JlZiA9IGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCk7XHJcblxyXG4vLyAgICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgICAgZ2V0RG9jKHVzZXJXYWxsZXRSZWYpLFxyXG4vLyAgICAgICAgIGdldERvYyhzdWJBZG1pbldhbGxldFJlZiksXHJcbi8vICAgICAgIF0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgdXNlckJhbGFuY2UgPSB1c2VyU25hcC5leGlzdHMoKSA/IHVzZXJTbmFwLmRhdGEoKT8uYmFsYW5jZSA/PyAwIDogMDtcclxuLy8gICAgICAgY29uc3Qgc3ViQWRtaW5CYWxhbmNlID0gc3ViQWRtaW5TbmFwLmV4aXN0cygpID8gc3ViQWRtaW5TbmFwLmRhdGEoKT8uYmFsYW5jZSA/PyAwIDogMDtcclxuXHJcbi8vICAgICAgIGlmIChzdWJBZG1pbkJhbGFuY2UgPCBhbW91bnQpIHJldHVybiBhbGVydCgnSW5zdWZmaWNpZW50IHN1YmFkbWluIGJhbGFuY2UuJyk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2ModXNlcldhbGxldFJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogc3ViQWRtaW5CYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHdpdGhkcmF3UmVmLCB7XHJcbi8vICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHIpID0+IHIuaWQgIT09IGlkKSk7XHJcbi8vICAgICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcign4p2MIFdpdGhkcmF3IGFwcHJvdmFsIGVycm9yOicsIGVycik7XHJcbi8vICAgICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4nKTtcclxuLy8gICAgIH1cclxuLy8gICB9O1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuLy8gICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4vLyAgICAgICAgICAgPC9oMT5cclxuXHJcbi8vICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4vLyAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbi8vICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbi8vICAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuLy8gICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAvPlxyXG5cclxuLy8gICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4vLyAgICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuLy8gICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4vLyAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuLy8gICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuLy8gICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuLy8gICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4vLyAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4vLyAgICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbi8vICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbi8vICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuLy8gICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbi8vICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbi8vICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuXHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXI6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlRpbWU6PC9zdHJvbmc+IHtyZXEuY3JlYXRlZEF0Py5zZWNvbmRzID8gbmV3IERhdGUocmVxLmNyZWF0ZWRBdC5zZWNvbmRzICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKSA6ICdOL0EnfTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxidXR0b25cclxuLy8gICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWNjZXB0V2l0aGRyYXcocmVxKX1cclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICApfVxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gICB1cGRhdGVEb2MsXHJcbi8vICAgc2VydmVyVGltZXN0YW1wLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuLy8gaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRCYWxhbmNlLCBzZXRDdXJyZW50QmFsYW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuXHJcbi8vICAgY29uc3QgW3RhcmdldEVtYWlsLCBzZXRUYXJnZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW3RhcmdldFVpZCwgc2V0VGFyZ2V0VWlkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbdGFyZ2V0QmFsYW5jZSwgc2V0VGFyZ2V0QmFsYW5jZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbYW1vdW50VG9BZGQsIHNldEFtb3VudFRvQWRkXSA9IHVzZVN0YXRlKCcnKTtcclxuLy8gICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuLy8gICBjb25zdCBbd2l0aGRyYXdSZXF1ZXN0cywgc2V0V2l0aGRyYXdSZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNuYXAuZXhpc3RzKCkgPyBzbmFwLmRhdGEoKSA6IHt9O1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlckRhdGEucm9sZSB8fCAndXNlcic7XHJcbi8vICAgICAgICAgc2V0Um9sZSh1c2VyUm9sZSk7XHJcblxyXG4vLyAgICAgICAgIGNvbnN0IHdhbGxldENvbCA9IHVzZXJSb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgICAgY29uc3Qgd2FsbGV0UmVmID0gZG9jKGRiLCB3YWxsZXRDb2wsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCB3YWxsZXRTbmFwID0gYXdhaXQgZ2V0RG9jKHdhbGxldFJlZik7XHJcbi8vICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHdhbGxldFNuYXAuZXhpc3RzKCkgPyB3YWxsZXRTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgICAgICAgIHNldEN1cnJlbnRCYWxhbmNlKGJhbGFuY2UpO1xyXG5cclxuLy8gICAgICAgICBsb2FkV2l0aGRyYXdSZXF1ZXN0cyh1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgLy8gbG9hZFdpdGhkcmF3UmVxdWVzdHModXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIC8vIGNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCkgPT4ge1xyXG4vLyAgIC8vICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKCdmcm9tU3ViQWRtaW5JZCcsICc9PScsIHVpZCkpO1xyXG4vLyAgIC8vICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbi8vICAgLy8gICBjb25zdCByZXN1bHRzID0gc25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuLy8gICAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vICAgLy8gfTtcclxuLy8gICBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHJvbGUpID0+IHtcclxuLy8gICBsZXQgcTtcclxuXHJcbi8vICAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gICAgIC8vIEFkbWluIHNlZXMgd2l0aGRyYXdzIHJlcXVlc3RlZCBieSBzdWJhZG1pbnNcclxuLy8gICAgIHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLCB3aGVyZSgnZnJvbVN1YkFkbWluSWQnLCAnPT0nLCB1aWQpKTtcclxuLy8gICB9IGVsc2UgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuLy8gICAgIC8vIFN1YmFkbWluIHNlZXMgd2l0aGRyYXdzIHJlcXVlc3RlZCBieSB0aGVpciB1c2Vyc1xyXG4vLyAgICAgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpKTtcclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgcmV0dXJuOyAvLyBEbyBub3RoaW5nIGZvciBub3JtYWwgdXNlcnNcclxuLy8gICB9XHJcblxyXG4vLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vIH07XHJcblxyXG5cclxuLy8gLy8gY29uc3QgbG9hZFdpdGhkcmF3UmVxdWVzdHMgPSBhc3luYyAodWlkLCB1c2VyUm9sZSkgPT4ge1xyXG4vLyAvLyAgIGxldCBxO1xyXG5cclxuLy8gLy8gICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gLy8gICAgIC8vIEFkbWluIHNob3VsZCBzZWUgd2l0aGRyYXdzIG1hZGUgYnkgc3ViYWRtaW5zXHJcbi8vIC8vICAgICBxID0gcXVlcnkoXHJcbi8vIC8vICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdmcm9tU3ViQWRtaW5JZCcsICc9PScsIHVpZCksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbi8vIC8vICAgICApO1xyXG4vLyAvLyAgIH0gZWxzZSBpZiAodXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuLy8gLy8gICAgIC8vIFN1YmFkbWluIHNob3VsZCBzZWUgd2l0aGRyYXdzIG1hZGUgYnkgdGhlaXIgdXNlcnNcclxuLy8gLy8gICAgIHEgPSBxdWVyeShcclxuLy8gLy8gICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gLy8gICAgICAgd2hlcmUoJ2Zyb21Vc2VyU3ViQWRtaW5JZCcsICc9PScsIHVpZCksXHJcbi8vIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbi8vIC8vICAgICApO1xyXG4vLyAvLyAgIH0gZWxzZSB7XHJcbi8vIC8vICAgICByZXR1cm47IC8vIE5vIGFjY2VzcyBmb3Igb3RoZXIgcm9sZXNcclxuLy8gLy8gICB9XHJcblxyXG4vLyAvLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4vLyAvLyAgIGNvbnN0IHJlc3VsdHMgPSBzbmFwLmRvY3MubWFwKChkb2MpID0+ICh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpO1xyXG4vLyAvLyAgIHNldFdpdGhkcmF3UmVxdWVzdHMocmVzdWx0cyk7XHJcbi8vIC8vIH07XHJcblxyXG4vLyAgIGNvbnN0IGhhbmRsZVNlYXJjaCA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICBzZXRNZXNzYWdlKCcnKTtcclxuLy8gICAgIHNldFRhcmdldFVpZCgnJyk7XHJcbi8vICAgICBzZXRUYXJnZXRCYWxhbmNlKG51bGwpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHEgPSBxdWVyeShjb2xsZWN0aW9uKGRiLCAnc3Vid2FsbGV0cycpLCB3aGVyZSgnZW1haWwnLCAnPT0nLCB0YXJnZXRFbWFpbCkpO1xyXG4vLyAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcclxuXHJcbi8vICAgICAgIGlmIChzbmFwLmVtcHR5KSB7XHJcbi8vICAgICAgICAgc2V0TWVzc2FnZSgn4p2MIFdhbGxldCBub3QgZm91bmQuJyk7XHJcbi8vICAgICAgICAgcmV0dXJuO1xyXG4vLyAgICAgICB9XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXQgPSBzbmFwLmRvY3NbMF0uZGF0YSgpO1xyXG4vLyAgICAgICBjb25zdCB1aWQgPSB3YWxsZXQudWlkO1xyXG5cclxuLy8gICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4vLyAgICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBOb3QgeW91ciB1c2VyLicpO1xyXG4vLyAgICAgICAgIHJldHVybjtcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbi8vICAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4vLyAgICAgfSBmaW5hbGx5IHtcclxuLy8gICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICB9XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuLy8gICAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4vLyAgICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4p2MIEludmFsaWQgYW1vdW50LicpO1xyXG4vLyAgICAgICByZXR1cm47XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgaWYgKGFtb3VudCA+IGN1cnJlbnRCYWxhbmNlKSB7XHJcbi8vICAgICAgIHNldE1lc3NhZ2UoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuLy8gICAgICAgcmV0dXJuO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IGZyb21XYWxsZXRDb2wgPSByb2xlID09PSAnYWRtaW4nID8gJ2FkbWlud2FsbGV0cycgOiAnc3Vid2FsbGV0cyc7XHJcbi8vICAgICAgIGNvbnN0IHRvV2FsbGV0Q29sID0gJ3N1YndhbGxldHMnO1xyXG5cclxuLy8gICAgICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgICAgY29uc3QgdG9SZWYgPSBkb2MoZGIsIHRvV2FsbGV0Q29sLCB0YXJnZXRVaWQpO1xyXG5cclxuLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHRvUmVmLCB7XHJcbi8vICAgICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbi8vICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4vLyAgICAgICAgIGJhbGFuY2U6IGN1cnJlbnRCYWxhbmNlIC0gYW1vdW50LFxyXG4vLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgc2V0VGFyZ2V0QmFsYW5jZSgocHJldikgPT4gKHByZXYgPz8gMCkgKyBhbW91bnQpO1xyXG4vLyAgICAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbi8vICAgICAgIHNldEFtb3VudFRvQWRkKCcnKTtcclxuLy8gICAgICAgc2V0TWVzc2FnZSgn4pyFIFRyYW5zZmVyIHN1Y2Nlc3NmdWwuJyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4vLyAgICAgICBzZXRNZXNzYWdlKCfinYwgRmFpbGVkIHRvIHRyYW5zZmVyLicpO1xyXG4vLyAgICAgfVxyXG4vLyAgIH07XHJcblxyXG4vLyAgIC8vIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgLy8gICB0cnkge1xyXG4vLyAgIC8vICAgICBjb25zdCB7IHVpZCwgYW1vdW50LCBpZCwgZnJvbVN1YkFkbWluSWQgfSA9IHdpdGhkcmF3O1xyXG4vLyAgIC8vICAgICBpZiAoIXVpZCB8fCAhaWQgfHwgIWZyb21TdWJBZG1pbklkKSB7XHJcbi8vICAgLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdJbnZhbGlkIHdpdGhkcmF3IHJlcXVlc3QuJyk7XHJcbi8vICAgLy8gICAgIH1cclxuXHJcbi8vICAgLy8gICAgIGNvbnN0IHVzZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgdWlkKTtcclxuLy8gICAvLyAgICAgY29uc3Qgc3ViQWRtaW5XYWxsZXRSZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4vLyAgIC8vICAgICBjb25zdCB3aXRoZHJhd1JlZiA9IGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCk7XHJcblxyXG4vLyAgIC8vICAgICBjb25zdCBbdXNlclNuYXAsIHN1YkFkbWluU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgLy8gICAgICAgZ2V0RG9jKHVzZXJXYWxsZXRSZWYpLFxyXG4vLyAgIC8vICAgICAgIGdldERvYyhzdWJBZG1pbldhbGxldFJlZiksXHJcbi8vICAgLy8gICAgIF0pO1xyXG5cclxuLy8gICAvLyAgICAgY29uc3QgdXNlckJhbGFuY2UgPSB1c2VyU25hcC5leGlzdHMoKSA/IHVzZXJTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG4vLyAgIC8vICAgICBjb25zdCBzdWJBZG1pbkJhbGFuY2UgPSBzdWJBZG1pblNuYXAuZXhpc3RzKCkgPyBzdWJBZG1pblNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgIC8vICAgICBpZiAoc3ViQWRtaW5CYWxhbmNlIDwgYW1vdW50KSB7XHJcbi8vICAgLy8gICAgICAgcmV0dXJuIGFsZXJ0KCdTdWJhZG1pbiBoYXMgaW5zdWZmaWNpZW50IGJhbGFuY2UgdG8gYXBwcm92ZSB0aGlzIHdpdGhkcmF3YWwuJyk7XHJcbi8vICAgLy8gICAgIH1cclxuXHJcbi8vICAgLy8gICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyV2FsbGV0UmVmLCB7XHJcbi8vICAgLy8gICAgICAgYmFsYW5jZTogdXNlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5XYWxsZXRSZWYsIHtcclxuLy8gICAvLyAgICAgICBiYWxhbmNlOiBzdWJBZG1pbkJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBhd2FpdCB1cGRhdGVEb2Mod2l0aGRyYXdSZWYsIHtcclxuLy8gICAvLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAvLyAgICAgfSk7XHJcblxyXG4vLyAgIC8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigocikgPT4gci5pZCAhPT0gaWQpKTtcclxuLy8gICAvLyAgICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgYWRkZWQgdG8gdXNlciB3YWxsZXQuJyk7XHJcbi8vICAgLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAvLyAgICAgY29uc29sZS5lcnJvcign4p2MIGhhbmRsZUFjY2VwdFdpdGhkcmF3IGVycm9yOicsIGVycik7XHJcbi8vICAgLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBhY2NlcHRpbmcgdGhlIHdpdGhkcmF3LicpO1xyXG4vLyAgIC8vICAgfVxyXG4vLyAgIC8vIH07XHJcbi8vICAgY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgeyBpZCwgYW1vdW50LCBmcm9tU3ViQWRtaW5JZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8ICFmcm9tU3ViQWRtaW5JZCB8fCBzdGF0dXMgIT09ICdwZW5kaW5nJykge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ0ludmFsaWQgb3IgYWxyZWFkeSBwcm9jZXNzZWQgcmVxdWVzdC4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAvLyBHZXQgc3ViYWRtaW4gd2FsbGV0XHJcbi8vICAgICBjb25zdCBzdWJBZG1pbldhbGxldFJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tU3ViQWRtaW5JZCk7XHJcbi8vICAgICBjb25zdCBzdWJBZG1pblNuYXAgPSBhd2FpdCBnZXREb2Moc3ViQWRtaW5XYWxsZXRSZWYpO1xyXG5cclxuLy8gICAgIGlmICghc3ViQWRtaW5TbmFwLmV4aXN0cygpKSByZXR1cm4gYWxlcnQoJ1N1YmFkbWluIHdhbGxldCBub3QgZm91bmQuJyk7XHJcblxyXG4vLyAgICAgY29uc3Qgc3ViQWRtaW5CYWxhbmNlID0gc3ViQWRtaW5TbmFwLmRhdGEoKS5iYWxhbmNlID8/IDA7XHJcblxyXG4vLyAgICAgLy8g4pyFIEFkZCBhbW91bnQgYmFjayB0byBzdWJhZG1pblxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHN1YkFkbWluV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgIGJhbGFuY2U6IHN1YkFkbWluQmFsYW5jZSArIGFtb3VudCxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIC8vIOKchSBNYXJrIHRoZSByZXF1ZXN0IGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFJlbW92ZSBmcm9tIHBlbmRpbmcgbGlzdCBvbiBzY3JlZW5cclxuLy8gICAgIHNldFdpdGhkcmF3UmVxdWVzdHMoKHByZXYpID0+XHJcbi8vICAgICAgIHByZXYubWFwKChyKSA9PlxyXG4vLyAgICAgICAgIHIuaWQgPT09IGlkID8geyAuLi5yLCBzdGF0dXM6ICdhcHByb3ZlZCcgfSA6IHJcclxuLy8gICAgICAgKVxyXG4vLyAgICAgKTtcclxuXHJcbi8vICAgICBhbGVydCgn4pyFIFdpdGhkcmF3IGFwcHJvdmVkLiBBbW91bnQgY3JlZGl0ZWQgYmFjayB0byBzdWJhZG1pbi4nKTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4nKTtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXcteGwgbXgtYXV0byBiZy1ncmF5LTgwMCBwLTYgcm91bmRlZCBzaGFkb3ctbGdcIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNiB0ZXh0LWNlbnRlclwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJyA/ICdBZG1pbjogRnVuZCBTdWJhZG1pbicgOiAnU3ViYWRtaW46IEZ1bmQgVXNlcid9XHJcbi8vICAgICAgICAgICA8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC1ncmVlbi00MDBcIj5Zb3VyIEJhbGFuY2U6IOKCuXtjdXJyZW50QmFsYW5jZS50b0ZpeGVkKDIpfTwvcD5cclxuXHJcbi8vICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuLy8gICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3JvbGUgPT09ICdhZG1pbicgPyAnU3ViYWRtaW4gRW1haWwnIDogJ1VzZXIgRW1haWwnfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuLy8gICAgICAgICAgICAgdmFsdWU9e3RhcmdldEVtYWlsfVxyXG4vLyAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRhcmdldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cclxuLy8gICAgICAgICAgIC8+XHJcblxyXG4vLyAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZWFyY2h9XHJcbi8vICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4vLyAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWQgbWItNFwiXHJcbi8vICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgIHtsb2FkaW5nID8gJ1NlYXJjaGluZy4uLicgOiAnRmluZCBXYWxsZXQnfVxyXG4vLyAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4vLyAgICAgICAgICAge21lc3NhZ2UgJiYgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbSBtYi00IHRleHQteWVsbG93LTQwMFwiPnttZXNzYWdlfTwvcD59XHJcblxyXG4vLyAgICAgICAgICAge3RhcmdldFVpZCAmJiAoXHJcbi8vICAgICAgICAgICAgIDw+XHJcbi8vICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMlwiPlJlY2lwaWVudCBCYWxhbmNlOiDigrl7dGFyZ2V0QmFsYW5jZT8udG9GaXhlZCgyKX08L3A+XHJcbi8vICAgICAgICAgICAgICAgPGlucHV0XHJcbi8vICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQW1vdW50IHRvIHRyYW5zZmVyXCJcclxuLy8gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgcm91bmRlZCBiZy1ncmF5LTcwMCB0ZXh0LXdoaXRlIG1iLTRcIlxyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU9e2Ftb3VudFRvQWRkfVxyXG4vLyAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRBbW91bnRUb0FkZChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRCYWxhbmNlfVxyXG4vLyAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi02MDAgdGV4dC1ibGFjayBmb250LXNlbWlib2xkIHB5LTIgcm91bmRlZFwiXHJcbi8vICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgVHJhbnNmZXIgRnVuZHNcclxuLy8gICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICB7LyogV2l0aGRyYXcgUmVxdWVzdHMgKi99XHJcbi8vICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbi8vICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4vLyAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuLy8gICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuLy8gICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXIgRW1haWw6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuLy8gICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbi8vICAgICAgICAgICAgICAgICB7LyogPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC0yIGJnLWJsdWUtNTAwIGhvdmVyOmJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMSBweC00IHJvdW5kZWRcIlxyXG4vLyAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NlcHRXaXRoZHJhdyhyZXEpfVxyXG4vLyAgICAgICAgICAgICAgICAgPlxyXG4vLyAgICAgICAgICAgICAgICAgICBBY2NlcHRcclxuLy8gICAgICAgICAgICAgICAgIDwvYnV0dG9uPiAqL31cclxuLy8gICAgICAgICAgICAgICAgIHtyZXEuc3RhdHVzID09PSAncGVuZGluZycgPyAoXHJcbi8vICAgPGJ1dHRvblxyXG4vLyAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuLy8gICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY2VwdFdpdGhkcmF3KHJlcSl9XHJcbi8vICAgPlxyXG4vLyAgICAgQWNjZXB0XHJcbi8vICAgPC9idXR0b24+XHJcbi8vICkgOiAoXHJcbi8vICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIG10LTIgdGV4dC1ncmVlbi00MDAgZm9udC1zZW1pYm9sZFwiPlxyXG4vLyAgICAgQXBwcm92ZWRcclxuLy8gICA8L3NwYW4+XHJcbi8vICl9XHJcblxyXG4vLyAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICApKX1cclxuLy8gICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICl9XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG5cclxuXHJcbi8vIGFwcC95b3VyUGF0aC9wYWdlLmpzXHJcblxyXG4ndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IHNldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0RmlyZXN0b3JlLFxyXG4gIGNvbGxlY3Rpb24sXHJcbiAgcXVlcnksXHJcbiAgd2hlcmUsXHJcbiAgZ2V0RG9jcyxcclxuICBkb2MsXHJcbiAgZ2V0RG9jLFxyXG4gIHVwZGF0ZURvYyxcclxuICBzZXJ2ZXJUaW1lc3RhbXAsXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG5pbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoKSB7XHJcbiAgY29uc3QgYXV0aCA9IGdldEF1dGgoZmlyZWJhc2VBcHApO1xyXG4gIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbiAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbY3VycmVudEJhbGFuY2UsIHNldEN1cnJlbnRCYWxhbmNlXSA9IHVzZVN0YXRlKDApO1xyXG5cclxuICBjb25zdCBbdGFyZ2V0RW1haWwsIHNldFRhcmdldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdGFyZ2V0VWlkLCBzZXRUYXJnZXRVaWRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt0YXJnZXRCYWxhbmNlLCBzZXRUYXJnZXRCYWxhbmNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFthbW91bnRUb0FkZCwgc2V0QW1vdW50VG9BZGRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIGNvbnN0IFt3aXRoZHJhd1JlcXVlc3RzLCBzZXRXaXRoZHJhd1JlcXVlc3RzXSA9IHVzZVN0YXRlKFtdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbiAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKTtcclxuICAgICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jKHVzZXJSZWYpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gc25hcC5leGlzdHMoKSA/IHNuYXAuZGF0YSgpIDoge307XHJcbiAgICAgICAgY29uc3QgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlIHx8ICd1c2VyJztcclxuICAgICAgICBzZXRSb2xlKHVzZXJSb2xlKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2FsbGV0Q29sID0gdXNlclJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuICAgICAgICBjb25zdCB3YWxsZXRSZWYgPSBkb2MoZGIsIHdhbGxldENvbCwgdXNlci51aWQpO1xyXG4gICAgICAgIGNvbnN0IHdhbGxldFNuYXAgPSBhd2FpdCBnZXREb2Mod2FsbGV0UmVmKTtcclxuICAgICAgICBjb25zdCBiYWxhbmNlID0gd2FsbGV0U25hcC5leGlzdHMoKSA/IHdhbGxldFNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbiAgICAgICAgc2V0Q3VycmVudEJhbGFuY2UoYmFsYW5jZSk7XHJcblxyXG4gICAgICAgIGxvYWRXaXRoZHJhd1JlcXVlc3RzKHVzZXIudWlkLCB1c2VyUm9sZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBjb25zdCBsb2FkV2l0aGRyYXdSZXF1ZXN0cyA9IGFzeW5jICh1aWQsIHVzZXJSb2xlKSA9PiB7XHJcbiAgLy8gICBsZXQgcTtcclxuICAvLyAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJykge1xyXG4gIC8vICAgICBxID0gcXVlcnkoXHJcbiAgLy8gICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuICAvLyAgICAgICB3aGVyZSgnZnJvbVN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgLy8gICAgICk7XHJcbiAgLy8gICB9IGVsc2UgaWYgKHVzZXJSb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbiAgLy8gICAgIHEgPSBxdWVyeShcclxuICAvLyAgICAgICBjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gIC8vICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgLy8gICAgICk7XHJcbiAgLy8gICB9IGVsc2UgcmV0dXJuO1xyXG5cclxuICAvLyAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gIC8vICAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbiAgLy8gICBzZXRXaXRoZHJhd1JlcXVlc3RzKHJlc3VsdHMpO1xyXG4gIC8vIH07XHJcbmNvbnN0IGxvYWRXaXRoZHJhd1JlcXVlc3RzID0gYXN5bmMgKHVpZCwgdXNlclJvbGUpID0+IHtcclxuICBsZXQgcTtcclxuXHJcbiAgaWYgKHVzZXJSb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgICAvLyBTaG93IG9ubHkgc3ViYWRtaW4g4oaSIGFkbWluIHdpdGhkcmF3c1xyXG4gICAgcSA9IHF1ZXJ5KFxyXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4gICAgICB3aGVyZSgnZnJvbVVzZXJTdWJBZG1pbklkJywgJz09JywgJycpLCAvLyDwn5SNIE11c3QgYmUgZnJvbSBhIHN1YmFkbWluXHJcbiAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncGVuZGluZycpXHJcbiAgICApO1xyXG4gIH0gZWxzZSBpZiAodXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuICAgIC8vIFNob3cgdXNlciDihpIgc3ViYWRtaW4gd2l0aGRyYXdzXHJcbiAgICBxID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJ3aXRoZHJhd1JlcXVlc3RzJyksXHJcbiAgICAgIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpLFxyXG4gICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ3BlbmRpbmcnKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc25hcCA9IGF3YWl0IGdldERvY3MocSk7XHJcbiAgY29uc3QgcmVzdWx0cyA9IHNuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcbiAgc2V0V2l0aGRyYXdSZXF1ZXN0cyhyZXN1bHRzKTtcclxufTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgc2V0VGFyZ2V0VWlkKCcnKTtcclxuICAgIHNldFRhcmdldEJhbGFuY2UobnVsbCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcSA9IHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyksIHdoZXJlKCdlbWFpbCcsICc9PScsIHRhcmdldEVtYWlsKSk7XHJcbiAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG4gICAgICBpZiAoc25hcC5lbXB0eSkgcmV0dXJuIHNldE1lc3NhZ2UoJ+KdjCBXYWxsZXQgbm90IGZvdW5kLicpO1xyXG5cclxuICAgICAgY29uc3Qgd2FsbGV0ID0gc25hcC5kb2NzWzBdLmRhdGEoKTtcclxuICAgICAgY29uc3QgdWlkID0gd2FsbGV0LnVpZDtcclxuICAgICAgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicgJiYgd2FsbGV0LnN1YkFkbWluSWQgIT09IGN1cnJlbnRVc2VyLnVpZCkge1xyXG4gICAgICAgIHJldHVybiBzZXRNZXNzYWdlKCfinYwgTm90IHlvdXIgdXNlci4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VGFyZ2V0VWlkKHVpZCk7XHJcbiAgICAgIHNldFRhcmdldEJhbGFuY2Uod2FsbGV0LmJhbGFuY2UgPz8gMCk7XHJcbiAgICAgIHNldE1lc3NhZ2UoJ+KchSBXYWxsZXQgZm91bmQuJyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICBzZXRNZXNzYWdlKCfinYwgRXJyb3Igc2VhcmNoaW5nLicpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gY29uc3QgaGFuZGxlQWRkQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcclxuICAvLyAgIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuICAvLyAgIGNvbnN0IGFtb3VudCA9IHBhcnNlRmxvYXQoYW1vdW50VG9BZGQpO1xyXG4gIC8vICAgaWYgKGlzTmFOKGFtb3VudCkgfHwgYW1vdW50IDw9IDApIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW52YWxpZCBhbW91bnQuJyk7XHJcbiAgLy8gICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcblxyXG4gIC8vICAgdHJ5IHtcclxuICAvLyAgICAgY29uc3QgZnJvbVdhbGxldENvbCA9IHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJztcclxuICAvLyAgICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4gIC8vICAgICBjb25zdCBmcm9tUmVmID0gZG9jKGRiLCBmcm9tV2FsbGV0Q29sLCBjdXJyZW50VXNlci51aWQpO1xyXG4gIC8vICAgICBjb25zdCB0b1JlZiA9IGRvYyhkYiwgdG9XYWxsZXRDb2wsIHRhcmdldFVpZCk7XHJcblxyXG4gIC8vICAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuICAvLyAgICAgICBiYWxhbmNlOiAodGFyZ2V0QmFsYW5jZSA/PyAwKSArIGFtb3VudCxcclxuICAvLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICB9KTtcclxuXHJcbiAgLy8gICAgIGF3YWl0IHVwZGF0ZURvYyhmcm9tUmVmLCB7XHJcbiAgLy8gICAgICAgYmFsYW5jZTogY3VycmVudEJhbGFuY2UgLSBhbW91bnQsXHJcbiAgLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbiAgLy8gICAgIHNldEN1cnJlbnRCYWxhbmNlKChwcmV2KSA9PiBwcmV2IC0gYW1vdW50KTtcclxuICAvLyAgICAgc2V0QW1vdW50VG9BZGQoJycpO1xyXG4gIC8vICAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bC4nKTtcclxuICAvLyAgIH0gY2F0Y2ggKGVycikge1xyXG4gIC8vICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgLy8gICAgIHNldE1lc3NhZ2UoJ+KdjCBGYWlsZWQgdG8gdHJhbnNmZXIuJyk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfTtcclxuXHJcbiAgLy8gY29uc3QgaGFuZGxlQWNjZXB0V2l0aGRyYXcgPSBhc3luYyAod2l0aGRyYXcpID0+IHtcclxuICAvLyAgIHRyeSB7XHJcbiAgLy8gICAgIGNvbnN0IHsgaWQsIGFtb3VudCwgZnJvbVN1YkFkbWluSWQsIGZyb21Vc2VyU3ViQWRtaW5JZCwgdWlkLCBzdGF0dXMgfSA9IHdpdGhkcmF3O1xyXG4gIC8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSByZXR1cm4gYWxlcnQoJ0ludmFsaWQgcmVxdWVzdC4nKTtcclxuXHJcbiAgLy8gICAgIGlmIChyb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgLy8gICAgICAgY29uc3Qgc3ViQWRtaW5SZWYgPSBkb2MoZGIsICdzdWJ3YWxsZXRzJywgZnJvbVN1YkFkbWluSWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBnZXREb2Moc3ViQWRtaW5SZWYpO1xyXG4gIC8vICAgICAgIGNvbnN0IGJhbCA9IHNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuICAvLyAgICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViQWRtaW5SZWYsIHtcclxuICAvLyAgICAgICAgIGJhbGFuY2U6IGJhbCArIGFtb3VudCxcclxuICAvLyAgICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgLy8gICAgICAgfSk7XHJcbiAgLy8gICAgIH1cclxuXHJcbiAgLy8gICAgIGlmIChyb2xlID09PSAnc3ViYWRtaW4nKSB7XHJcbiAgLy8gICAgICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCB1aWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IHN1YlJlZiA9IGRvYyhkYiwgJ3N1YndhbGxldHMnLCBmcm9tVXNlclN1YkFkbWluSWQpO1xyXG4gIC8vICAgICAgIGNvbnN0IFt1c2VyU25hcCwgc3ViU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbZ2V0RG9jKHVzZXJSZWYpLCBnZXREb2Moc3ViUmVmKV0pO1xyXG4gIC8vICAgICAgIGNvbnN0IHVzZXJCYWwgPSB1c2VyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwO1xyXG4gIC8vICAgICAgIGNvbnN0IHN1YkJhbCA9IHN1YlNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMDtcclxuICAvLyAgICAgICBpZiAoc3ViQmFsIDwgYW1vdW50KSByZXR1cm4gYWxlcnQoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZS4nKTtcclxuXHJcbiAgLy8gICAgICAgYXdhaXQgdXBkYXRlRG9jKHVzZXJSZWYsIHtcclxuICAvLyAgICAgICAgIGJhbGFuY2U6IHVzZXJCYWwgKyBhbW91bnQsXHJcbiAgLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICAgIH0pO1xyXG5cclxuICAvLyAgICAgICBhd2FpdCB1cGRhdGVEb2Moc3ViUmVmLCB7XHJcbiAgLy8gICAgICAgICBiYWxhbmNlOiBzdWJCYWwgLSBhbW91bnQsXHJcbiAgLy8gICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gIC8vICAgICAgIH0pO1xyXG4gIC8vICAgICB9XHJcblxyXG4gIC8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4gIC8vICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcclxuICAvLyAgICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAvLyAgICAgfSk7XHJcblxyXG4gIC8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PiBwcmV2Lm1hcCgocikgPT4gci5pZCA9PT0gaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogcikpO1xyXG4gIC8vICAgICBhbGVydCgn4pyFIFdpdGhkcmF3IGFwcHJvdmVkLicpO1xyXG4gIC8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuICAvLyAgICAgYWxlcnQoJ1NvbWV0aGluZyB3ZW50IHdyb25nLicpO1xyXG4gIC8vICAgfVxyXG4gIC8vIH07XHJcbi8vIGNvbnN0IGhhbmRsZUFjY2VwdFdpdGhkcmF3ID0gYXN5bmMgKHdpdGhkcmF3KSA9PiB7XHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IHsgaWQsIGFtb3VudCwgZnJvbVN1YkFkbWluSWQsIGZyb21Vc2VyU3ViQWRtaW5JZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIERldGVybWluZSBpZiBhZG1pbiBpcyBhY2NlcHRpbmcgYSBzdWJhZG1pbidzIHJlcXVlc3RcclxuLy8gICAgIGNvbnN0IGlzQWRtaW4gPSByb2xlID09PSAnYWRtaW4nICYmIGZyb21TdWJBZG1pbklkICYmICFmcm9tVXNlclN1YkFkbWluSWQ7XHJcblxyXG4vLyAgICAgY29uc3QgcGF5ZXJXYWxsZXRSZWYgPSBkb2MoZGIsIGlzQWRtaW4gPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJywgY3VycmVudFVzZXIudWlkKTtcclxuLy8gICAgIGNvbnN0IHJlY2VpdmVyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHdpdGhkcmF3LnVpZCk7IC8vIEFsd2F5cyBhZGQgdG8gcmVxdWVzdGVyIHdhbGxldFxyXG5cclxuLy8gICAgIGNvbnN0IFtwYXllclNuYXAsIHJlY2VpdmVyU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgIGdldERvYyhwYXllcldhbGxldFJlZiksXHJcbi8vICAgICAgIGdldERvYyhyZWNlaXZlcldhbGxldFJlZiksXHJcbi8vICAgICBdKTtcclxuXHJcbi8vICAgICBjb25zdCBwYXllckJhbGFuY2UgPSBwYXllclNuYXAuZXhpc3RzKCkgPyBwYXllclNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcbi8vICAgICBjb25zdCByZWNlaXZlckJhbGFuY2UgPSByZWNlaXZlclNuYXAuZXhpc3RzKCkgPyByZWNlaXZlclNuYXAuZGF0YSgpLmJhbGFuY2UgPz8gMCA6IDA7XHJcblxyXG4vLyAgICAgaWYgKHBheWVyQmFsYW5jZSA8IGFtb3VudCkge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ+KdjCBJbnN1ZmZpY2llbnQgYmFsYW5jZSB0byBhcHByb3ZlLicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIC8vIFRyYW5zZmVyIGFtb3VudFxyXG4vLyAgICAgYXdhaXQgdXBkYXRlRG9jKHJlY2VpdmVyV2FsbGV0UmVmLCB7XHJcbi8vICAgICAgIGJhbGFuY2U6IHJlY2VpdmVyQmFsYW5jZSArIGFtb3VudCxcclxuLy8gICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGF3YWl0IHVwZGF0ZURvYyhwYXllcldhbGxldFJlZiwge1xyXG4vLyAgICAgICBiYWxhbmNlOiBwYXllckJhbGFuY2UgLSBhbW91bnQsXHJcbi8vICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICAvLyBNYXJrIGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXHJcbi8vICAgICBzZXRXaXRoZHJhd1JlcXVlc3RzKChwcmV2KSA9PlxyXG4vLyAgICAgICBwcmV2Lm1hcCgocikgPT5cclxuLy8gICAgICAgICByLmlkID09PSBpZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByXHJcbi8vICAgICAgIClcclxuLy8gICAgICk7XHJcblxyXG4vLyAgICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgdHJhbnNmZXJyZWQuJyk7XHJcbi8vICAgfSBjYXRjaCAoZXJyKSB7XHJcbi8vICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXBwcm92aW5nIHdpdGhkcmF3OicsIGVycik7XHJcbi8vICAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuJyk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5jb25zdCBoYW5kbGVBZGRCYWxhbmNlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghdGFyZ2V0VWlkIHx8ICFhbW91bnRUb0FkZCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBhbW91bnQgPSBwYXJzZUZsb2F0KGFtb3VudFRvQWRkKTtcclxuICBpZiAoaXNOYU4oYW1vdW50KSB8fCBhbW91bnQgPD0gMCkgcmV0dXJuIHNldE1lc3NhZ2UoJ+KdjCBJbnZhbGlkIGFtb3VudC4nKTtcclxuICBpZiAoYW1vdW50ID4gY3VycmVudEJhbGFuY2UpIHJldHVybiBzZXRNZXNzYWdlKCfinYwgSW5zdWZmaWNpZW50IGJhbGFuY2UuJyk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmcm9tV2FsbGV0Q29sID0gcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbndhbGxldHMnIDogJ3N1YndhbGxldHMnO1xyXG4gICAgY29uc3QgdG9XYWxsZXRDb2wgPSAnc3Vid2FsbGV0cyc7XHJcblxyXG4gICAgY29uc3QgZnJvbVJlZiA9IGRvYyhkYiwgZnJvbVdhbGxldENvbCwgY3VycmVudFVzZXIudWlkKTtcclxuICAgIGNvbnN0IHRvUmVmID0gZG9jKGRiLCB0b1dhbGxldENvbCwgdGFyZ2V0VWlkKTtcclxuXHJcbiAgICAvLyDinIUgMS4gVXBkYXRlIHJlY2lwaWVudCBiYWxhbmNlXHJcbiAgICBhd2FpdCB1cGRhdGVEb2ModG9SZWYsIHtcclxuICAgICAgYmFsYW5jZTogKHRhcmdldEJhbGFuY2UgPz8gMCkgKyBhbW91bnQsXHJcbiAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDinIUgMi4gVXBkYXRlIHNlbmRlciBiYWxhbmNlXHJcbiAgICBhd2FpdCB1cGRhdGVEb2MoZnJvbVJlZiwge1xyXG4gICAgICBiYWxhbmNlOiBjdXJyZW50QmFsYW5jZSAtIGFtb3VudCxcclxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOKchSAzLiBMb2cgdHJhbnNhY3Rpb24gaW4gc3ViZGVwb3NpdFJlcXVlc3RzXHJcbiAgICBjb25zdCBkZXBvc2l0UmVmID0gZG9jKGNvbGxlY3Rpb24oZGIsICdzdWJkZXBvc2l0UmVxdWVzdHMnKSk7IC8vIGF1dG8taWRcclxuICAgIGF3YWl0IHNldERvYyhkZXBvc2l0UmVmLCB7XHJcbiAgICAgIHVpZDogdGFyZ2V0VWlkLFxyXG4gICAgICBlbWFpbDogdGFyZ2V0RW1haWwsXHJcbiAgICAgIGFtb3VudCxcclxuICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4gICAgICBtZXRob2Q6ICdpbnRlcm5hbCB0cmFuc2ZlcicsXHJcbiAgICAgIHBheW1lbnRJZDogJycsXHJcbiAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICBmcm9tVXNlclN1YkFkbWluSWQ6IHJvbGUgPT09ICdzdWJhZG1pbicgPyBjdXJyZW50VXNlci51aWQgOiAnJyxcclxuICAgICAgZnJvbUFkbWluSWQ6IHJvbGUgPT09ICdhZG1pbicgPyBjdXJyZW50VXNlci51aWQgOiAnJyxcclxuICAgICAgdHlwZTogcm9sZSA9PT0gJ2FkbWluJyA/ICdhZG1pbi10by1zdWJhZG1pbicgOiAnc3ViYWRtaW4tdG8tdXNlcicsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDinIUgNC4gVXBkYXRlIFVJXHJcbiAgICBzZXRUYXJnZXRCYWxhbmNlKChwcmV2KSA9PiAocHJldiA/PyAwKSArIGFtb3VudCk7XHJcbiAgICBzZXRDdXJyZW50QmFsYW5jZSgocHJldikgPT4gcHJldiAtIGFtb3VudCk7XHJcbiAgICBzZXRBbW91bnRUb0FkZCgnJyk7XHJcbiAgICBzZXRNZXNzYWdlKCfinIUgVHJhbnNmZXIgc3VjY2Vzc2Z1bCBhbmQgbG9nZ2VkLicpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgc2V0TWVzc2FnZSgn4p2MIEZhaWxlZCB0byB0cmFuc2Zlci4nKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkLCBhbW91bnQsIGZyb21TdWJBZG1pbklkLCBmcm9tVXNlclN1YkFkbWluSWQsIHVpZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbiAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbiAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSB0aGUgcmVjZWl2ZXIgKHdobyBnZXRzIHRoZSBtb25leSBiYWNrKVxyXG4gICAgbGV0IHJlY2VpdmVyVWlkO1xyXG4gICAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcclxuICAgICAgLy8gQWRtaW4gaXMgYXBwcm92aW5nIHN1YmFkbWluIOKGkiBhZG1pbiByZXF1ZXN0XHJcbiAgICAgIHJlY2VpdmVyVWlkID0gZnJvbVN1YkFkbWluSWQ7XHJcbiAgICB9IGVsc2UgaWYgKHJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuICAgICAgLy8gU3ViYWRtaW4gaXMgYXBwcm92aW5nIHVzZXIg4oaSIHN1YmFkbWluIHJlcXVlc3RcclxuICAgICAgcmVjZWl2ZXJVaWQgPSBjdXJyZW50VXNlci51aWQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gYWxlcnQoJ1VuYXV0aG9yaXplZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcHJvdmVyJ3Mgd2FsbGV0ICh3aG8gZ2V0cyBtb25leSBhZGRlZCBiYWNrKVxyXG4gICAgY29uc3QgcmVjZWl2ZXJXYWxsZXRSZWYgPSBkb2MoZGIsIHJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW53YWxsZXRzJyA6ICdzdWJ3YWxsZXRzJywgcmVjZWl2ZXJVaWQpO1xyXG4gICAgY29uc3QgcmVjZWl2ZXJTbmFwID0gYXdhaXQgZ2V0RG9jKHJlY2VpdmVyV2FsbGV0UmVmKTtcclxuICAgIGNvbnN0IHJlY2VpdmVyQmFsYW5jZSA9IHJlY2VpdmVyU25hcC5leGlzdHMoKSA/IHJlY2VpdmVyU25hcC5kYXRhKCkuYmFsYW5jZSA/PyAwIDogMDtcclxuXHJcbiAgICAvLyBBZGQgYW1vdW50IGJhY2sgdG8gYXBwcm92ZXIgKGFkbWluIG9yIHN1YmFkbWluKVxyXG4gICAgYXdhaXQgdXBkYXRlRG9jKHJlY2VpdmVyV2FsbGV0UmVmLCB7XHJcbiAgICAgIGJhbGFuY2U6IHJlY2VpdmVyQmFsYW5jZSArIGFtb3VudCxcclxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG4gICAgXHJcblxyXG4vLyBhd2FpdCBzZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYsIHtcclxuLy8gICBiYWxhbmNlOiByZWNlaXZlckJhbGFuY2UgKyBhbW91bnQsXHJcbi8vICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuLy8gfSwgeyBtZXJnZTogdHJ1ZSB9KTtcclxuXHJcblxyXG4gICAgLy8gTWFyayB0aGUgcmVxdWVzdCBhcyBhcHByb3ZlZFxyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnLCBpZCksIHtcclxuICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxyXG4gICAgICBhcHByb3ZlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFVwZGF0ZSBVSVxyXG4gICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT5cclxuICAgICAgcHJldi5tYXAoKHIpID0+IChyLmlkID09PSBpZCA/IHsgLi4uciwgc3RhdHVzOiAnYXBwcm92ZWQnIH0gOiByKSlcclxuICAgICk7XHJcblxyXG4gICAgYWxlcnQoJ+KchSBXaXRoZHJhdyBhcHByb3ZlZCBhbmQgZnVuZHMgYWRkZWQgdG8geW91ciB3YWxsZXQuJyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgYXBwcm92aW5nIHdpdGhkcmF3OicsIGVycik7XHJcbiAgICBhbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmcuJyk7XHJcbiAgfVxyXG59O1xyXG4vLyBjb25zdCBoYW5kbGVBY2NlcHRXaXRoZHJhdyA9IGFzeW5jICh3aXRoZHJhdykgPT4ge1xyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCB7IGlkLCBhbW91bnQsIGZyb21TdWJBZG1pbklkLCBmcm9tVXNlclN1YkFkbWluSWQsIHVpZCwgc3RhdHVzIH0gPSB3aXRoZHJhdztcclxuXHJcbi8vICAgICBpZiAoIWlkIHx8IHN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XHJcbi8vICAgICAgIHJldHVybiBhbGVydCgnSW52YWxpZCBvciBhbHJlYWR5IHByb2Nlc3NlZCByZXF1ZXN0LicpO1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGxldCByZWNlaXZlcldhbGxldFJlZjtcclxuXHJcbi8vICAgICBpZiAocm9sZSA9PT0gJ2FkbWluJyAmJiBmcm9tU3ViQWRtaW5JZCAmJiAhZnJvbVVzZXJTdWJBZG1pbklkKSB7XHJcbi8vICAgICAgIC8vIEFkbWluIGlzIGFwcHJvdmluZyBzdWJhZG1pbidzIHdpdGhkcmF3IHJlcXVlc3RcclxuLy8gICAgICAgcmVjZWl2ZXJXYWxsZXRSZWYgPSBkb2MoZGIsICdhZG1pbndhbGxldHMnLCB1aWQpOyAvLyBzdWJhZG1pbuKAmXMgdWlkIGlzIHRoZSByZXF1ZXN0ZXJcclxuLy8gICAgIH0gZWxzZSBpZiAocm9sZSA9PT0gJ3N1YmFkbWluJyAmJiBmcm9tVXNlclN1YkFkbWluSWQpIHtcclxuLy8gICAgICAgLy8gU3ViYWRtaW4gaXMgYXBwcm92aW5nIHVzZXIncyB3aXRoZHJhdyByZXF1ZXN0XHJcbi8vICAgICAgIHJlY2VpdmVyV2FsbGV0UmVmID0gZG9jKGRiLCAnc3Vid2FsbGV0cycsIHVpZCk7IC8vIHVzZXLigJlzIHVpZCBpcyB0aGUgcmVxdWVzdGVyXHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICByZXR1cm4gYWxlcnQoJ1VuYXV0aG9yaXplZCBvciBtYWxmb3JtZWQgd2l0aGRyYXcgcmVxdWVzdC4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjb25zdCByZWNlaXZlclNuYXAgPSBhd2FpdCBnZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYpO1xyXG4vLyAgICAgY29uc3QgcmVjZWl2ZXJCYWxhbmNlID0gcmVjZWl2ZXJTbmFwLmV4aXN0cygpID8gcmVjZWl2ZXJTbmFwLmRhdGEoKS5iYWxhbmNlID8/IDAgOiAwO1xyXG5cclxuLy8gICAgIC8vIOKchSBDcmVkaXQgcmVjZWl2ZXIgd2FsbGV0XHJcbi8vICAgICBhd2FpdCBzZXREb2MocmVjZWl2ZXJXYWxsZXRSZWYsIHtcclxuLy8gICAgICAgYmFsYW5jZTogcmVjZWl2ZXJCYWxhbmNlICsgYW1vdW50LFxyXG4vLyAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcclxuXHJcbi8vICAgICAvLyDinIUgTWFyayByZXF1ZXN0IGFzIGFwcHJvdmVkXHJcbi8vICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnc3Vid2l0aGRyYXdSZXF1ZXN0cycsIGlkKSwge1xyXG4vLyAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXHJcbi8vICAgICAgIGFwcHJvdmVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgLy8g4pyFIFVwZGF0ZSBzdGF0ZVxyXG4vLyAgICAgc2V0V2l0aGRyYXdSZXF1ZXN0cygocHJldikgPT5cclxuLy8gICAgICAgcHJldi5tYXAoKHIpID0+XHJcbi8vICAgICAgICAgci5pZCA9PT0gaWQgPyB7IC4uLnIsIHN0YXR1czogJ2FwcHJvdmVkJyB9IDogclxyXG4vLyAgICAgICApXHJcbi8vICAgICApO1xyXG5cclxuLy8gICAgIGFsZXJ0KCfinIUgV2l0aGRyYXcgYXBwcm92ZWQgYW5kIGFtb3VudCBjcmVkaXRlZC4nKTtcclxuLy8gICB9IGNhdGNoIChlcnIpIHtcclxuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBhcHByb3Zpbmcgd2l0aGRyYXc6JywgZXJyKTtcclxuLy8gICAgIGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBhcHByb3ZpbmcuJyk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPExheW91dD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LXhsIG14LWF1dG8gYmctZ3JheS04MDAgcC02IHJvdW5kZWQgc2hhZG93LWxnXCI+XHJcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTYgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAge3JvbGUgPT09ICdhZG1pbicgPyAnQWRtaW46IEZ1bmQgU3ViYWRtaW4nIDogJ1N1YmFkbWluOiBGdW5kIFVzZXInfVxyXG4gICAgICAgICAgPC9oMT5cclxuXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi00IHRleHQtZ3JlZW4tNDAwXCI+WW91ciBCYWxhbmNlOiDigrl7Y3VycmVudEJhbGFuY2UudG9GaXhlZCgyKX08L3A+XHJcblxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtyb2xlID09PSAnYWRtaW4nID8gJ1N1YmFkbWluIEVtYWlsJyA6ICdVc2VyIEVtYWlsJ31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyByb3VuZGVkIGJnLWdyYXktNzAwIHRleHQtd2hpdGUgbWItNFwiXHJcbiAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRFbWFpbH1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VhcmNofVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17bG9hZGluZ31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIGZvbnQtc2VtaWJvbGQgcHktMiByb3VuZGVkIG1iLTRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7bG9hZGluZyA/ICdTZWFyY2hpbmcuLi4nIDogJ0ZpbmQgV2FsbGV0J31cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgIHttZXNzYWdlICYmIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gbWItNCB0ZXh0LXllbGxvdy00MDBcIj57bWVzc2FnZX08L3A+fVxyXG5cclxuICAgICAgICAgIHt0YXJnZXRVaWQgJiYgKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTJcIj5SZWNpcGllbnQgQmFsYW5jZTog4oK5e3RhcmdldEJhbGFuY2U/LnRvRml4ZWQoMil9PC9wPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFtb3VudCB0byB0cmFuc2ZlclwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIHJvdW5kZWQgYmctZ3JheS03MDAgdGV4dC13aGl0ZSBtYi00XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXthbW91bnRUb0FkZH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QW1vdW50VG9BZGQoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWRkQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmVlbi01MDAgaG92ZXI6YmctZ3JlZW4tNjAwIHRleHQtYmxhY2sgZm9udC1zZW1pYm9sZCBweS0yIHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFRyYW5zZmVyIEZ1bmRzXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIG10LTEwIGJnLWdyYXktODAwIHAtNiByb3VuZGVkIHNoYWRvdy1sZ1wiPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTRcIj5QZW5kaW5nIFdpdGhkcmF3IFJlcXVlc3RzPC9oMj5cclxuICAgICAgICAgICAge3dpdGhkcmF3UmVxdWVzdHMubWFwKChyZXEpID0+IChcclxuICAgICAgICAgICAgICA8ZGl2IGtleT17cmVxLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCBwLTMgbWItMyByb3VuZGVkXCI+XHJcbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlVzZXIgRW1haWw6PC9zdHJvbmc+IHtyZXEuZW1haWx9PC9wPlxyXG4gICAgICAgICAgICAgICAgPHA+PHN0cm9uZz5BbW91bnQ6PC9zdHJvbmc+IOKCuXtyZXEuYW1vdW50fTwvcD5cclxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+TWV0aG9kOjwvc3Ryb25nPiB7cmVxLm1ldGhvZH0gKHtyZXEucGF5bWVudElkfSk8L3A+XHJcbiAgICAgICAgICAgICAgICB7cmVxLnN0YXR1cyA9PT0gJ3BlbmRpbmcnID8gKFxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMiBiZy1ibHVlLTUwMCBob3ZlcjpiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTEgcHgtNCByb3VuZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NlcHRXaXRoZHJhdyhyZXEpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgQWNjZXB0XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIG10LTIgdGV4dC1ncmVlbi00MDAgZm9udC1zZW1pYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEFwcHJvdmVkXHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0xheW91dD5cclxuICApO1xyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJnZXRBdXRoIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwic2V0RG9jIiwiZ2V0RmlyZXN0b3JlIiwiY29sbGVjdGlvbiIsInF1ZXJ5Iiwid2hlcmUiLCJnZXREb2NzIiwiZG9jIiwiZ2V0RG9jIiwidXBkYXRlRG9jIiwic2VydmVyVGltZXN0YW1wIiwiZmlyZWJhc2VBcHAiLCJMYXlvdXQiLCJQYWdlIiwiYXV0aCIsImRiIiwiY3VycmVudFVzZXIiLCJzZXRDdXJyZW50VXNlciIsInJvbGUiLCJzZXRSb2xlIiwiY3VycmVudEJhbGFuY2UiLCJzZXRDdXJyZW50QmFsYW5jZSIsInRhcmdldEVtYWlsIiwic2V0VGFyZ2V0RW1haWwiLCJ0YXJnZXRVaWQiLCJzZXRUYXJnZXRVaWQiLCJ0YXJnZXRCYWxhbmNlIiwic2V0VGFyZ2V0QmFsYW5jZSIsImFtb3VudFRvQWRkIiwic2V0QW1vdW50VG9BZGQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwid2l0aGRyYXdSZXF1ZXN0cyIsInNldFdpdGhkcmF3UmVxdWVzdHMiLCJ1bnN1YnNjcmliZSIsInVzZXIiLCJ1c2VyUmVmIiwidWlkIiwic25hcCIsInVzZXJEYXRhIiwiZXhpc3RzIiwiZGF0YSIsInVzZXJSb2xlIiwid2FsbGV0Q29sIiwid2FsbGV0UmVmIiwid2FsbGV0U25hcCIsImJhbGFuY2UiLCJsb2FkV2l0aGRyYXdSZXF1ZXN0cyIsInEiLCJyZXN1bHRzIiwiZG9jcyIsIm1hcCIsImlkIiwiaGFuZGxlU2VhcmNoIiwiZW1wdHkiLCJ3YWxsZXQiLCJzdWJBZG1pbklkIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaGFuZGxlQWRkQmFsYW5jZSIsImFtb3VudCIsInBhcnNlRmxvYXQiLCJpc05hTiIsImZyb21XYWxsZXRDb2wiLCJ0b1dhbGxldENvbCIsImZyb21SZWYiLCJ0b1JlZiIsInVwZGF0ZWRBdCIsImRlcG9zaXRSZWYiLCJlbWFpbCIsInN0YXR1cyIsIm1ldGhvZCIsInBheW1lbnRJZCIsImNyZWF0ZWRBdCIsImFwcHJvdmVkQXQiLCJmcm9tVXNlclN1YkFkbWluSWQiLCJmcm9tQWRtaW5JZCIsInR5cGUiLCJwcmV2IiwiaGFuZGxlQWNjZXB0V2l0aGRyYXciLCJ3aXRoZHJhdyIsImZyb21TdWJBZG1pbklkIiwiYWxlcnQiLCJyZWNlaXZlclVpZCIsInJlY2VpdmVyV2FsbGV0UmVmIiwicmVjZWl2ZXJTbmFwIiwicmVjZWl2ZXJCYWxhbmNlIiwiciIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwicCIsInRvRml4ZWQiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJsZW5ndGgiLCJoMiIsInJlcSIsInN0cm9uZyIsInNwYW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/app/admin/wallet/page.js\n");

/***/ }),

/***/ "(ssr)/./src/firebase.js":
/*!*************************!*\
  !*** ./src/firebase.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(ssr)/./node_modules/firebase/app/dist/index.mjs\");\n// Firebase configuration and initialization\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAGnSKCOksJHRJo1hXgEJxAJE2XTtpLV3Y\",\n    authDomain: \"megaend-new.firebaseapp.com\",\n    projectId: \"megaend-new\",\n    storageBucket: \"megaend-new.firebasestorage.app\",\n    messagingSenderId: \"451704328595\",\n    appId: \"1:451704328595:web:2ecc5a4700d5e18daf1866\"\n};\n// Initialize Firebase (singleton pattern for Next.js hot reload)\nconst app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApp)();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvZmlyZWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw0Q0FBNEM7QUFDa0I7QUFFOUQsTUFBTUcsaUJBQWlCO0lBQ3JCQyxRQUFRQyx5Q0FBd0M7SUFDaERHLFlBQVlILDZCQUE0QztJQUN4REssV0FBV0wsYUFBMkM7SUFDdERPLGVBQWVQLGlDQUErQztJQUM5RFMsbUJBQW1CVCxjQUFvRDtJQUN2RVcsT0FBT1gsMkNBQXVDO0FBQ2hEO0FBRUEsaUVBQWlFO0FBQ2pFLE1BQU1hLE1BQU0sQ0FBQ2pCLHFEQUFPQSxHQUFHa0IsTUFBTSxHQUFHbkIsMkRBQWFBLENBQUNHLGtCQUFrQkQsb0RBQU1BO0FBRXRFLGlFQUFlZ0IsR0FBR0EsRUFBQyIsInNvdXJjZXMiOlsiRTpcXE5hZ2FsYW5kXFxnYW1saW5nXFxtZWdhZW5kLW5ld1xcc3JjXFxmaXJlYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXJlYmFzZSBjb25maWd1cmF0aW9uIGFuZCBpbml0aWFsaXphdGlvblxyXG5pbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBnZXRBcHAgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxyXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxyXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSAoc2luZ2xldG9uIHBhdHRlcm4gZm9yIE5leHQuanMgaG90IHJlbG9hZClcclxuY29uc3QgYXBwID0gIWdldEFwcHMoKS5sZW5ndGggPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcCgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBwOyAiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJnZXRBcHAiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCIsInN0b3JhZ2VCdWNrZXQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCIsImFwcElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lEIiwiYXBwIiwibGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/firebase.js\n");

/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/dynamic-access-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/server/app-render/dynamic-access-async-storage.external.js" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/dynamic-access-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/is-bot":
/*!***********************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/is-bot" ***!
  \***********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/@firebase","vendor-chunks/@grpc","vendor-chunks/protobufjs","vendor-chunks/@opentelemetry","vendor-chunks/long","vendor-chunks/@protobufjs","vendor-chunks/lodash.camelcase","vendor-chunks/idb","vendor-chunks/firebase","vendor-chunks/lucide-react"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapp%2Fadmin%2Fwallet%2Fpage&page=%2Fapp%2Fadmin%2Fwallet%2Fpage&appPaths=%2Fapp%2Fadmin%2Fwallet%2Fpage&pagePath=private-next-app-dir%2Fapp%2Fadmin%2Fwallet%2Fpage.js&appDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CNagaland%5Cgamling%5Cmegaend-new&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();