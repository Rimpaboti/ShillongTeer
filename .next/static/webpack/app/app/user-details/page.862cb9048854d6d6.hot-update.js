"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/app/user-details/page",{

/***/ "(app-pages-browser)/./src/app/app/user-details/page.js":
/*!******************************************!*\
  !*** ./src/app/app/user-details/page.js ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AdminUserWalletsPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/firebase */ \"(app-pages-browser)/./src/firebase.js\");\n/* harmony import */ var _app_Components_Layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/app/Components/Layout */ \"(app-pages-browser)/./src/app/Components/Layout/index.js\");\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import {\n//   getFirestore,\n//   collection,\n//   getDocs,\n//   query,\n//   where,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function AdminUserWalletsPage() {\n//   const db = getFirestore(firebaseApp);\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [search, setSearch] = useState('');\n//   useEffect(() => {\n//     fetchUserWalletData();\n//   }, []);\n//   const fetchUserWalletData = async () => {\n//     setLoading(true);\n//     try {\n//       const walletsSnap = await getDocs(collection(db, 'wallets'));\n//       const wallets = walletsSnap.docs.map((doc) => ({\n//         uid: doc.id,\n//         balance: doc.data().balance || 0,\n//         email: doc.data().email || '',\n//       }));\n//       const depositSnap = await getDocs(\n//         query(collection(db, 'depositRequests'), where('status', '==', 'approved'))\n//       );\n//       const withdrawSnap = await getDocs(\n//         query(collection(db, 'withdrawRequests'), where('status', '==', 'approved'))\n//       );\n//       const depositMap = {};\n//       depositSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n//         depositMap[data.uid] += data.amount || 0;\n//       });\n//       const withdrawMap = {};\n//       withdrawSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n//         withdrawMap[data.uid] += data.amount || 0;\n//       });\n//       const finalUsers = wallets.map((user) => ({\n//         ...user,\n//         totalDeposited: depositMap[user.uid] || 0,\n//         totalWithdrawn: withdrawMap[user.uid] || 0,\n//       }));\n//       setUsers(finalUsers);\n//     } catch (error) {\n//       console.error('Error fetching user wallet data:', error);\n//       alert('Error loading wallet data.');\n//     }\n//     setLoading(false);\n//   };\n//   const exportToCSV = () => {\n//     const headers = ['Email', 'Balance', 'Deposited', 'Withdrawn'];\n//     const rows = users.map(u => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n//     const csvContent = [headers, ...rows].map(r => r.join(',')).join('\\n');\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n//     const url = URL.createObjectURL(blob);\n//     const link = document.createElement('a');\n//     link.setAttribute('href', url);\n//     link.setAttribute('download', 'user_wallets.csv');\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//   };\n//   const filteredUsers = users.filter(u =>\n//     u.email.toLowerCase().includes(search.toLowerCase())\n//   );\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-5xl mx-auto\">\n//           <h1 className=\"text-3xl font-bold mb-6\">Admin: User Wallet Overview</h1>\n//           <div className=\"flex items-center gap-4 mb-6\">\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search by email...\"\n//               value={search}\n//               onChange={(e) => setSearch(e.target.value)}\n//               className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n//             />\n//             <button\n//               onClick={exportToCSV}\n//               className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n//             >\n//               Export CSV\n//             </button>\n//           </div>\n//           {loading ? (\n//             <p className=\"text-yellow-300\">Loading...</p>\n//           ) : filteredUsers.length === 0 ? (\n//             <p className=\"text-gray-400\">No users found.</p>\n//           ) : (\n//             <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n//               <table className=\"w-full text-left table-auto\">\n//                 <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n//                   <tr>\n//                     <th className=\"p-3\">Email</th>\n//                     <th className=\"p-3\">Balance</th>\n//                     <th className=\"p-3\">Deposited</th>\n//                     <th className=\"p-3\">Withdrawn</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredUsers.map((user) => (\n//                     <tr key={user.uid} className=\"border-t border-gray-700\">\n//                       <td className=\"p-3\">{user.email || 'N/A'}</td>\n//                       <td className=\"p-3\">₹{user.balance}</td>\n//                       <td className=\"p-3\">₹{user.totalDeposited}</td>\n//                       <td className=\"p-3\">₹{user.totalWithdrawn}</td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import {\n//   getFirestore,\n//   collection,\n//   getDocs,\n//   query,\n//   where,\n//   Timestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function AdminUserWalletsPage() {\n//   const db = getFirestore(firebaseApp);\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [search, setSearch] = useState('');\n//   useEffect(() => {\n//     fetchUserWalletData();\n//   }, []);\n//   const fetchUserWalletData = async () => {\n//     setLoading(true);\n//     try {\n//       const walletsSnap = await getDocs(collection(db, 'wallets'));\n//       const wallets = walletsSnap.docs.map((doc) => ({\n//         uid: doc.id,\n//         balance: doc.data().balance || 0,\n//         email: doc.data().email || '',\n//       }));\n//       const oneWeekAgo = Timestamp.fromDate(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000));\n//       const depositSnap = await getDocs(\n//         query(\n//           collection(db, 'depositRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const withdrawSnap = await getDocs(\n//         query(\n//           collection(db, 'withdrawRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const depositMap = {};\n//       depositSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n//         depositMap[data.uid] += data.amount || 0;\n//       });\n//       const withdrawMap = {};\n//       withdrawSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n//         withdrawMap[data.uid] += data.amount || 0;\n//       });\n//       const finalUsers = wallets.map((user) => ({\n//         ...user,\n//         totalDeposited: depositMap[user.uid] || 0,\n//         totalWithdrawn: withdrawMap[user.uid] || 0,\n//       }));\n//       setUsers(finalUsers);\n//     } catch (error) {\n//       console.error('Error fetching user wallet data:', error);\n//       alert('Error loading wallet data.');\n//     }\n//     setLoading(false);\n//   };\n//   const exportToCSV = () => {\n//     const headers = ['Email', 'Balance', 'Deposited (7 days)', 'Withdrawn (7 days)'];\n//     const rows = users.map(u => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n//     const csvContent = [headers, ...rows].map(r => r.join(',')).join('\\n');\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n//     const url = URL.createObjectURL(blob);\n//     const link = document.createElement('a');\n//     link.setAttribute('href', url);\n//     link.setAttribute('download', 'user_wallets.csv');\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//   };\n//   const filteredUsers = users.filter(u =>\n//     u.email.toLowerCase().includes(search.toLowerCase())\n//   );\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-5xl mx-auto\">\n//           <h1 className=\"text-3xl font-bold mb-6\">Admin: User Wallet Overview</h1>\n//           <div className=\"flex items-center gap-4 mb-6\">\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search by email...\"\n//               value={search}\n//               onChange={(e) => setSearch(e.target.value)}\n//               className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n//             />\n//             <button\n//               onClick={exportToCSV}\n//               className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n//             >\n//               Export CSV\n//             </button>\n//           </div>\n//           {loading ? (\n//             <p className=\"text-yellow-300\">Loading...</p>\n//           ) : filteredUsers.length === 0 ? (\n//             <p className=\"text-gray-400\">No users found.</p>\n//           ) : (\n//             <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n//               <table className=\"w-full text-left table-auto\">\n//                 <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n//                   <tr>\n//                     <th className=\"p-3\">Email</th>\n//                     <th className=\"p-3\">Balance</th>\n//                     <th className=\"p-3\">Deposited (7d)</th>\n//                     <th className=\"p-3\">Withdrawn (7d)</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredUsers.map((user) => (\n//                     <tr key={user.uid} className=\"border-t border-gray-700\">\n//                       <td className=\"p-3\">{user.email || 'N/A'}</td>\n//                       <td className=\"p-3\">₹{user.balance}</td>\n//                       <td className=\"p-3\">₹{user.totalDeposited}</td>\n//                       <td className=\"p-3\">₹{user.totalWithdrawn}</td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import {\n//   getFirestore,\n//   collection,\n//   getDocs,\n//   query,\n//   where,\n//   Timestamp,\n// } from 'firebase/firestore';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function AdminUserWalletsPage() {\n//   const db = getFirestore(firebaseApp);\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [search, setSearch] = useState('');\n//   const [selectedUser, setSelectedUser] = useState(null);\n//   const [history, setHistory] = useState({ deposits: [], withdrawals: [] });\n//   const [historyLoading, setHistoryLoading] = useState(false);\n//   useEffect(() => {\n//     fetchUserWalletData();\n//   }, []);\n//   const fetchUserWalletData = async () => {\n//     setLoading(true);\n//     try {\n//       const walletsSnap = await getDocs(collection(db, 'wallets'));\n//       const wallets = walletsSnap.docs.map((doc) => ({\n//         uid: doc.id,\n//         balance: doc.data().balance || 0,\n//         email: doc.data().email || '',\n//       }));\n//       const oneWeekAgo = Timestamp.fromDate(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000));\n//       const depositSnap = await getDocs(\n//         query(\n//           collection(db, 'depositRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const withdrawSnap = await getDocs(\n//         query(\n//           collection(db, 'withdrawRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const depositMap = {};\n//       depositSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n//         depositMap[data.uid] += data.amount || 0;\n//       });\n//       const withdrawMap = {};\n//       withdrawSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n//         withdrawMap[data.uid] += data.amount || 0;\n//       });\n//       const finalUsers = wallets.map((user) => ({\n//         ...user,\n//         totalDeposited: depositMap[user.uid] || 0,\n//         totalWithdrawn: withdrawMap[user.uid] || 0,\n//       }));\n//       setUsers(finalUsers);\n//     } catch (error) {\n//       console.error('Error fetching user wallet data:', error);\n//       alert('Error loading wallet data.');\n//     }\n//     setLoading(false);\n//   };\n//   const fetchUserHistory = async (uid) => {\n//     setHistoryLoading(true);\n//     try {\n//       const depositsSnap = await getDocs(\n//         query(collection(db, 'depositRequests'), where('uid', '==', uid))\n//       );\n//       const withdrawalsSnap = await getDocs(\n//         query(collection(db, 'withdrawRequests'), where('uid', '==', uid))\n//       );\n//       const deposits = depositsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//       const withdrawals = withdrawalsSnap.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\n//       setHistory({ deposits, withdrawals });\n//     } catch (error) {\n//       console.error('Error loading history:', error);\n//     }\n//     setHistoryLoading(false);\n//   };\n//   const exportToCSV = () => {\n//     const headers = ['Email', 'Balance', 'Deposited (7 days)', 'Withdrawn (7 days)'];\n//     const rows = users.map(u => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n//     const csvContent = [headers, ...rows].map(r => r.join(',')).join('\\n');\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n//     const url = URL.createObjectURL(blob);\n//     const link = document.createElement('a');\n//     link.setAttribute('href', url);\n//     link.setAttribute('download', 'user_wallets.csv');\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//   };\n//   const filteredUsers = users.filter(u =>\n//     u.email.toLowerCase().includes(search.toLowerCase())\n//   );\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-6xl mx-auto\">\n//           <h1 className=\"text-3xl font-bold mb-6\">Admin: User Wallet Overview</h1>\n//           <div className=\"flex items-center gap-4 mb-6\">\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search by email...\"\n//               value={search}\n//               onChange={(e) => setSearch(e.target.value)}\n//               className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n//             />\n//             <button\n//               onClick={exportToCSV}\n//               className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n//             >\n//               Export CSV\n//             </button>\n//           </div>\n//           {loading ? (\n//             <p className=\"text-yellow-300\">Loading...</p>\n//           ) : filteredUsers.length === 0 ? (\n//             <p className=\"text-gray-400\">No users found.</p>\n//           ) : (\n//             <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n//               <table className=\"w-full text-left table-auto\">\n//                 <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n//                   <tr>\n//                     <th className=\"p-3\">Email</th>\n//                     <th className=\"p-3\">Balance</th>\n//                     <th className=\"p-3\">Deposited (7d)</th>\n//                     <th className=\"p-3\">Withdrawn (7d)</th>\n//                     <th className=\"p-3\">History</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredUsers.map((user) => (\n//                     <tr key={user.uid} className=\"border-t border-gray-700\">\n//                       <td className=\"p-3\">{user.email || 'N/A'}</td>\n//                       <td className=\"p-3\">₹{user.balance}</td>\n//                       <td className=\"p-3\">₹{user.totalDeposited}</td>\n//                       <td className=\"p-3\">₹{user.totalWithdrawn}</td>\n//                       <td className=\"p-3\">\n//                         <button\n//                           className=\"text-blue-400 underline\"\n//                           onClick={() => {\n//                             setSelectedUser(user);\n//                             fetchUserHistory(user.uid);\n//                           }}\n//                         >\n//                           View\n//                         </button>\n//                       </td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//             </div>\n//           )}\n//           {/* Transaction history modal */}\n//           {selectedUser && (\n//             <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n//               <div className=\"bg-gray-900 p-6 rounded-lg w-full max-w-3xl relative\">\n//                 <h2 className=\"text-2xl font-bold mb-4\">\n//                   {selectedUser.email} - Transaction History\n//                 </h2>\n//                 <button\n//                   className=\"absolute top-3 right-3 text-gray-400 hover:text-white\"\n//                   onClick={() => setSelectedUser(null)}\n//                 >\n//                   ✕\n//                 </button>\n//                 {historyLoading ? (\n//                   <p className=\"text-yellow-300\">Loading history...</p>\n//                 ) : (\n//                   <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n//                     <div>\n//                       <h3 className=\"text-lg font-semibold mb-2\">Deposits</h3>\n//                       {history.deposits.length === 0 ? (\n//                         <p className=\"text-gray-400\">No deposit history.</p>\n//                       ) : (\n//                         <ul className=\"space-y-2 text-sm\">\n//                           {history.deposits.map((d) => (\n//                             <li key={d.id} className=\"bg-gray-800 p-2 rounded\">\n//                               ₹{d.amount} - {d.status} - {d.createdAt?.toDate().toLocaleString()}\n//                             </li>\n//                           ))}\n//                         </ul>\n//                       )}\n//                     </div>\n//                     <div>\n//                       <h3 className=\"text-lg font-semibold mb-2\">Withdrawals</h3>\n//                       {history.withdrawals.length === 0 ? (\n//                         <p className=\"text-gray-400\">No withdrawal history.</p>\n//                       ) : (\n//                         <ul className=\"space-y-2 text-sm\">\n//                           {history.withdrawals.map((w) => (\n//                             <li key={w.id} className=\"bg-gray-800 p-2 rounded\">\n//                               ₹{w.amount} - {w.status} - {w.createdAt?.toDate().toLocaleString()}\n//                             </li>\n//                           ))}\n//                         </ul>\n//                       )}\n//                     </div>\n//                   </div>\n//                 )}\n//               </div>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n// 'use client';\n// import React, { useEffect, useState } from 'react';\n// import {\n//   getFirestore,\n//   collection,\n//   getDocs,\n//   query,\n//   where,\n//   Timestamp,\n//   doc,\n//   getDoc,\n// } from 'firebase/firestore';\n// import { getAuth, onAuthStateChanged } from 'firebase/auth';\n// import firebaseApp from '@/firebase';\n// import Layout from '@/app/Components/Layout';\n// export default function AdminUserWalletsPage() {\n//   const auth = getAuth(firebaseApp);\n//   const db = getFirestore(firebaseApp);\n//   const [users, setUsers] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [search, setSearch] = useState('');\n//   const [currentUser, setCurrentUser] = useState(null);\n//   const [role, setRole] = useState(null);\n//   useEffect(() => {\n//     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n//       setCurrentUser(user);\n//       if (user) {\n//         const userRef = doc(db, 'users', user.uid);\n//         const userSnap = await getDoc(userRef);\n//         const data = userSnap.data();\n//         const userRole = data?.role || 'user';\n//         setRole(userRole);\n//         if (userRole === 'admin' || userRole === 'subadmin') {\n//           await fetchUserWalletData(user.uid, userRole);\n//         } else {\n//           setUsers([]);\n//           setLoading(false);\n//         }\n//       } else {\n//         setLoading(false);\n//       }\n//     });\n//     return () => unsubscribe();\n//   }, []);\n//   const fetchUserWalletData = async (uid, role) => {\n//     setLoading(true);\n//     try {\n//       const walletCol = collection(db, 'subwallets');\n//       let walletQuery;\n//       if (role === 'admin') {\n//         walletQuery = walletCol; // get all\n//       } else {\n//         walletQuery = query(walletCol, where('subAdminId', '==', uid)); // only their users\n//       }\n//       const walletsSnap = await getDocs(walletQuery);\n//       const wallets = walletsSnap.docs.map((doc) => ({\n//         uid: doc.id,\n//         balance: doc.data().balance || 0,\n//         email: doc.data().email || '',\n//       }));\n//       const oneWeekAgo = Timestamp.fromDate(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000));\n//       const depositSnap = await getDocs(\n//         query(\n//           collection(db, 'depositRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const withdrawSnap = await getDocs(\n//         query(\n//           collection(db, 'withdrawRequests'),\n//           where('status', '==', 'approved'),\n//           where('createdAt', '>=', oneWeekAgo)\n//         )\n//       );\n//       const depositMap = {};\n//       depositSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n//         depositMap[data.uid] += data.amount || 0;\n//       });\n//       const withdrawMap = {};\n//       withdrawSnap.forEach((doc) => {\n//         const data = doc.data();\n//         if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n//         withdrawMap[data.uid] += data.amount || 0;\n//       });\n//       const finalUsers = wallets.map((user) => ({\n//         ...user,\n//         totalDeposited: depositMap[user.uid] || 0,\n//         totalWithdrawn: withdrawMap[user.uid] || 0,\n//       }));\n//       setUsers(finalUsers);\n//     } catch (error) {\n//       console.error('Error fetching user wallet data:', error);\n//       alert('Error loading wallet data.');\n//     }\n//     setLoading(false);\n//   };\n//   const exportToCSV = () => {\n//     const headers = ['Email', 'Balance', 'Deposited (7 days)', 'Withdrawn (7 days)'];\n//     const rows = users.map((u) => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n//     const csvContent = [headers, ...rows].map((r) => r.join(',')).join('\\n');\n//     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n//     const url = URL.createObjectURL(blob);\n//     const link = document.createElement('a');\n//     link.setAttribute('href', url);\n//     link.setAttribute('download', 'user_wallets.csv');\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//   };\n//   const filteredUsers = users.filter((u) =>\n//     u.email.toLowerCase().includes(search.toLowerCase())\n//   );\n//   return (\n//     <Layout>\n//       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n//         <div className=\"max-w-5xl mx-auto\">\n//           <h1 className=\"text-3xl font-bold mb-6\">\n//             {role === 'admin'\n//               ? 'Admin: All Subadmin & User Wallets'\n//               : 'Subadmin: Your User Wallets'}\n//           </h1>\n//           <div className=\"flex items-center gap-4 mb-6\">\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search by email...\"\n//               value={search}\n//               onChange={(e) => setSearch(e.target.value)}\n//               className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n//             />\n//             <button\n//               onClick={exportToCSV}\n//               className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n//             >\n//               Export CSV dk\n//             </button>\n//           </div>\n//           {loading ? (\n//             <p className=\"text-yellow-300\">Loading...</p>\n//           ) : filteredUsers.length === 0 ? (\n//             <p className=\"text-gray-400\">No users found.</p>\n//           ) : (\n//             <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n//               <table className=\"w-full text-left table-auto\">\n//                 <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n//                   <tr>\n//                     <th className=\"p-3\">Email</th>\n//                     <th className=\"p-3\">Balance</th>\n//                     <th className=\"p-3\">Deposited (7d)</th>\n//                     <th className=\"p-3\">Withdrawn (7d)</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredUsers.map((user) => (\n//                     <tr key={user.uid} className=\"border-t border-gray-700\">\n//                       <td className=\"p-3\">{user.email || 'N/A'}</td>\n//                       <td className=\"p-3\">₹{user.balance}</td>\n//                       <td className=\"p-3\">₹{user.totalDeposited}</td>\n//                       <td className=\"p-3\">₹{user.totalWithdrawn}</td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n//     </Layout>\n//   );\n// }\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction AdminUserWalletsPage() {\n    _s();\n    const auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.getAuth)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    const db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(_firebase__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AdminUserWalletsPage.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_3__.onAuthStateChanged)(auth, {\n                \"AdminUserWalletsPage.useEffect.unsubscribe\": async (user)=>{\n                    setCurrentUser(user);\n                    if (user) {\n                        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(db, 'users', user.uid);\n                        const userSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(userRef);\n                        const data = userSnap.data();\n                        const userRole = (data === null || data === void 0 ? void 0 : data.role) || 'user';\n                        setRole(userRole);\n                        if (userRole === 'admin' || userRole === 'subadmin') {\n                            await fetchUserWalletData(user.uid, userRole);\n                        } else {\n                            setUsers([]);\n                            setLoading(false);\n                        }\n                    } else {\n                        setLoading(false);\n                    }\n                }\n            }[\"AdminUserWalletsPage.useEffect.unsubscribe\"]);\n            return ({\n                \"AdminUserWalletsPage.useEffect\": ()=>unsubscribe()\n            })[\"AdminUserWalletsPage.useEffect\"];\n        }\n    }[\"AdminUserWalletsPage.useEffect\"], []);\n    const fetchUserWalletData = async (uid, role)=>{\n        setLoading(true);\n        try {\n            const walletCol = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(db, 'subwallets');\n            let walletQuery;\n            if (role === 'admin') {\n                walletQuery = walletCol; // all wallets\n            } else {\n                walletQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)(walletCol, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('subAdminId', '==', uid)); // subadmin-specific\n            }\n            const walletsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(walletQuery);\n            const wallets = walletsSnap.docs.map((doc)=>({\n                    uid: doc.id,\n                    balance: doc.data().balance || 0,\n                    email: doc.data().email || ''\n                }));\n            const oneWeekAgo = firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.fromDate(new Date(Date.now() - 7 * 24 * 60 * 60 * 1000));\n            // Deposit Requests (filtered for subadmin)\n            const depositSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(// query(\n            //   collection(db, 'subdepositRequests'),\n            //   where('status', '==', 'approved'),\n            //   where('createdAt', '>=', oneWeekAgo),\n            //   ...(role === 'subadmin' ? [where('fromUserSubAdminId', '==', uid)] : [])\n            // )\n            (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(db, 'subdepositRequests'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('status', '==', 'approved'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('createdAt', '>=', oneWeekAgo), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('fromUserSubAdminId', '==', uid)));\n            // Withdraw Requests (filtered for subadmin)\n            //       const withdrawSnap = await getDocs(\n            //         // query(\n            //         //   collection(db, 'subwithdrawRequests'),\n            //         //   where('status', '==', 'approved'),\n            //         //   where('createdAt', '>=', oneWeekAgo),\n            //         //   ...(role === 'subadmin' ? [where('fromUserSubAdminId', '==', uid)] : [])\n            //         // )\n            //         query(\n            //   collection(db, 'subdepositRequests'),\n            //   where('status', '==', 'approved'),\n            //   where('createdAt', '>=', oneWeekAgo),\n            //   where('fromUserSubAdminId', '==', uid)\n            // )\n            //       );\n            const withdrawSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(db, 'subwithdrawRequests'), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('status', '==', 'approved'), ...role === 'subadmin' ? [\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)('fromUserSubAdminId', '==', uid)\n            ] : []));\n            // Aggregate deposits\n            const depositMap = {};\n            depositSnap.forEach((doc)=>{\n                const data = doc.data();\n                if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n                depositMap[data.uid] += data.amount || 0;\n            });\n            // Aggregate withdrawals\n            // const withdrawMap = {};\n            // withdrawSnap.forEach((doc) => {\n            //   const data = doc.data();\n            //   if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n            //   withdrawMap[data.uid] += data.amount || 0;\n            // });\n            const withdrawMap = {};\n            withdrawSnap.forEach((doc)=>{\n                var _data_approvedAt;\n                const data = doc.data();\n                if (!withdrawMap[data.uid]) withdrawMap[data.uid] = [];\n                withdrawMap[data.uid].push({\n                    amount: data.amount,\n                    approvedAt: (_data_approvedAt = data.approvedAt) === null || _data_approvedAt === void 0 ? void 0 : _data_approvedAt.toDate()\n                });\n            });\n            // Final merged user data\n            const finalUsers = wallets.map((user)=>({\n                    ...user,\n                    totalDeposited: depositMap[user.uid] || 0,\n                    // totalWithdrawn: withdrawMap[user.uid] || 0,\n                    withdrawals: withdrawMap[user.uid] || []\n                }));\n            setUsers(finalUsers);\n        } catch (error) {\n            console.error('Error fetching wallet data:', error);\n            alert('Error loading wallet data.');\n        }\n        setLoading(false);\n    };\n    // const exportToCSV = () => {\n    //   const headers = ['Email', 'Balance', 'Deposited (7 days)', 'Withdrawn (7 days)'];\n    //   const rows = users.map((u) => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n    //   const csvContent = [headers, ...rows].map((r) => r.join(',')).join('\\n');\n    //   const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    //   const url = URL.createObjectURL(blob);\n    //   const link = document.createElement('a');\n    //   link.setAttribute('href', url);\n    //   link.setAttribute('download', 'user_wallets.csv');\n    //   document.body.appendChild(link);\n    //   link.click();\n    //   document.body.removeChild(link);\n    // };\n    const filteredUsers = users.filter((u)=>u.email.toLowerCase().includes(search.toLowerCase()));\n    return(// <Layout>\n    //   <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n    //     <div className=\"max-w-5xl mx-auto\">\n    //       <h1 className=\"text-3xl font-bold mb-6\">\n    //         {role === 'admin'\n    //           ? 'Admin: All Subadmin & User Wallets'\n    //           : 'Subadmin: Your User Wallets'}\n    //       </h1>\n    //       <div className=\"flex items-center gap-4 mb-6\">\n    //         <input\n    //           type=\"text\"\n    //           placeholder=\"Search by email...\"\n    //           value={search}\n    //           onChange={(e) => setSearch(e.target.value)}\n    //           className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n    //         />\n    //         <button\n    //           onClick={exportToCSV}\n    //           className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n    //         >\n    //           Export CSV\n    //         </button>\n    //       </div>\n    //       {loading ? (\n    //         <p className=\"text-yellow-300\">Loading...</p>\n    //       ) : filteredUsers.length === 0 ? (\n    //         <p className=\"text-gray-400\">No users found.</p>\n    //       ) : (\n    //         <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n    //           <table className=\"w-full text-left table-auto\">\n    //             <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n    //               <tr>\n    //                 <th className=\"p-3\">Email</th>\n    //                 <th className=\"p-3\">Balance</th>\n    //                 <th className=\"p-3\">Deposited (7d)</th>\n    //                 {/* <th className=\"p-3\">Withdrawn (7d)</th>\n    //               </tr> */}\n    //               <th className=\"p-3\">Withdrawals</th>\n    //             </thead>\n    //             <tbody>\n    //               {filteredUsers.map((user) => (\n    //                 <tr key={user.uid} className=\"border-t border-gray-700\">\n    //                   <td className=\"p-3\">{user.email || 'N/A'}</td>\n    //                   <td className=\"p-3\">₹{user.balance}</td>\n    //                   <td className=\"p-3\">₹{user.totalDeposited}</td>\n    //                   <td className=\"p-3\">₹{user.Withdrawn}</td>\n    //                 </tr>\n    //               ))}\n    //             </tbody>\n    //           </table>\n    //         </div>\n    //       )}\n    //     </div>\n    //   </div>\n    // </Layout>\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_app_Components_Layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-900 text-white p-8\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-5xl mx-auto\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-3xl font-bold mb-6\",\n                        children: role === 'admin' ? 'Admin: All Subadmin & User Wallets' : 'Subadmin: Your User Wallets'\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                        lineNumber: 991,\n                        columnNumber: 7\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4 mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                placeholder: \"Search by email...\",\n                                value: search,\n                                onChange: (e)=>setSearch(e.target.value),\n                                className: \"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                lineNumber: 998,\n                                columnNumber: 9\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: exportToCSV,\n                                className: \"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\",\n                                children: \"Export CSV\"\n                            }, void 0, false, {\n                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                lineNumber: 1005,\n                                columnNumber: 9\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                        lineNumber: 997,\n                        columnNumber: 7\n                    }, this),\n                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-yellow-300\",\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                        lineNumber: 1014,\n                        columnNumber: 9\n                    }, this) : filteredUsers.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-400\",\n                        children: \"No users found.\"\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                        lineNumber: 1016,\n                        columnNumber: 9\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                            className: \"w-full text-left table-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                    className: \"bg-gray-700 text-sm uppercase text-gray-300\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"p-3\",\n                                                children: \"Email\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                lineNumber: 1022,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"p-3\",\n                                                children: \"Balance\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                lineNumber: 1023,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"p-3\",\n                                                children: \"Deposited (7d)\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                lineNumber: 1024,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                className: \"p-3\",\n                                                children: \"Withdrawals\"\n                                            }, void 0, false, {\n                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                lineNumber: 1025,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                        lineNumber: 1021,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                    lineNumber: 1020,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                    children: filteredUsers.map((user)=>{\n                                        var _user_withdrawals;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                            className: \"border-t border-gray-700 align-top\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"p-3\",\n                                                    children: user.email || 'N/A'\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                    lineNumber: 1031,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"p-3\",\n                                                    children: [\n                                                        \"₹\",\n                                                        user.balance\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                    lineNumber: 1032,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"p-3\",\n                                                    children: [\n                                                        \"₹\",\n                                                        user.totalDeposited\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                    lineNumber: 1033,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                    className: \"p-3 text-sm\",\n                                                    children: ((_user_withdrawals = user.withdrawals) === null || _user_withdrawals === void 0 ? void 0 : _user_withdrawals.length) > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                        className: \"space-y-1\",\n                                                        children: user.withdrawals.map((w, idx)=>{\n                                                            var _w_approvedAt, _w_approvedAt1;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                children: [\n                                                                    \"₹\",\n                                                                    w.amount,\n                                                                    \" on\",\n                                                                    ' ',\n                                                                    (_w_approvedAt = w.approvedAt) === null || _w_approvedAt === void 0 ? void 0 : _w_approvedAt.toLocaleDateString(),\n                                                                    \" at\",\n                                                                    ' ',\n                                                                    (_w_approvedAt1 = w.approvedAt) === null || _w_approvedAt1 === void 0 ? void 0 : _w_approvedAt1.toLocaleTimeString([], {\n                                                                        hour: '2-digit',\n                                                                        minute: '2-digit'\n                                                                    })\n                                                                ]\n                                                            }, idx, true, {\n                                                                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                                lineNumber: 1038,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                        lineNumber: 1036,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-400\",\n                                                        children: \"No withdrawals\"\n                                                    }, void 0, false, {\n                                                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                        lineNumber: 1046,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                                    lineNumber: 1034,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, user.uid, true, {\n                                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                            lineNumber: 1030,\n                                            columnNumber: 17\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                                    lineNumber: 1028,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                            lineNumber: 1019,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                        lineNumber: 1018,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n                lineNumber: 990,\n                columnNumber: 5\n            }, this)\n        }, void 0, false, {\n            fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n            lineNumber: 989,\n            columnNumber: 3\n        }, this)\n    }, void 0, false, {\n        fileName: \"E:\\\\Nagaland\\\\gamling\\\\megaend-new\\\\src\\\\app\\\\app\\\\user-details\\\\page.js\",\n        lineNumber: 988,\n        columnNumber: 5\n    }, this));\n} // 'use client';\n // import React, { useEffect, useState } from 'react';\n // import {\n //   getFirestore,\n //   collection,\n //   getDocs,\n //   query,\n //   where,\n //   Timestamp,\n //   doc,\n //   getDoc,\n // } from 'firebase/firestore';\n // import { getAuth, onAuthStateChanged } from 'firebase/auth';\n // import firebaseApp from '@/firebase';\n // import Layout from '@/app/Components/Layout';\n // export default function Page() {\n //   const auth = getAuth(firebaseApp);\n //   const db = getFirestore(firebaseApp);\n //   const [users, setUsers] = useState([]);\n //   const [loading, setLoading] = useState(true);\n //   const [search, setSearch] = useState('');\n //   const [currentUser, setCurrentUser] = useState(null);\n //   const [role, setRole] = useState(null);\n //   useEffect(() => {\n //     const unsubscribe = onAuthStateChanged(auth, async (user) => {\n //       setCurrentUser(user);\n //       if (user) {\n //         const userRef = doc(db, 'users', user.uid);\n //         const userSnap = await getDoc(userRef);\n //         const data = userSnap.data();\n //         const userRole = data?.role || 'user';\n //         setRole(userRole);\n //         if (userRole === 'admin' || userRole === 'subadmin') {\n //           await fetchUserWalletData(user.uid, userRole);\n //         } else {\n //           setUsers([]);\n //           setLoading(false);\n //         }\n //       } else {\n //         setLoading(false);\n //       }\n //     });\n //     return () => unsubscribe();\n //   }, []);\n //   const fetchUserWalletData = async (uid, role) => {\n //     setLoading(true);\n //     try {\n //       const walletCol = collection(db, 'subwallets');\n //       const walletQuery =\n //         role === 'admin'\n //           ? walletCol\n //           : query(walletCol, where('subAdminId', '==', uid));\n //       const walletsSnap = await getDocs(walletQuery);\n //       const wallets = walletsSnap.docs.map((doc) => ({\n //         uid: doc.id,\n //         balance: doc.data().balance || 0,\n //         email: doc.data().email || '',\n //       }));\n //       const oneWeekAgo = Timestamp.fromDate(\n //         new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)\n //       );\n //       const depositQuery =\n //         role === 'admin'\n //           ? query(\n //               collection(db, 'subdepositRequests'),\n //               where('status', '==', 'approved'),\n //               where('createdAt', '>=', oneWeekAgo)\n //             )\n //           : query(\n //               collection(db, 'subdepositRequests'),\n //               where('status', '==', 'approved'),\n //               where('createdAt', '>=', oneWeekAgo),\n //               where('fromUserSubAdminId', '==', uid)\n //             );\n //       const withdrawQuery =\n //         role === 'admin'\n //           ? query(\n //               collection(db, 'subwithdrawRequests'),\n //               where('status', '==', 'approved'),\n //               where('createdAt', '>=', oneWeekAgo)\n //             )\n //           : query(\n //               collection(db, 'subwithdrawRequests'),\n //               where('status', '==', 'approved'),\n //               where('createdAt', '>=', oneWeekAgo),\n //               where('fromUserSubAdminId', '==', uid)\n //             );\n //       const [depositSnap, withdrawSnap] = await Promise.all([\n //         getDocs(depositQuery),\n //         getDocs(withdrawQuery),\n //       ]);\n //       const depositMap = {};\n //       depositSnap.forEach((doc) => {\n //         const data = doc.data();\n //         if (!data.uid) return;\n //         if (!depositMap[data.uid]) depositMap[data.uid] = 0;\n //         depositMap[data.uid] += data.amount || 0;\n //       });\n //       const withdrawMap = {};\n //       withdrawSnap.forEach((doc) => {\n //         const data = doc.data();\n //         if (!data.uid) return;\n //         if (!withdrawMap[data.uid]) withdrawMap[data.uid] = 0;\n //         withdrawMap[data.uid] += data.amount || 0;\n //       });\n //       const finalUsers = wallets.map((user) => ({\n //         ...user,\n //         totalDeposited: depositMap[user.uid] || 0,\n //         totalWithdrawn: withdrawMap[user.uid] || 0,\n //       }));\n //       setUsers(finalUsers);\n //     } catch (error) {\n //       console.error('Error fetching wallet data:', error);\n //       alert('Error loading wallet data.');\n //     }\n //     setLoading(false);\n //   };\n //   const exportToCSV = () => {\n //     const headers = ['Email', 'Balance', 'Deposited (7 days)', 'Withdrawn (7 days)'];\n //     const rows = users.map((u) => [u.email, u.balance, u.totalDeposited, u.totalWithdrawn]);\n //     const csvContent = [headers, ...rows].map((r) => r.join(',')).join('\\n');\n //     const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n //     const url = URL.createObjectURL(blob);\n //     const link = document.createElement('a');\n //     link.setAttribute('href', url);\n //     link.setAttribute('download', 'user_wallets.csv');\n //     document.body.appendChild(link);\n //     link.click();\n //     document.body.removeChild(link);\n //   };\n //   const filteredUsers = users.filter((u) =>\n //     u.email.toLowerCase().includes(search.toLowerCase())\n //   );\n //   return (\n //     <Layout>\n //       <div className=\"min-h-screen bg-gray-900 text-white p-8\">\n //         <div className=\"max-w-5xl mx-auto\">\n //           <h1 className=\"text-3xl font-bold mb-6\">\n //             {role === 'admin'\n //               ? 'Admin: All Subadmin & User Wallets'\n //               : 'Subadmin: Your User Wallets'}\n //           </h1>\n //           <div className=\"flex items-center gap-4 mb-6\">\n //             <input\n //               type=\"text\"\n //               placeholder=\"Search by email...\"\n //               value={search}\n //               onChange={(e) => setSearch(e.target.value)}\n //               className=\"px-4 py-2 rounded bg-gray-800 border border-gray-600 focus:outline-none\"\n //             />\n //             <button\n //               onClick={exportToCSV}\n //               className=\"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-black rounded font-semibold\"\n //             >\n //               Export CSV\n //             </button>\n //           </div>\n //           {loading ? (\n //             <p className=\"text-yellow-300\">Loading...</p>\n //           ) : filteredUsers.length === 0 ? (\n //             <p className=\"text-gray-400\">No users found.</p>\n //           ) : (\n //             <div className=\"overflow-x-auto bg-gray-800 rounded-lg shadow-xl\">\n //               <table className=\"w-full text-left table-auto\">\n //                 <thead className=\"bg-gray-700 text-sm uppercase text-gray-300\">\n //                   <tr>\n //                     <th className=\"p-3\">Email</th>\n //                     <th className=\"p-3\">Balance</th>\n //                     <th className=\"p-3\">Deposited (7d)</th>\n //                     <th className=\"p-3\">Withdrawn (7d)</th>\n //                   </tr>\n //                 </thead>\n //                 <tbody>\n //                   {filteredUsers.map((user) => (\n //                     <tr key={user.uid} className=\"border-t border-gray-700\">\n //                       <td className=\"p-3\">{user.email || 'N/A'}</td>\n //                       <td className=\"p-3\">₹{user.balance}</td>\n //                       <td className=\"p-3\">₹{user.totalDeposited}</td>\n //                       <td className=\"p-3\">₹{user.totalWithdrawn}</td>\n //                     </tr>\n //                   ))}\n //                 </tbody>\n //               </table>\n //             </div>\n //           )}\n //         </div>\n //       </div>\n //     </Layout>\n //   );\n // }\n_s(AdminUserWalletsPage, \"C12x+Eo2ZT+RyeBp7B7m4eg8rUQ=\");\n_c = AdminUserWalletsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminUserWalletsPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYXBwL3VzZXItZGV0YWlscy9wYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsZ0JBQWdCO0FBRWhCLHNEQUFzRDtBQUN0RCxXQUFXO0FBQ1gsa0JBQWtCO0FBQ2xCLGdCQUFnQjtBQUNoQixhQUFhO0FBQ2IsV0FBVztBQUNYLFdBQVc7QUFDWCwrQkFBK0I7QUFDL0Isd0NBQXdDO0FBQ3hDLGdEQUFnRDtBQUVoRCxtREFBbUQ7QUFDbkQsMENBQTBDO0FBRTFDLDRDQUE0QztBQUM1QyxrREFBa0Q7QUFDbEQsOENBQThDO0FBRTlDLHNCQUFzQjtBQUN0Qiw2QkFBNkI7QUFDN0IsWUFBWTtBQUVaLDhDQUE4QztBQUM5Qyx3QkFBd0I7QUFFeEIsWUFBWTtBQUNaLHNFQUFzRTtBQUN0RSx5REFBeUQ7QUFDekQsdUJBQXVCO0FBQ3ZCLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMsYUFBYTtBQUViLDJDQUEyQztBQUMzQyxzRkFBc0Y7QUFDdEYsV0FBVztBQUVYLDRDQUE0QztBQUM1Qyx1RkFBdUY7QUFDdkYsV0FBVztBQUVYLCtCQUErQjtBQUMvQix1Q0FBdUM7QUFDdkMsbUNBQW1DO0FBQ25DLCtEQUErRDtBQUMvRCxvREFBb0Q7QUFDcEQsWUFBWTtBQUVaLGdDQUFnQztBQUNoQyx3Q0FBd0M7QUFDeEMsbUNBQW1DO0FBQ25DLGlFQUFpRTtBQUNqRSxxREFBcUQ7QUFDckQsWUFBWTtBQUVaLG9EQUFvRDtBQUNwRCxtQkFBbUI7QUFDbkIscURBQXFEO0FBQ3JELHNEQUFzRDtBQUN0RCxhQUFhO0FBRWIsOEJBQThCO0FBQzlCLHdCQUF3QjtBQUN4QixrRUFBa0U7QUFDbEUsNkNBQTZDO0FBQzdDLFFBQVE7QUFFUix5QkFBeUI7QUFDekIsT0FBTztBQUVQLGdDQUFnQztBQUNoQyxzRUFBc0U7QUFDdEUsNkZBQTZGO0FBQzdGLDhFQUE4RTtBQUU5RSxnRkFBZ0Y7QUFDaEYsNkNBQTZDO0FBQzdDLGdEQUFn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Qix1Q0FBdUM7Q0FDdkMsT0FBTztDQUVQLDhDQUE4QztDQUM5QywyREFBMkQ7Q0FDM0QsT0FBTztDQUVQLGFBQWE7Q0FDYixlQUFlO0NBQ2Ysa0VBQWtFO0NBQ2xFLDhDQUE4QztDQUM5QyxxREFBcUQ7Q0FDckQsZ0NBQWdDO0NBQ2hDLHVEQUF1RDtDQUN2RCxpREFBaUQ7Q0FDakQsa0JBQWtCO0NBRWxCLDJEQUEyRDtDQUMzRCxxQkFBcUI7Q0FDckIsNEJBQTRCO0NBQzVCLGlEQUFpRDtDQUNqRCwrQkFBK0I7Q0FDL0IsNERBQTREO0NBQzVELG9HQUFvRztDQUNwRyxpQkFBaUI7Q0FDakIsc0JBQXNCO0NBQ3RCLHNDQUFzQztDQUN0Qyx5R0FBeUc7Q0FDekcsZ0JBQWdCO0NBQ2hCLDJCQUEyQjtDQUMzQix3QkFBd0I7Q0FDeEIsbUJBQW1CO0NBRW5CLHlCQUF5QjtDQUN6Qiw0REFBNEQ7Q0FDNUQsK0NBQStDO0NBQy9DLCtEQUErRDtDQUMvRCxrQkFBa0I7Q0FDbEIsaUZBQWlGO0NBQ2pGLGdFQUFnRTtDQUNoRSxrRkFBa0Y7Q0FDbEYseUJBQXlCO0NBQ3pCLHFEQUFxRDtDQUNyRCx1REFBdUQ7Q0FDdkQsOERBQThEO0NBQzlELDhEQUE4RDtDQUM5RCwwQkFBMEI7Q0FDMUIsMkJBQTJCO0NBQzNCLDBCQUEwQjtDQUMxQixtREFBbUQ7Q0FDbkQsK0VBQStFO0NBQy9FLHVFQUF1RTtDQUN2RSxpRUFBaUU7Q0FDakUsd0VBQXdFO0NBQ3hFLHdFQUF3RTtDQUN4RSw0QkFBNEI7Q0FDNUIsd0JBQXdCO0NBQ3hCLDJCQUEyQjtDQUMzQix5QkFBeUI7Q0FDekIscUJBQXFCO0NBQ3JCLGVBQWU7Q0FDZixpQkFBaUI7Q0FDakIsZUFBZTtDQUNmLGdCQUFnQjtDQUNoQixPQUFPO0NBQ1AsSUFBSTtHQTdmb0JoQjtLQUFBQSIsInNvdXJjZXMiOlsiRTpcXE5hZ2FsYW5kXFxnYW1saW5nXFxtZWdhZW5kLW5ld1xcc3JjXFxhcHBcXGFwcFxcdXNlci1kZXRhaWxzXFxwYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vICd1c2UgY2xpZW50JztcclxuXHJcbi8vIGltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG4vLyBpbXBvcnQge1xyXG4vLyAgIGdldEZpcmVzdG9yZSxcclxuLy8gICBjb2xsZWN0aW9uLFxyXG4vLyAgIGdldERvY3MsXHJcbi8vICAgcXVlcnksXHJcbi8vICAgd2hlcmUsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluVXNlcldhbGxldHNQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW3VzZXJzLCBzZXRVc2Vyc10gPSB1c2VTdGF0ZShbXSk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbi8vICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IHVzZVN0YXRlKCcnKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGZldGNoVXNlcldhbGxldERhdGEoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGZldGNoVXNlcldhbGxldERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnd2FsbGV0cycpKTtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0cyA9IHdhbGxldHNTbmFwLmRvY3MubWFwKChkb2MpID0+ICh7XHJcbi8vICAgICAgICAgdWlkOiBkb2MuaWQsXHJcbi8vICAgICAgICAgYmFsYW5jZTogZG9jLmRhdGEoKS5iYWxhbmNlIHx8IDAsXHJcbi8vICAgICAgICAgZW1haWw6IGRvYy5kYXRhKCkuZW1haWwgfHwgJycsXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IGRlcG9zaXRTbmFwID0gYXdhaXQgZ2V0RG9jcyhcclxuLy8gICAgICAgICBxdWVyeShjb2xsZWN0aW9uKGRiLCAnZGVwb3NpdFJlcXVlc3RzJyksIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSlcclxuLy8gICAgICAgKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3U25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgJ3dpdGhkcmF3UmVxdWVzdHMnKSwgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpKVxyXG4vLyAgICAgICApO1xyXG5cclxuLy8gICAgICAgY29uc3QgZGVwb3NpdE1hcCA9IHt9O1xyXG4vLyAgICAgICBkZXBvc2l0U25hcC5mb3JFYWNoKChkb2MpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcclxuLy8gICAgICAgICBpZiAoIWRlcG9zaXRNYXBbZGF0YS51aWRdKSBkZXBvc2l0TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgZGVwb3NpdE1hcFtkYXRhLnVpZF0gKz0gZGF0YS5hbW91bnQgfHwgMDtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd01hcCA9IHt9O1xyXG4vLyAgICAgICB3aXRoZHJhd1NuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbi8vICAgICAgICAgaWYgKCF3aXRoZHJhd01hcFtkYXRhLnVpZF0pIHdpdGhkcmF3TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgd2l0aGRyYXdNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgZmluYWxVc2VycyA9IHdhbGxldHMubWFwKCh1c2VyKSA9PiAoe1xyXG4vLyAgICAgICAgIC4uLnVzZXIsXHJcbi8vICAgICAgICAgdG90YWxEZXBvc2l0ZWQ6IGRlcG9zaXRNYXBbdXNlci51aWRdIHx8IDAsXHJcbi8vICAgICAgICAgdG90YWxXaXRoZHJhd246IHdpdGhkcmF3TWFwW3VzZXIudWlkXSB8fCAwLFxyXG4vLyAgICAgICB9KSk7XHJcblxyXG4vLyAgICAgICBzZXRVc2VycyhmaW5hbFVzZXJzKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgd2FsbGV0IGRhdGE6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3IgbG9hZGluZyB3YWxsZXQgZGF0YS4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBleHBvcnRUb0NTViA9ICgpID0+IHtcclxuLy8gICAgIGNvbnN0IGhlYWRlcnMgPSBbJ0VtYWlsJywgJ0JhbGFuY2UnLCAnRGVwb3NpdGVkJywgJ1dpdGhkcmF3biddO1xyXG4vLyAgICAgY29uc3Qgcm93cyA9IHVzZXJzLm1hcCh1ID0+IFt1LmVtYWlsLCB1LmJhbGFuY2UsIHUudG90YWxEZXBvc2l0ZWQsIHUudG90YWxXaXRoZHJhd25dKTtcclxuLy8gICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBbaGVhZGVycywgLi4ucm93c10ubWFwKHIgPT4gci5qb2luKCcsJykpLmpvaW4oJ1xcbicpO1xyXG5cclxuLy8gICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY3N2Q29udGVudF0sIHsgdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JyB9KTtcclxuLy8gICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbi8vICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4vLyAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpO1xyXG4vLyAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3VzZXJfd2FsbGV0cy5jc3YnKTtcclxuLy8gICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbi8vICAgICBsaW5rLmNsaWNrKCk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGZpbHRlcmVkVXNlcnMgPSB1c2Vycy5maWx0ZXIodSA9PlxyXG4vLyAgICAgdS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaC50b0xvd2VyQ2FzZSgpKVxyXG4vLyAgICk7XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNXhsIG14LWF1dG9cIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItNlwiPkFkbWluOiBVc2VyIFdhbGxldCBPdmVydmlldzwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi02XCI+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuLy8gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBlbWFpbC4uLlwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaH1cclxuLy8gICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4vLyAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgb25DbGljaz17ZXhwb3J0VG9DU1Z9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIHJvdW5kZWQgZm9udC1zZW1pYm9sZFwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICBFeHBvcnQgQ1NWXHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMFwiPkxvYWRpbmcuLi48L3A+XHJcbi8vICAgICAgICAgICApIDogZmlsdGVyZWRVc2Vycy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB1c2VycyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0byBiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy14bFwiPlxyXG4vLyAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRhYmxlLWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCB0ZXh0LXNtIHVwcGVyY2FzZSB0ZXh0LWdyYXktMzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RW1haWw8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5CYWxhbmNlPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RGVwb3NpdGVkPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+V2l0aGRyYXduPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgPC90cj5cclxuLy8gICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbi8vICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbi8vICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFVzZXJzLm1hcCgodXNlcikgPT4gKFxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e3VzZXIudWlkfSBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS03MDBcIj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj57dXNlci5lbWFpbCB8fCAnTi9BJ308L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPuKCuXt1c2VyLmJhbGFuY2V9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci50b3RhbERlcG9zaXRlZH08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPuKCuXt1c2VyLnRvdGFsV2l0aGRyYXdufTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuLy8gICAgICAgICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4vLyAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbi8vICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBUaW1lc3RhbXAsXHJcbi8vIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluVXNlcldhbGxldHNQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuXHJcbi8vICAgY29uc3QgW3VzZXJzLCBzZXRVc2Vyc10gPSB1c2VTdGF0ZShbXSk7XHJcbi8vICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbi8vICAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IHVzZVN0YXRlKCcnKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGZldGNoVXNlcldhbGxldERhdGEoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGZldGNoVXNlcldhbGxldERhdGEgPSBhc3luYyAoKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCAnd2FsbGV0cycpKTtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0cyA9IHdhbGxldHNTbmFwLmRvY3MubWFwKChkb2MpID0+ICh7XHJcbi8vICAgICAgICAgdWlkOiBkb2MuaWQsXHJcbi8vICAgICAgICAgYmFsYW5jZTogZG9jLmRhdGEoKS5iYWxhbmNlIHx8IDAsXHJcbi8vICAgICAgICAgZW1haWw6IGRvYy5kYXRhKCkuZW1haWwgfHwgJycsXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IG9uZVdlZWtBZ28gPSBUaW1lc3RhbXAuZnJvbURhdGUobmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcblxyXG4vLyAgICAgICBjb25zdCBkZXBvc2l0U25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgcXVlcnkoXHJcbi8vICAgICAgICAgICBjb2xsZWN0aW9uKGRiLCAnZGVwb3NpdFJlcXVlc3RzJyksXHJcbi8vICAgICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ2FwcHJvdmVkJyksXHJcbi8vICAgICAgICAgICB3aGVyZSgnY3JlYXRlZEF0JywgJz49Jywgb25lV2Vla0FnbylcclxuLy8gICAgICAgICApXHJcbi8vICAgICAgICk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd1NuYXAgPSBhd2FpdCBnZXREb2NzKFxyXG4vLyAgICAgICAgIHF1ZXJ5KFxyXG4vLyAgICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3dpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBvbmVXZWVrQWdvKVxyXG4vLyAgICAgICAgIClcclxuLy8gICAgICAgKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IGRlcG9zaXRNYXAgPSB7fTtcclxuLy8gICAgICAgZGVwb3NpdFNuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbi8vICAgICAgICAgaWYgKCFkZXBvc2l0TWFwW2RhdGEudWlkXSkgZGVwb3NpdE1hcFtkYXRhLnVpZF0gPSAwO1xyXG4vLyAgICAgICAgIGRlcG9zaXRNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgY29uc3Qgd2l0aGRyYXdNYXAgPSB7fTtcclxuLy8gICAgICAgd2l0aGRyYXdTbmFwLmZvckVhY2goKGRvYykgPT4ge1xyXG4vLyAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4vLyAgICAgICAgIGlmICghd2l0aGRyYXdNYXBbZGF0YS51aWRdKSB3aXRoZHJhd01hcFtkYXRhLnVpZF0gPSAwO1xyXG4vLyAgICAgICAgIHdpdGhkcmF3TWFwW2RhdGEudWlkXSArPSBkYXRhLmFtb3VudCB8fCAwO1xyXG4vLyAgICAgICB9KTtcclxuXHJcbi8vICAgICAgIGNvbnN0IGZpbmFsVXNlcnMgPSB3YWxsZXRzLm1hcCgodXNlcikgPT4gKHtcclxuLy8gICAgICAgICAuLi51c2VyLFxyXG4vLyAgICAgICAgIHRvdGFsRGVwb3NpdGVkOiBkZXBvc2l0TWFwW3VzZXIudWlkXSB8fCAwLFxyXG4vLyAgICAgICAgIHRvdGFsV2l0aGRyYXduOiB3aXRoZHJhd01hcFt1c2VyLnVpZF0gfHwgMCxcclxuLy8gICAgICAgfSkpO1xyXG5cclxuLy8gICAgICAgc2V0VXNlcnMoZmluYWxVc2Vycyk7XHJcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIHdhbGxldCBkYXRhOicsIGVycm9yKTtcclxuLy8gICAgICAgYWxlcnQoJ0Vycm9yIGxvYWRpbmcgd2FsbGV0IGRhdGEuJyk7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgY29uc3QgZXhwb3J0VG9DU1YgPSAoKSA9PiB7XHJcbi8vICAgICBjb25zdCBoZWFkZXJzID0gWydFbWFpbCcsICdCYWxhbmNlJywgJ0RlcG9zaXRlZCAoNyBkYXlzKScsICdXaXRoZHJhd24gKDcgZGF5cyknXTtcclxuLy8gICAgIGNvbnN0IHJvd3MgPSB1c2Vycy5tYXAodSA9PiBbdS5lbWFpbCwgdS5iYWxhbmNlLCB1LnRvdGFsRGVwb3NpdGVkLCB1LnRvdGFsV2l0aGRyYXduXSk7XHJcbi8vICAgICBjb25zdCBjc3ZDb250ZW50ID0gW2hlYWRlcnMsIC4uLnJvd3NdLm1hcChyID0+IHIuam9pbignLCcpKS5qb2luKCdcXG4nKTtcclxuXHJcbi8vICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7XHJcbi8vICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4vLyAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd1c2VyX3dhbGxldHMuY3N2Jyk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4vLyAgICAgbGluay5jbGljaygpO1xyXG4vLyAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBmaWx0ZXJlZFVzZXJzID0gdXNlcnMuZmlsdGVyKHUgPT5cclxuLy8gICAgIHUuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gudG9Mb3dlckNhc2UoKSlcclxuLy8gICApO1xyXG5cclxuLy8gICByZXR1cm4gKFxyXG4vLyAgICAgPExheW91dD5cclxuLy8gICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuLy8gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTV4bCBteC1hdXRvXCI+XHJcbi8vICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIG1iLTZcIj5BZG1pbjogVXNlciBXYWxsZXQgT3ZlcnZpZXc8L2gxPlxyXG5cclxuLy8gICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgbWItNlwiPlxyXG4vLyAgICAgICAgICAgICA8aW5wdXRcclxuLy8gICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbi8vICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgZW1haWwuLi5cIlxyXG4vLyAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2h9XHJcbi8vICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcclxuLy8gICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgIG9uQ2xpY2s9e2V4cG9ydFRvQ1NWfVxyXG4vLyAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayByb3VuZGVkIGZvbnQtc2VtaWJvbGRcIlxyXG4vLyAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgRXhwb3J0IENTVlxyXG4vLyAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgIDwvZGl2PlxyXG5cclxuLy8gICAgICAgICAgIHtsb2FkaW5nID8gKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIj5Mb2FkaW5nLi4uPC9wPlxyXG4vLyAgICAgICAgICAgKSA6IGZpbHRlcmVkVXNlcnMubGVuZ3RoID09PSAwID8gKFxyXG4vLyAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Tm8gdXNlcnMgZm91bmQuPC9wPlxyXG4vLyAgICAgICAgICAgKSA6IChcclxuLy8gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG8gYmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3cteGxcIj5cclxuLy8gICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCB0YWJsZS1hdXRvXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS03MDAgdGV4dC1zbSB1cHBlcmNhc2UgdGV4dC1ncmF5LTMwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8dHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkVtYWlsPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+QmFsYW5jZTwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkRlcG9zaXRlZCAoN2QpPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+V2l0aGRyYXduICg3ZCk8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4vLyAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuLy8gICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuLy8gICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkVXNlcnMubWFwKCh1c2VyKSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci51aWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPnt1c2VyLmVtYWlsIHx8ICdOL0EnfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIuYmFsYW5jZX08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPuKCuXt1c2VyLnRvdGFsRGVwb3NpdGVkfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIudG90YWxXaXRoZHJhd259PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4vLyAgICAgICAgICAgICAgICAgICApKX1cclxuLy8gICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbi8vICAgICAgICAgICAgICAgPC90YWJsZT5cclxuLy8gICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICApfVxyXG4vLyAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICA8L2Rpdj5cclxuLy8gICAgIDwvTGF5b3V0PlxyXG4vLyAgICk7XHJcbi8vIH1cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIFRpbWVzdGFtcCxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRtaW5Vc2VyV2FsbGV0c1BhZ2UoKSB7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbdXNlcnMsIHNldFVzZXJzXSA9IHVzZVN0YXRlKFtdKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuLy8gICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtzZWxlY3RlZFVzZXIsIHNldFNlbGVjdGVkVXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSB1c2VTdGF0ZSh7IGRlcG9zaXRzOiBbXSwgd2l0aGRyYXdhbHM6IFtdIH0pO1xyXG4vLyAgIGNvbnN0IFtoaXN0b3J5TG9hZGluZywgc2V0SGlzdG9yeUxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuLy8gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4vLyAgICAgZmV0Y2hVc2VyV2FsbGV0RGF0YSgpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgZmV0Y2hVc2VyV2FsbGV0RGF0YSA9IGFzeW5jICgpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0c1NuYXAgPSBhd2FpdCBnZXREb2NzKGNvbGxlY3Rpb24oZGIsICd3YWxsZXRzJykpO1xyXG4vLyAgICAgICBjb25zdCB3YWxsZXRzID0gd2FsbGV0c1NuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuLy8gICAgICAgICB1aWQ6IGRvYy5pZCxcclxuLy8gICAgICAgICBiYWxhbmNlOiBkb2MuZGF0YSgpLmJhbGFuY2UgfHwgMCxcclxuLy8gICAgICAgICBlbWFpbDogZG9jLmRhdGEoKS5lbWFpbCB8fCAnJyxcclxuLy8gICAgICAgfSkpO1xyXG5cclxuLy8gICAgICAgY29uc3Qgb25lV2Vla0FnbyA9IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IGRlcG9zaXRTbmFwID0gYXdhaXQgZ2V0RG9jcyhcclxuLy8gICAgICAgICBxdWVyeShcclxuLy8gICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdkZXBvc2l0UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBvbmVXZWVrQWdvKVxyXG4vLyAgICAgICAgIClcclxuLy8gICAgICAgKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3U25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgcXVlcnkoXHJcbi8vICAgICAgICAgICBjb2xsZWN0aW9uKGRiLCAnd2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4vLyAgICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpLFxyXG4vLyAgICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pXHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICApO1xyXG5cclxuLy8gICAgICAgY29uc3QgZGVwb3NpdE1hcCA9IHt9O1xyXG4vLyAgICAgICBkZXBvc2l0U25hcC5mb3JFYWNoKChkb2MpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcclxuLy8gICAgICAgICBpZiAoIWRlcG9zaXRNYXBbZGF0YS51aWRdKSBkZXBvc2l0TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgZGVwb3NpdE1hcFtkYXRhLnVpZF0gKz0gZGF0YS5hbW91bnQgfHwgMDtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd01hcCA9IHt9O1xyXG4vLyAgICAgICB3aXRoZHJhd1NuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbi8vICAgICAgICAgaWYgKCF3aXRoZHJhd01hcFtkYXRhLnVpZF0pIHdpdGhkcmF3TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgd2l0aGRyYXdNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgZmluYWxVc2VycyA9IHdhbGxldHMubWFwKCh1c2VyKSA9PiAoe1xyXG4vLyAgICAgICAgIC4uLnVzZXIsXHJcbi8vICAgICAgICAgdG90YWxEZXBvc2l0ZWQ6IGRlcG9zaXRNYXBbdXNlci51aWRdIHx8IDAsXHJcbi8vICAgICAgICAgdG90YWxXaXRoZHJhd246IHdpdGhkcmF3TWFwW3VzZXIudWlkXSB8fCAwLFxyXG4vLyAgICAgICB9KSk7XHJcblxyXG4vLyAgICAgICBzZXRVc2VycyhmaW5hbFVzZXJzKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgd2FsbGV0IGRhdGE6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3IgbG9hZGluZyB3YWxsZXQgZGF0YS4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBmZXRjaFVzZXJIaXN0b3J5ID0gYXN5bmMgKHVpZCkgPT4ge1xyXG4vLyAgICAgc2V0SGlzdG9yeUxvYWRpbmcodHJ1ZSk7XHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBjb25zdCBkZXBvc2l0c1NuYXAgPSBhd2FpdCBnZXREb2NzKFxyXG4vLyAgICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdkZXBvc2l0UmVxdWVzdHMnKSwgd2hlcmUoJ3VpZCcsICc9PScsIHVpZCkpXHJcbi8vICAgICAgICk7XHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3YWxzU25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgJ3dpdGhkcmF3UmVxdWVzdHMnKSwgd2hlcmUoJ3VpZCcsICc9PScsIHVpZCkpXHJcbi8vICAgICAgICk7XHJcblxyXG4vLyAgICAgICBjb25zdCBkZXBvc2l0cyA9IGRlcG9zaXRzU25hcC5kb2NzLm1hcCgoZG9jKSA9PiAoeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTtcclxuLy8gICAgICAgY29uc3Qgd2l0aGRyYXdhbHMgPSB3aXRoZHJhd2Fsc1NuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7XHJcblxyXG4vLyAgICAgICBzZXRIaXN0b3J5KHsgZGVwb3NpdHMsIHdpdGhkcmF3YWxzIH0pO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBoaXN0b3J5OicsIGVycm9yKTtcclxuLy8gICAgIH1cclxuLy8gICAgIHNldEhpc3RvcnlMb2FkaW5nKGZhbHNlKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBleHBvcnRUb0NTViA9ICgpID0+IHtcclxuLy8gICAgIGNvbnN0IGhlYWRlcnMgPSBbJ0VtYWlsJywgJ0JhbGFuY2UnLCAnRGVwb3NpdGVkICg3IGRheXMpJywgJ1dpdGhkcmF3biAoNyBkYXlzKSddO1xyXG4vLyAgICAgY29uc3Qgcm93cyA9IHVzZXJzLm1hcCh1ID0+IFt1LmVtYWlsLCB1LmJhbGFuY2UsIHUudG90YWxEZXBvc2l0ZWQsIHUudG90YWxXaXRoZHJhd25dKTtcclxuLy8gICAgIGNvbnN0IGNzdkNvbnRlbnQgPSBbaGVhZGVycywgLi4ucm93c10ubWFwKHIgPT4gci5qb2luKCcsJykpLmpvaW4oJ1xcbicpO1xyXG5cclxuLy8gICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY3N2Q29udGVudF0sIHsgdHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7JyB9KTtcclxuLy8gICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbi8vICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4vLyAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpO1xyXG4vLyAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3VzZXJfd2FsbGV0cy5jc3YnKTtcclxuLy8gICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbi8vICAgICBsaW5rLmNsaWNrKCk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xyXG4vLyAgIH07XHJcblxyXG4vLyAgIGNvbnN0IGZpbHRlcmVkVXNlcnMgPSB1c2Vycy5maWx0ZXIodSA9PlxyXG4vLyAgICAgdS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaC50b0xvd2VyQ2FzZSgpKVxyXG4vLyAgICk7XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG9cIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItNlwiPkFkbWluOiBVc2VyIFdhbGxldCBPdmVydmlldzwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi02XCI+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuLy8gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBlbWFpbC4uLlwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaH1cclxuLy8gICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4vLyAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgb25DbGljaz17ZXhwb3J0VG9DU1Z9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIHJvdW5kZWQgZm9udC1zZW1pYm9sZFwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICBFeHBvcnQgQ1NWXHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMFwiPkxvYWRpbmcuLi48L3A+XHJcbi8vICAgICAgICAgICApIDogZmlsdGVyZWRVc2Vycy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB1c2VycyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0byBiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy14bFwiPlxyXG4vLyAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRhYmxlLWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCB0ZXh0LXNtIHVwcGVyY2FzZSB0ZXh0LWdyYXktMzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RW1haWw8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5CYWxhbmNlPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RGVwb3NpdGVkICg3ZCk8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5XaXRoZHJhd24gKDdkKTwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkhpc3Rvcnk8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4vLyAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuLy8gICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuLy8gICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkVXNlcnMubWFwKCh1c2VyKSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci51aWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPnt1c2VyLmVtYWlsIHx8ICdOL0EnfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIuYmFsYW5jZX08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPuKCuXt1c2VyLnRvdGFsRGVwb3NpdGVkfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIudG90YWxXaXRoZHJhd259PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS00MDAgdW5kZXJsaW5lXCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFVzZXIodXNlcik7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFVzZXJIaXN0b3J5KHVzZXIudWlkKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlld1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuLy8gICAgICAgICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4vLyAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbi8vICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgKX1cclxuXHJcbi8vICAgICAgICAgICB7LyogVHJhbnNhY3Rpb24gaGlzdG9yeSBtb2RhbCAqL31cclxuLy8gICAgICAgICAgIHtzZWxlY3RlZFVzZXIgJiYgKFxyXG4vLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XHJcbi8vICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCBwLTYgcm91bmRlZC1sZyB3LWZ1bGwgbWF4LXctM3hsIHJlbGF0aXZlXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTRcIj5cclxuLy8gICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVXNlci5lbWFpbH0gLSBUcmFuc2FjdGlvbiBIaXN0b3J5XHJcbi8vICAgICAgICAgICAgICAgICA8L2gyPlxyXG4vLyAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4vLyAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMyByaWdodC0zIHRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZVwiXHJcbi8vICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVXNlcihudWxsKX1cclxuLy8gICAgICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICAgICAg4pyVXHJcbi8vICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbi8vICAgICAgICAgICAgICAgICB7aGlzdG9yeUxvYWRpbmcgPyAoXHJcbi8vICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMFwiPkxvYWRpbmcgaGlzdG9yeS4uLjwvcD5cclxuLy8gICAgICAgICAgICAgICAgICkgOiAoXHJcbi8vICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNlwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5EZXBvc2l0czwvaDM+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICB7aGlzdG9yeS5kZXBvc2l0cy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyBkZXBvc2l0IGhpc3RvcnkuPC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAge2hpc3RvcnkuZGVwb3NpdHMubWFwKChkKSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtkLmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTIgcm91bmRlZFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDigrl7ZC5hbW91bnR9IC0ge2Quc3RhdHVzfSAtIHtkLmNyZWF0ZWRBdD8udG9EYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5XaXRoZHJhd2FsczwvaDM+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICB7aGlzdG9yeS53aXRoZHJhd2Fscy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB3aXRoZHJhd2FsIGhpc3RvcnkuPC9wPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAge2hpc3Rvcnkud2l0aGRyYXdhbHMubWFwKCh3KSA9PiAoXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXt3LmlkfSBjbGFzc05hbWU9XCJiZy1ncmF5LTgwMCBwLTIgcm91bmRlZFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDigrl7dy5hbW91bnR9IC0ge3cuc3RhdHVzfSAtIHt3LmNyZWF0ZWRBdD8udG9EYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICAgICAgICl9XHJcbi8vICAgICAgICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgICAgICAgIDwvZGl2PlxyXG4vLyAgICAgICAgICAgKX1cclxuLy8gICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgPC9kaXY+XHJcbi8vICAgICA8L0xheW91dD5cclxuLy8gICApO1xyXG4vLyB9XHJcblxyXG5cclxuLy8gJ3VzZSBjbGllbnQnO1xyXG5cclxuLy8gaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbi8vIGltcG9ydCB7XHJcbi8vICAgZ2V0RmlyZXN0b3JlLFxyXG4vLyAgIGNvbGxlY3Rpb24sXHJcbi8vICAgZ2V0RG9jcyxcclxuLy8gICBxdWVyeSxcclxuLy8gICB3aGVyZSxcclxuLy8gICBUaW1lc3RhbXAsXHJcbi8vICAgZG9jLFxyXG4vLyAgIGdldERvYyxcclxuLy8gfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG4vLyBpbXBvcnQgeyBnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuLy8gaW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJ0AvZmlyZWJhc2UnO1xyXG4vLyBpbXBvcnQgTGF5b3V0IGZyb20gJ0AvYXBwL0NvbXBvbmVudHMvTGF5b3V0JztcclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluVXNlcldhbGxldHNQYWdlKCkge1xyXG4vLyAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKGZpcmViYXNlQXBwKTtcclxuLy8gICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7XHJcblxyXG4vLyAgIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGUoW10pO1xyXG4vLyAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4vLyAgIGNvbnN0IFtzZWFyY2gsIHNldFNlYXJjaF0gPSB1c2VTdGF0ZSgnJyk7XHJcbi8vICAgY29uc3QgW2N1cnJlbnRVc2VyLCBzZXRDdXJyZW50VXNlcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuLy8gICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbi8vICAgdXNlRWZmZWN0KCgpID0+IHtcclxuLy8gICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKSA9PiB7XHJcbi8vICAgICAgIHNldEN1cnJlbnRVc2VyKHVzZXIpO1xyXG4vLyAgICAgICBpZiAodXNlcikge1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXIudWlkKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyU25hcCA9IGF3YWl0IGdldERvYyh1c2VyUmVmKTtcclxuLy8gICAgICAgICBjb25zdCBkYXRhID0gdXNlclNuYXAuZGF0YSgpO1xyXG4vLyAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gZGF0YT8ucm9sZSB8fCAndXNlcic7XHJcbi8vICAgICAgICAgc2V0Um9sZSh1c2VyUm9sZSk7XHJcblxyXG4vLyAgICAgICAgIGlmICh1c2VyUm9sZSA9PT0gJ2FkbWluJyB8fCB1c2VyUm9sZSA9PT0gJ3N1YmFkbWluJykge1xyXG4vLyAgICAgICAgICAgYXdhaXQgZmV0Y2hVc2VyV2FsbGV0RGF0YSh1c2VyLnVpZCwgdXNlclJvbGUpO1xyXG4vLyAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICBzZXRVc2VycyhbXSk7XHJcbi8vICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4vLyAgIH0sIFtdKTtcclxuXHJcbi8vICAgY29uc3QgZmV0Y2hVc2VyV2FsbGV0RGF0YSA9IGFzeW5jICh1aWQsIHJvbGUpID0+IHtcclxuLy8gICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcblxyXG4vLyAgICAgdHJ5IHtcclxuLy8gICAgICAgY29uc3Qgd2FsbGV0Q29sID0gY29sbGVjdGlvbihkYiwgJ3N1YndhbGxldHMnKTtcclxuLy8gICAgICAgbGV0IHdhbGxldFF1ZXJ5O1xyXG5cclxuLy8gICAgICAgaWYgKHJvbGUgPT09ICdhZG1pbicpIHtcclxuLy8gICAgICAgICB3YWxsZXRRdWVyeSA9IHdhbGxldENvbDsgLy8gZ2V0IGFsbFxyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHdhbGxldFF1ZXJ5ID0gcXVlcnkod2FsbGV0Q29sLCB3aGVyZSgnc3ViQWRtaW5JZCcsICc9PScsIHVpZCkpOyAvLyBvbmx5IHRoZWlyIHVzZXJzXHJcbi8vICAgICAgIH1cclxuXHJcbi8vICAgICAgIGNvbnN0IHdhbGxldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyh3YWxsZXRRdWVyeSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXRzID0gd2FsbGV0c1NuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuLy8gICAgICAgICB1aWQ6IGRvYy5pZCxcclxuLy8gICAgICAgICBiYWxhbmNlOiBkb2MuZGF0YSgpLmJhbGFuY2UgfHwgMCxcclxuLy8gICAgICAgICBlbWFpbDogZG9jLmRhdGEoKS5lbWFpbCB8fCAnJyxcclxuLy8gICAgICAgfSkpO1xyXG5cclxuLy8gICAgICAgY29uc3Qgb25lV2Vla0FnbyA9IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IGRlcG9zaXRTbmFwID0gYXdhaXQgZ2V0RG9jcyhcclxuLy8gICAgICAgICBxdWVyeShcclxuLy8gICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdkZXBvc2l0UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuLy8gICAgICAgICAgIHdoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBvbmVXZWVrQWdvKVxyXG4vLyAgICAgICAgIClcclxuLy8gICAgICAgKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3U25hcCA9IGF3YWl0IGdldERvY3MoXHJcbi8vICAgICAgICAgcXVlcnkoXHJcbi8vICAgICAgICAgICBjb2xsZWN0aW9uKGRiLCAnd2l0aGRyYXdSZXF1ZXN0cycpLFxyXG4vLyAgICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpLFxyXG4vLyAgICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pXHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICApO1xyXG5cclxuLy8gICAgICAgY29uc3QgZGVwb3NpdE1hcCA9IHt9O1xyXG4vLyAgICAgICBkZXBvc2l0U25hcC5mb3JFYWNoKChkb2MpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcclxuLy8gICAgICAgICBpZiAoIWRlcG9zaXRNYXBbZGF0YS51aWRdKSBkZXBvc2l0TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgZGVwb3NpdE1hcFtkYXRhLnVpZF0gKz0gZGF0YS5hbW91bnQgfHwgMDtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd01hcCA9IHt9O1xyXG4vLyAgICAgICB3aXRoZHJhd1NuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbi8vICAgICAgICAgaWYgKCF3aXRoZHJhd01hcFtkYXRhLnVpZF0pIHdpdGhkcmF3TWFwW2RhdGEudWlkXSA9IDA7XHJcbi8vICAgICAgICAgd2l0aGRyYXdNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgZmluYWxVc2VycyA9IHdhbGxldHMubWFwKCh1c2VyKSA9PiAoe1xyXG4vLyAgICAgICAgIC4uLnVzZXIsXHJcbi8vICAgICAgICAgdG90YWxEZXBvc2l0ZWQ6IGRlcG9zaXRNYXBbdXNlci51aWRdIHx8IDAsXHJcbi8vICAgICAgICAgdG90YWxXaXRoZHJhd246IHdpdGhkcmF3TWFwW3VzZXIudWlkXSB8fCAwLFxyXG4vLyAgICAgICB9KSk7XHJcblxyXG4vLyAgICAgICBzZXRVc2VycyhmaW5hbFVzZXJzKTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgd2FsbGV0IGRhdGE6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3IgbG9hZGluZyB3YWxsZXQgZGF0YS4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBleHBvcnRUb0NTViA9ICgpID0+IHtcclxuLy8gICAgIGNvbnN0IGhlYWRlcnMgPSBbJ0VtYWlsJywgJ0JhbGFuY2UnLCAnRGVwb3NpdGVkICg3IGRheXMpJywgJ1dpdGhkcmF3biAoNyBkYXlzKSddO1xyXG4vLyAgICAgY29uc3Qgcm93cyA9IHVzZXJzLm1hcCgodSkgPT4gW3UuZW1haWwsIHUuYmFsYW5jZSwgdS50b3RhbERlcG9zaXRlZCwgdS50b3RhbFdpdGhkcmF3bl0pO1xyXG4vLyAgICAgY29uc3QgY3N2Q29udGVudCA9IFtoZWFkZXJzLCAuLi5yb3dzXS5tYXAoKHIpID0+IHIuam9pbignLCcpKS5qb2luKCdcXG4nKTtcclxuXHJcbi8vICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7XHJcbi8vICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4vLyAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd1c2VyX3dhbGxldHMuY3N2Jyk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4vLyAgICAgbGluay5jbGljaygpO1xyXG4vLyAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBmaWx0ZXJlZFVzZXJzID0gdXNlcnMuZmlsdGVyKCh1KSA9PlxyXG4vLyAgICAgdS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaC50b0xvd2VyQ2FzZSgpKVxyXG4vLyAgICk7XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNXhsIG14LWF1dG9cIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItNlwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJ1xyXG4vLyAgICAgICAgICAgICAgID8gJ0FkbWluOiBBbGwgU3ViYWRtaW4gJiBVc2VyIFdhbGxldHMnXHJcbi8vICAgICAgICAgICAgICAgOiAnU3ViYWRtaW46IFlvdXIgVXNlciBXYWxsZXRzJ31cclxuLy8gICAgICAgICAgIDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi02XCI+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuLy8gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBlbWFpbC4uLlwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaH1cclxuLy8gICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4vLyAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgb25DbGljaz17ZXhwb3J0VG9DU1Z9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIHJvdW5kZWQgZm9udC1zZW1pYm9sZFwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICBFeHBvcnQgQ1NWIGRrXHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMFwiPkxvYWRpbmcuLi48L3A+XHJcbi8vICAgICAgICAgICApIDogZmlsdGVyZWRVc2Vycy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB1c2VycyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0byBiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy14bFwiPlxyXG4vLyAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRhYmxlLWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCB0ZXh0LXNtIHVwcGVyY2FzZSB0ZXh0LWdyYXktMzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RW1haWw8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5CYWxhbmNlPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RGVwb3NpdGVkICg3ZCk8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5XaXRoZHJhd24gKDdkKTwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4vLyAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4vLyAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRVc2Vycy5tYXAoKHVzZXIpID0+IChcclxuLy8gICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXt1c2VyLnVpZH0gY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+e3VzZXIuZW1haWwgfHwgJ04vQSd9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci5iYWxhbmNlfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIudG90YWxEZXBvc2l0ZWR9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci50b3RhbFdpdGhkcmF3bn08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuLy8gICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICl9XHJcbi8vICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG5cclxuXHJcbid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1xyXG4gIGdldEZpcmVzdG9yZSxcclxuICBjb2xsZWN0aW9uLFxyXG4gIGdldERvY3MsXHJcbiAgcXVlcnksXHJcbiAgd2hlcmUsXHJcbiAgVGltZXN0YW1wLFxyXG4gIGRvYyxcclxuICBnZXREb2MsXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZ2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICdAL2ZpcmViYXNlJztcclxuaW1wb3J0IExheW91dCBmcm9tICdAL2FwcC9Db21wb25lbnRzL0xheW91dCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZG1pblVzZXJXYWxsZXRzUGFnZSgpIHtcclxuICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbiAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuICBjb25zdCBbdXNlcnMsIHNldFVzZXJzXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4gICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbiAgICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHVzZXJTbmFwLmRhdGEoKTtcclxuICAgICAgICBjb25zdCB1c2VyUm9sZSA9IGRhdGE/LnJvbGUgfHwgJ3VzZXInO1xyXG4gICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuICAgICAgICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicgfHwgdXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuICAgICAgICAgIGF3YWl0IGZldGNoVXNlcldhbGxldERhdGEodXNlci51aWQsIHVzZXJSb2xlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0VXNlcnMoW10pO1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIGNvbnN0IGZldGNoVXNlcldhbGxldERhdGEgPSBhc3luYyAodWlkLCByb2xlKSA9PiB7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHdhbGxldENvbCA9IGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyk7XHJcbiAgICAgIGxldCB3YWxsZXRRdWVyeTtcclxuXHJcbiAgICAgIGlmIChyb2xlID09PSAnYWRtaW4nKSB7XHJcbiAgICAgICAgd2FsbGV0UXVlcnkgPSB3YWxsZXRDb2w7IC8vIGFsbCB3YWxsZXRzXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2FsbGV0UXVlcnkgPSBxdWVyeSh3YWxsZXRDb2wsIHdoZXJlKCdzdWJBZG1pbklkJywgJz09JywgdWlkKSk7IC8vIHN1YmFkbWluLXNwZWNpZmljXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHdhbGxldHNTbmFwID0gYXdhaXQgZ2V0RG9jcyh3YWxsZXRRdWVyeSk7XHJcblxyXG4gICAgICBjb25zdCB3YWxsZXRzID0gd2FsbGV0c1NuYXAuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgICAgICB1aWQ6IGRvYy5pZCxcclxuICAgICAgICBiYWxhbmNlOiBkb2MuZGF0YSgpLmJhbGFuY2UgfHwgMCxcclxuICAgICAgICBlbWFpbDogZG9jLmRhdGEoKS5lbWFpbCB8fCAnJyxcclxuICAgICAgfSkpO1xyXG5cclxuICAgICAgY29uc3Qgb25lV2Vla0FnbyA9IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShEYXRlLm5vdygpIC0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuXHJcbiAgICAgIC8vIERlcG9zaXQgUmVxdWVzdHMgKGZpbHRlcmVkIGZvciBzdWJhZG1pbilcclxuICAgICAgY29uc3QgZGVwb3NpdFNuYXAgPSBhd2FpdCBnZXREb2NzKFxyXG4gICAgICAgIC8vIHF1ZXJ5KFxyXG4gICAgICAgIC8vICAgY29sbGVjdGlvbihkYiwgJ3N1YmRlcG9zaXRSZXF1ZXN0cycpLFxyXG4gICAgICAgIC8vICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpLFxyXG4gICAgICAgIC8vICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pLFxyXG4gICAgICAgIC8vICAgLi4uKHJvbGUgPT09ICdzdWJhZG1pbicgPyBbd2hlcmUoJ2Zyb21Vc2VyU3ViQWRtaW5JZCcsICc9PScsIHVpZCldIDogW10pXHJcbiAgICAgICAgLy8gKVxyXG4gICAgICAgIHF1ZXJ5KFxyXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YmRlcG9zaXRSZXF1ZXN0cycpLFxyXG4gICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpLFxyXG4gICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pLFxyXG4gICAgICAgICAgd2hlcmUoJ2Zyb21Vc2VyU3ViQWRtaW5JZCcsICc9PScsIHVpZClcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBXaXRoZHJhdyBSZXF1ZXN0cyAoZmlsdGVyZWQgZm9yIHN1YmFkbWluKVxyXG4vLyAgICAgICBjb25zdCB3aXRoZHJhd1NuYXAgPSBhd2FpdCBnZXREb2NzKFxyXG4vLyAgICAgICAgIC8vIHF1ZXJ5KFxyXG4vLyAgICAgICAgIC8vICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAvLyAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuLy8gICAgICAgICAvLyAgIHdoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBvbmVXZWVrQWdvKSxcclxuLy8gICAgICAgICAvLyAgIC4uLihyb2xlID09PSAnc3ViYWRtaW4nID8gW3doZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpXSA6IFtdKVxyXG4vLyAgICAgICAgIC8vIClcclxuLy8gICAgICAgICBxdWVyeShcclxuLy8gICBjb2xsZWN0aW9uKGRiLCAnc3ViZGVwb3NpdFJlcXVlc3RzJyksXHJcbi8vICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdhcHByb3ZlZCcpLFxyXG4vLyAgIHdoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBvbmVXZWVrQWdvKSxcclxuLy8gICB3aGVyZSgnZnJvbVVzZXJTdWJBZG1pbklkJywgJz09JywgdWlkKVxyXG4vLyApXHJcblxyXG4vLyAgICAgICApO1xyXG5jb25zdCB3aXRoZHJhd1NuYXAgPSBhd2FpdCBnZXREb2NzKFxyXG4gIHF1ZXJ5KFxyXG4gICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuICAgIC4uLihyb2xlID09PSAnc3ViYWRtaW4nID8gW3doZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpXSA6IFtdKVxyXG4gIClcclxuKTtcclxuXHJcbiAgICAgIC8vIEFnZ3JlZ2F0ZSBkZXBvc2l0c1xyXG4gICAgICBjb25zdCBkZXBvc2l0TWFwID0ge307XHJcbiAgICAgIGRlcG9zaXRTbmFwLmZvckVhY2goKGRvYykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgICAgIGlmICghZGVwb3NpdE1hcFtkYXRhLnVpZF0pIGRlcG9zaXRNYXBbZGF0YS51aWRdID0gMDtcclxuICAgICAgICBkZXBvc2l0TWFwW2RhdGEudWlkXSArPSBkYXRhLmFtb3VudCB8fCAwO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEFnZ3JlZ2F0ZSB3aXRoZHJhd2Fsc1xyXG4gICAgICAvLyBjb25zdCB3aXRoZHJhd01hcCA9IHt9O1xyXG4gICAgICAvLyB3aXRoZHJhd1NuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgIC8vICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbiAgICAgIC8vICAgaWYgKCF3aXRoZHJhd01hcFtkYXRhLnVpZF0pIHdpdGhkcmF3TWFwW2RhdGEudWlkXSA9IDA7XHJcbiAgICAgIC8vICAgd2l0aGRyYXdNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbiAgICAgIC8vIH0pO1xyXG5jb25zdCB3aXRoZHJhd01hcCA9IHt9O1xyXG53aXRoZHJhd1NuYXAuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbiAgaWYgKCF3aXRoZHJhd01hcFtkYXRhLnVpZF0pIHdpdGhkcmF3TWFwW2RhdGEudWlkXSA9IFtdO1xyXG4gIHdpdGhkcmF3TWFwW2RhdGEudWlkXS5wdXNoKHtcclxuICAgIGFtb3VudDogZGF0YS5hbW91bnQsXHJcbiAgICBhcHByb3ZlZEF0OiBkYXRhLmFwcHJvdmVkQXQ/LnRvRGF0ZSgpLFxyXG4gIH0pO1xyXG59KTtcclxuXHJcbiAgICAgIC8vIEZpbmFsIG1lcmdlZCB1c2VyIGRhdGFcclxuICAgICAgY29uc3QgZmluYWxVc2VycyA9IHdhbGxldHMubWFwKCh1c2VyKSA9PiAoe1xyXG4gICAgICAgIC4uLnVzZXIsXHJcbiAgICAgICAgdG90YWxEZXBvc2l0ZWQ6IGRlcG9zaXRNYXBbdXNlci51aWRdIHx8IDAsXHJcbiAgICAgICAgLy8gdG90YWxXaXRoZHJhd246IHdpdGhkcmF3TWFwW3VzZXIudWlkXSB8fCAwLFxyXG4gICAgICAgIHdpdGhkcmF3YWxzOiB3aXRoZHJhd01hcFt1c2VyLnVpZF0gfHwgW10sXHJcblxyXG4gICAgICB9KSk7XHJcblxyXG4gICAgICBzZXRVc2VycyhmaW5hbFVzZXJzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHdhbGxldCBkYXRhOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0Vycm9yIGxvYWRpbmcgd2FsbGV0IGRhdGEuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gY29uc3QgZXhwb3J0VG9DU1YgPSAoKSA9PiB7XHJcbiAgLy8gICBjb25zdCBoZWFkZXJzID0gWydFbWFpbCcsICdCYWxhbmNlJywgJ0RlcG9zaXRlZCAoNyBkYXlzKScsICdXaXRoZHJhd24gKDcgZGF5cyknXTtcclxuICAvLyAgIGNvbnN0IHJvd3MgPSB1c2Vycy5tYXAoKHUpID0+IFt1LmVtYWlsLCB1LmJhbGFuY2UsIHUudG90YWxEZXBvc2l0ZWQsIHUudG90YWxXaXRoZHJhd25dKTtcclxuICAvLyAgIGNvbnN0IGNzdkNvbnRlbnQgPSBbaGVhZGVycywgLi4ucm93c10ubWFwKChyKSA9PiByLmpvaW4oJywnKSkuam9pbignXFxuJyk7XHJcblxyXG4gIC8vICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjc3ZDb250ZW50XSwgeyB0eXBlOiAndGV4dC9jc3Y7Y2hhcnNldD11dGYtODsnIH0pO1xyXG4gIC8vICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAvLyAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgLy8gICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCk7XHJcbiAgLy8gICBsaW5rLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAndXNlcl93YWxsZXRzLmNzdicpO1xyXG4gIC8vICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcclxuICAvLyAgIGxpbmsuY2xpY2soKTtcclxuICAvLyAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbiAgLy8gfTtcclxuXHJcbiAgY29uc3QgZmlsdGVyZWRVc2VycyA9IHVzZXJzLmZpbHRlcigodSkgPT5cclxuICAgIHUuZW1haWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gudG9Mb3dlckNhc2UoKSlcclxuICApO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgLy8gPExheW91dD5cclxuICAgIC8vICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuICAgIC8vICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTV4bCBteC1hdXRvXCI+XHJcbiAgICAvLyAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIG1iLTZcIj5cclxuICAgIC8vICAgICAgICAge3JvbGUgPT09ICdhZG1pbidcclxuICAgIC8vICAgICAgICAgICA/ICdBZG1pbjogQWxsIFN1YmFkbWluICYgVXNlciBXYWxsZXRzJ1xyXG4gICAgLy8gICAgICAgICAgIDogJ1N1YmFkbWluOiBZb3VyIFVzZXIgV2FsbGV0cyd9XHJcbiAgICAvLyAgICAgICA8L2gxPlxyXG5cclxuICAgIC8vICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgbWItNlwiPlxyXG4gICAgLy8gICAgICAgICA8aW5wdXRcclxuICAgIC8vICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAvLyAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgZW1haWwuLi5cIlxyXG4gICAgLy8gICAgICAgICAgIHZhbHVlPXtzZWFyY2h9XHJcbiAgICAvLyAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfVxyXG4gICAgLy8gICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiByb3VuZGVkIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS02MDAgZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgIC8vICAgICAgICAgLz5cclxuICAgIC8vICAgICAgICAgPGJ1dHRvblxyXG4gICAgLy8gICAgICAgICAgIG9uQ2xpY2s9e2V4cG9ydFRvQ1NWfVxyXG4gICAgLy8gICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLXllbGxvdy02MDAgdGV4dC1ibGFjayByb3VuZGVkIGZvbnQtc2VtaWJvbGRcIlxyXG4gICAgLy8gICAgICAgICA+XHJcbiAgICAvLyAgICAgICAgICAgRXhwb3J0IENTVlxyXG4gICAgLy8gICAgICAgICA8L2J1dHRvbj5cclxuICAgIC8vICAgICAgIDwvZGl2PlxyXG5cclxuICAgIC8vICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgLy8gICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIj5Mb2FkaW5nLi4uPC9wPlxyXG4gICAgLy8gICAgICAgKSA6IGZpbHRlcmVkVXNlcnMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgLy8gICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Tm8gdXNlcnMgZm91bmQuPC9wPlxyXG4gICAgLy8gICAgICAgKSA6IChcclxuICAgIC8vICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG8gYmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3cteGxcIj5cclxuICAgIC8vICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCB0YWJsZS1hdXRvXCI+XHJcbiAgICAvLyAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS03MDAgdGV4dC1zbSB1cHBlcmNhc2UgdGV4dC1ncmF5LTMwMFwiPlxyXG4gICAgLy8gICAgICAgICAgICAgICA8dHI+XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkVtYWlsPC90aD5cclxuICAgIC8vICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+QmFsYW5jZTwvdGg+XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkRlcG9zaXRlZCAoN2QpPC90aD5cclxuICAgIC8vICAgICAgICAgICAgICAgICB7LyogPHRoIGNsYXNzTmFtZT1cInAtM1wiPldpdGhkcmF3biAoN2QpPC90aD5cclxuICAgIC8vICAgICAgICAgICAgICAgPC90cj4gKi99XHJcbiAgICAvLyAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5XaXRoZHJhd2FsczwvdGg+XHJcblxyXG4gICAgLy8gICAgICAgICAgICAgPC90aGVhZD5cclxuICAgIC8vICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgIC8vICAgICAgICAgICAgICAge2ZpbHRlcmVkVXNlcnMubWFwKCh1c2VyKSA9PiAoXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci51aWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTcwMFwiPlxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPnt1c2VyLmVtYWlsIHx8ICdOL0EnfTwvdGQ+XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIuYmFsYW5jZX08L3RkPlxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPuKCuXt1c2VyLnRvdGFsRGVwb3NpdGVkfTwvdGQ+XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIuV2l0aGRyYXdufTwvdGQ+XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgIC8vICAgICAgICAgICAgICAgKSl9XHJcbiAgICAvLyAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgLy8gICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAvLyAgICAgICAgIDwvZGl2PlxyXG4gICAgLy8gICAgICAgKX1cclxuICAgIC8vICAgICA8L2Rpdj5cclxuICAgIC8vICAgPC9kaXY+XHJcbiAgICAvLyA8L0xheW91dD5cclxuICAgIDxMYXlvdXQ+XHJcbiAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS05MDAgdGV4dC13aGl0ZSBwLThcIj5cclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNXhsIG14LWF1dG9cIj5cclxuICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBtYi02XCI+XHJcbiAgICAgICAge3JvbGUgPT09ICdhZG1pbidcclxuICAgICAgICAgID8gJ0FkbWluOiBBbGwgU3ViYWRtaW4gJiBVc2VyIFdhbGxldHMnXHJcbiAgICAgICAgICA6ICdTdWJhZG1pbjogWW91ciBVc2VyIFdhbGxldHMnfVxyXG4gICAgICA8L2gxPlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi02XCI+XHJcbiAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBlbWFpbC4uLlwiXHJcbiAgICAgICAgICB2YWx1ZT17c2VhcmNofVxyXG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2goZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17ZXhwb3J0VG9DU1Z9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmcteWVsbG93LTUwMCBob3ZlcjpiZy15ZWxsb3ctNjAwIHRleHQtYmxhY2sgcm91bmRlZCBmb250LXNlbWlib2xkXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICBFeHBvcnQgQ1NWXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctMzAwXCI+TG9hZGluZy4uLjwvcD5cclxuICAgICAgKSA6IGZpbHRlcmVkVXNlcnMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB1c2VycyBmb3VuZC48L3A+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG8gYmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3cteGxcIj5cclxuICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRhYmxlLWF1dG9cIj5cclxuICAgICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJnLWdyYXktNzAwIHRleHQtc20gdXBwZXJjYXNlIHRleHQtZ3JheS0zMDBcIj5cclxuICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RW1haWw8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkJhbGFuY2U8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoIGNsYXNzTmFtZT1cInAtM1wiPkRlcG9zaXRlZCAoN2QpPC90aD5cclxuICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5XaXRoZHJhd2FsczwvdGg+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgIHtmaWx0ZXJlZFVzZXJzLm1hcCgodXNlcikgPT4gKFxyXG4gICAgICAgICAgICAgICAgPHRyIGtleT17dXNlci51aWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTcwMCBhbGlnbi10b3BcIj5cclxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInAtM1wiPnt1c2VyLmVtYWlsIHx8ICdOL0EnfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci5iYWxhbmNlfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci50b3RhbERlcG9zaXRlZH08L3RkPlxyXG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICB7dXNlci53aXRoZHJhd2Fscz8ubGVuZ3RoID4gMCA/IChcclxuICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIud2l0aGRyYXdhbHMubWFwKCh3LCBpZHgpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpZHh9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg4oK5e3cuYW1vdW50fSBvbnsnICd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dy5hcHByb3ZlZEF0Py50b0xvY2FsZURhdGVTdHJpbmcoKX0gYXR7JyAnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3cuYXBwcm92ZWRBdD8udG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Tm8gd2l0aGRyYXdhbHM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvTGF5b3V0PlxyXG5cclxuICApO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4vLyAndXNlIGNsaWVudCc7XHJcblxyXG4vLyBpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuLy8gaW1wb3J0IHtcclxuLy8gICBnZXRGaXJlc3RvcmUsXHJcbi8vICAgY29sbGVjdGlvbixcclxuLy8gICBnZXREb2NzLFxyXG4vLyAgIHF1ZXJ5LFxyXG4vLyAgIHdoZXJlLFxyXG4vLyAgIFRpbWVzdGFtcCxcclxuLy8gICBkb2MsXHJcbi8vICAgZ2V0RG9jLFxyXG4vLyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbi8vIGltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG4vLyBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnQC9maXJlYmFzZSc7XHJcbi8vIGltcG9ydCBMYXlvdXQgZnJvbSAnQC9hcHAvQ29tcG9uZW50cy9MYXlvdXQnO1xyXG5cclxuLy8gZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFnZSgpIHtcclxuLy8gICBjb25zdCBhdXRoID0gZ2V0QXV0aChmaXJlYmFzZUFwcCk7XHJcbi8vICAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApO1xyXG5cclxuLy8gICBjb25zdCBbdXNlcnMsIHNldFVzZXJzXSA9IHVzZVN0YXRlKFtdKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuLy8gICBjb25zdCBbc2VhcmNoLCBzZXRTZWFyY2hdID0gdXNlU3RhdGUoJycpO1xyXG4vLyAgIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XHJcbi8vICAgY29uc3QgW3JvbGUsIHNldFJvbGVdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4vLyAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcikgPT4ge1xyXG4vLyAgICAgICBzZXRDdXJyZW50VXNlcih1c2VyKTtcclxuLy8gICAgICAgaWYgKHVzZXIpIHtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCk7XHJcbi8vICAgICAgICAgY29uc3QgdXNlclNuYXAgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbi8vICAgICAgICAgY29uc3QgZGF0YSA9IHVzZXJTbmFwLmRhdGEoKTtcclxuLy8gICAgICAgICBjb25zdCB1c2VyUm9sZSA9IGRhdGE/LnJvbGUgfHwgJ3VzZXInO1xyXG4vLyAgICAgICAgIHNldFJvbGUodXNlclJvbGUpO1xyXG5cclxuLy8gICAgICAgICBpZiAodXNlclJvbGUgPT09ICdhZG1pbicgfHwgdXNlclJvbGUgPT09ICdzdWJhZG1pbicpIHtcclxuLy8gICAgICAgICAgIGF3YWl0IGZldGNoVXNlcldhbGxldERhdGEodXNlci51aWQsIHVzZXJSb2xlKTtcclxuLy8gICAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgICAgc2V0VXNlcnMoW10pO1xyXG4vLyAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuLy8gICB9LCBbXSk7XHJcblxyXG4vLyAgIGNvbnN0IGZldGNoVXNlcldhbGxldERhdGEgPSBhc3luYyAodWlkLCByb2xlKSA9PiB7XHJcbi8vICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG5cclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldENvbCA9IGNvbGxlY3Rpb24oZGIsICdzdWJ3YWxsZXRzJyk7XHJcbi8vICAgICAgIGNvbnN0IHdhbGxldFF1ZXJ5ID1cclxuLy8gICAgICAgICByb2xlID09PSAnYWRtaW4nXHJcbi8vICAgICAgICAgICA/IHdhbGxldENvbFxyXG4vLyAgICAgICAgICAgOiBxdWVyeSh3YWxsZXRDb2wsIHdoZXJlKCdzdWJBZG1pbklkJywgJz09JywgdWlkKSk7XHJcblxyXG4vLyAgICAgICBjb25zdCB3YWxsZXRzU25hcCA9IGF3YWl0IGdldERvY3Mod2FsbGV0UXVlcnkpO1xyXG5cclxuLy8gICAgICAgY29uc3Qgd2FsbGV0cyA9IHdhbGxldHNTbmFwLmRvY3MubWFwKChkb2MpID0+ICh7XHJcbi8vICAgICAgICAgdWlkOiBkb2MuaWQsXHJcbi8vICAgICAgICAgYmFsYW5jZTogZG9jLmRhdGEoKS5iYWxhbmNlIHx8IDAsXHJcbi8vICAgICAgICAgZW1haWw6IGRvYy5kYXRhKCkuZW1haWwgfHwgJycsXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IG9uZVdlZWtBZ28gPSBUaW1lc3RhbXAuZnJvbURhdGUoXHJcbi8vICAgICAgICAgbmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKVxyXG4vLyAgICAgICApO1xyXG5cclxuLy8gICAgICAgY29uc3QgZGVwb3NpdFF1ZXJ5ID1cclxuLy8gICAgICAgICByb2xlID09PSAnYWRtaW4nXHJcbi8vICAgICAgICAgICA/IHF1ZXJ5KFxyXG4vLyAgICAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdzdWJkZXBvc2l0UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ2FwcHJvdmVkJyksXHJcbi8vICAgICAgICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pXHJcbi8vICAgICAgICAgICAgIClcclxuLy8gICAgICAgICAgIDogcXVlcnkoXHJcbi8vICAgICAgICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YmRlcG9zaXRSZXF1ZXN0cycpLFxyXG4vLyAgICAgICAgICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAnYXBwcm92ZWQnKSxcclxuLy8gICAgICAgICAgICAgICB3aGVyZSgnY3JlYXRlZEF0JywgJz49Jywgb25lV2Vla0FnbyksXHJcbi8vICAgICAgICAgICAgICAgd2hlcmUoJ2Zyb21Vc2VyU3ViQWRtaW5JZCcsICc9PScsIHVpZClcclxuLy8gICAgICAgICAgICAgKTtcclxuXHJcbi8vICAgICAgIGNvbnN0IHdpdGhkcmF3UXVlcnkgPVxyXG4vLyAgICAgICAgIHJvbGUgPT09ICdhZG1pbidcclxuLy8gICAgICAgICAgID8gcXVlcnkoXHJcbi8vICAgICAgICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ2FwcHJvdmVkJyksXHJcbi8vICAgICAgICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pXHJcbi8vICAgICAgICAgICAgIClcclxuLy8gICAgICAgICAgIDogcXVlcnkoXHJcbi8vICAgICAgICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3N1YndpdGhkcmF3UmVxdWVzdHMnKSxcclxuLy8gICAgICAgICAgICAgICB3aGVyZSgnc3RhdHVzJywgJz09JywgJ2FwcHJvdmVkJyksXHJcbi8vICAgICAgICAgICAgICAgd2hlcmUoJ2NyZWF0ZWRBdCcsICc+PScsIG9uZVdlZWtBZ28pLFxyXG4vLyAgICAgICAgICAgICAgIHdoZXJlKCdmcm9tVXNlclN1YkFkbWluSWQnLCAnPT0nLCB1aWQpXHJcbi8vICAgICAgICAgICAgICk7XHJcblxyXG4vLyAgICAgICBjb25zdCBbZGVwb3NpdFNuYXAsIHdpdGhkcmF3U25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbi8vICAgICAgICAgZ2V0RG9jcyhkZXBvc2l0UXVlcnkpLFxyXG4vLyAgICAgICAgIGdldERvY3Mod2l0aGRyYXdRdWVyeSksXHJcbi8vICAgICAgIF0pO1xyXG5cclxuLy8gICAgICAgY29uc3QgZGVwb3NpdE1hcCA9IHt9O1xyXG4vLyAgICAgICBkZXBvc2l0U25hcC5mb3JFYWNoKChkb2MpID0+IHtcclxuLy8gICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcclxuLy8gICAgICAgICBpZiAoIWRhdGEudWlkKSByZXR1cm47XHJcbi8vICAgICAgICAgaWYgKCFkZXBvc2l0TWFwW2RhdGEudWlkXSkgZGVwb3NpdE1hcFtkYXRhLnVpZF0gPSAwO1xyXG4vLyAgICAgICAgIGRlcG9zaXRNYXBbZGF0YS51aWRdICs9IGRhdGEuYW1vdW50IHx8IDA7XHJcbi8vICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgY29uc3Qgd2l0aGRyYXdNYXAgPSB7fTtcclxuLy8gICAgICAgd2l0aGRyYXdTbmFwLmZvckVhY2goKGRvYykgPT4ge1xyXG4vLyAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4vLyAgICAgICAgIGlmICghZGF0YS51aWQpIHJldHVybjtcclxuLy8gICAgICAgICBpZiAoIXdpdGhkcmF3TWFwW2RhdGEudWlkXSkgd2l0aGRyYXdNYXBbZGF0YS51aWRdID0gMDtcclxuLy8gICAgICAgICB3aXRoZHJhd01hcFtkYXRhLnVpZF0gKz0gZGF0YS5hbW91bnQgfHwgMDtcclxuLy8gICAgICAgfSk7XHJcblxyXG4vLyAgICAgICBjb25zdCBmaW5hbFVzZXJzID0gd2FsbGV0cy5tYXAoKHVzZXIpID0+ICh7XHJcbi8vICAgICAgICAgLi4udXNlcixcclxuLy8gICAgICAgICB0b3RhbERlcG9zaXRlZDogZGVwb3NpdE1hcFt1c2VyLnVpZF0gfHwgMCxcclxuLy8gICAgICAgICB0b3RhbFdpdGhkcmF3bjogd2l0aGRyYXdNYXBbdXNlci51aWRdIHx8IDAsXHJcbi8vICAgICAgIH0pKTtcclxuXHJcbi8vICAgICAgIHNldFVzZXJzKGZpbmFsVXNlcnMpO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgd2FsbGV0IGRhdGE6JywgZXJyb3IpO1xyXG4vLyAgICAgICBhbGVydCgnRXJyb3IgbG9hZGluZyB3YWxsZXQgZGF0YS4nKTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBleHBvcnRUb0NTViA9ICgpID0+IHtcclxuLy8gICAgIGNvbnN0IGhlYWRlcnMgPSBbJ0VtYWlsJywgJ0JhbGFuY2UnLCAnRGVwb3NpdGVkICg3IGRheXMpJywgJ1dpdGhkcmF3biAoNyBkYXlzKSddO1xyXG4vLyAgICAgY29uc3Qgcm93cyA9IHVzZXJzLm1hcCgodSkgPT4gW3UuZW1haWwsIHUuYmFsYW5jZSwgdS50b3RhbERlcG9zaXRlZCwgdS50b3RhbFdpdGhkcmF3bl0pO1xyXG4vLyAgICAgY29uc3QgY3N2Q29udGVudCA9IFtoZWFkZXJzLCAuLi5yb3dzXS5tYXAoKHIpID0+IHIuam9pbignLCcpKS5qb2luKCdcXG4nKTtcclxuXHJcbi8vICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NzdkNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04OycgfSk7XHJcbi8vICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4vLyAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcclxuLy8gICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd1c2VyX3dhbGxldHMuY3N2Jyk7XHJcbi8vICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xyXG4vLyAgICAgbGluay5jbGljaygpO1xyXG4vLyAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcclxuLy8gICB9O1xyXG5cclxuLy8gICBjb25zdCBmaWx0ZXJlZFVzZXJzID0gdXNlcnMuZmlsdGVyKCh1KSA9PlxyXG4vLyAgICAgdS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaC50b0xvd2VyQ2FzZSgpKVxyXG4vLyAgICk7XHJcblxyXG4vLyAgIHJldHVybiAoXHJcbi8vICAgICA8TGF5b3V0PlxyXG4vLyAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHAtOFwiPlxyXG4vLyAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNXhsIG14LWF1dG9cIj5cclxuLy8gICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItNlwiPlxyXG4vLyAgICAgICAgICAgICB7cm9sZSA9PT0gJ2FkbWluJ1xyXG4vLyAgICAgICAgICAgICAgID8gJ0FkbWluOiBBbGwgU3ViYWRtaW4gJiBVc2VyIFdhbGxldHMnXHJcbi8vICAgICAgICAgICAgICAgOiAnU3ViYWRtaW46IFlvdXIgVXNlciBXYWxsZXRzJ31cclxuLy8gICAgICAgICAgIDwvaDE+XHJcblxyXG4vLyAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi02XCI+XHJcbi8vICAgICAgICAgICAgIDxpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuLy8gICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBlbWFpbC4uLlwiXHJcbi8vICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaH1cclxuLy8gICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaChlLnRhcmdldC52YWx1ZSl9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHJvdW5kZWQgYmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4vLyAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICA8YnV0dG9uXHJcbi8vICAgICAgICAgICAgICAgb25DbGljaz17ZXhwb3J0VG9DU1Z9XHJcbi8vICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTYwMCB0ZXh0LWJsYWNrIHJvdW5kZWQgZm9udC1zZW1pYm9sZFwiXHJcbi8vICAgICAgICAgICAgID5cclxuLy8gICAgICAgICAgICAgICBFeHBvcnQgQ1NWXHJcbi8vICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4vLyAgICAgICAgICAgPC9kaXY+XHJcblxyXG4vLyAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTMwMFwiPkxvYWRpbmcuLi48L3A+XHJcbi8vICAgICAgICAgICApIDogZmlsdGVyZWRVc2Vycy5sZW5ndGggPT09IDAgPyAoXHJcbi8vICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5ObyB1c2VycyBmb3VuZC48L3A+XHJcbi8vICAgICAgICAgICApIDogKFxyXG4vLyAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0byBiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy14bFwiPlxyXG4vLyAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRhYmxlLWF1dG9cIj5cclxuLy8gICAgICAgICAgICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTcwMCB0ZXh0LXNtIHVwcGVyY2FzZSB0ZXh0LWdyYXktMzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgIDx0cj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RW1haWw8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5CYWxhbmNlPC90aD5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3NOYW1lPVwicC0zXCI+RGVwb3NpdGVkICg3ZCk8L3RoPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzc05hbWU9XCJwLTNcIj5XaXRoZHJhd24gKDdkKTwvdGg+XHJcbi8vICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4vLyAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4vLyAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRVc2Vycy5tYXAoKHVzZXIpID0+IChcclxuLy8gICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXt1c2VyLnVpZH0gY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+e3VzZXIuZW1haWwgfHwgJ04vQSd9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci5iYWxhbmNlfTwvdGQ+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicC0zXCI+4oK5e3VzZXIudG90YWxEZXBvc2l0ZWR9PC90ZD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJwLTNcIj7igrl7dXNlci50b3RhbFdpdGhkcmF3bn08L3RkPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbi8vICAgICAgICAgICAgICAgICAgICkpfVxyXG4vLyAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuLy8gICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4vLyAgICAgICAgICAgICA8L2Rpdj5cclxuLy8gICAgICAgICAgICl9XHJcbi8vICAgICAgICAgPC9kaXY+XHJcbi8vICAgICAgIDwvZGl2PlxyXG4vLyAgICAgPC9MYXlvdXQ+XHJcbi8vICAgKTtcclxuLy8gfVxyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsImdldEZpcmVzdG9yZSIsImNvbGxlY3Rpb24iLCJnZXREb2NzIiwicXVlcnkiLCJ3aGVyZSIsIlRpbWVzdGFtcCIsImRvYyIsImdldERvYyIsImdldEF1dGgiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJmaXJlYmFzZUFwcCIsIkxheW91dCIsIkFkbWluVXNlcldhbGxldHNQYWdlIiwiYXV0aCIsImRiIiwidXNlcnMiLCJzZXRVc2VycyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2VhcmNoIiwic2V0U2VhcmNoIiwiY3VycmVudFVzZXIiLCJzZXRDdXJyZW50VXNlciIsInJvbGUiLCJzZXRSb2xlIiwidW5zdWJzY3JpYmUiLCJ1c2VyIiwidXNlclJlZiIsInVpZCIsInVzZXJTbmFwIiwiZGF0YSIsInVzZXJSb2xlIiwiZmV0Y2hVc2VyV2FsbGV0RGF0YSIsIndhbGxldENvbCIsIndhbGxldFF1ZXJ5Iiwid2FsbGV0c1NuYXAiLCJ3YWxsZXRzIiwiZG9jcyIsIm1hcCIsImlkIiwiYmFsYW5jZSIsImVtYWlsIiwib25lV2Vla0FnbyIsImZyb21EYXRlIiwiRGF0ZSIsIm5vdyIsImRlcG9zaXRTbmFwIiwid2l0aGRyYXdTbmFwIiwiZGVwb3NpdE1hcCIsImZvckVhY2giLCJhbW91bnQiLCJ3aXRoZHJhd01hcCIsInB1c2giLCJhcHByb3ZlZEF0IiwidG9EYXRlIiwiZmluYWxVc2VycyIsInRvdGFsRGVwb3NpdGVkIiwid2l0aGRyYXdhbHMiLCJlcnJvciIsImNvbnNvbGUiLCJhbGVydCIsImZpbHRlcmVkVXNlcnMiLCJmaWx0ZXIiLCJ1IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJleHBvcnRUb0NTViIsInAiLCJsZW5ndGgiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJ0aCIsInRib2R5IiwidGQiLCJ1bCIsInciLCJpZHgiLCJsaSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJzcGFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/app/user-details/page.js\n"));

/***/ })

});